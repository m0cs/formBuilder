/*!
 * formBuilder - https://formbuilder.online/
 * Version: 2.5.4
 * Author: Kevin Chappell <kevin.b.chappell@gmail.com>
 */
(function(t){/******//******/// The require function
/******/function g(e){/******//******/// Check if module is in cache
/******/if(l[e])/******/return l[e].exports;/******//******/// Create a new module (and put it into the cache)
/******/var I=l[e]={/******/i:e,/******/l:!1,/******/exports:{}/******/};/******//******/// Execute the module function
/******//******//******/// Return the exports of the module
/******/return t[e].call(I.exports,I,I.exports,g),I.l=!0,I.exports;/******/}/******//******//******/// expose the modules object (__webpack_modules__)
/******/// webpackBootstrap
/******/// The module cache
/******/var l={};/******//******/// Load entry module and return exports
/******/return g.m=t,g.c=l,g.i=function(e){return e},g.d=function(e,I,c){g.o(e,I)||Object.defineProperty(e,I,{/******/configurable:!1,/******/enumerable:!0,/******/get:c/******/})},g.n=function(e){/******/var I=e&&e.__esModule?/******/function(){return e['default']}:/******/function(){return e};/******//******/return g.d(I,'a',I),I;/******/},g.o=function(e,I){return Object.prototype.hasOwnProperty.call(e,I)},g.p='/assets/js/',g(g.s=142);/******/})(/************************************************************************//******/{/***/106:/* no static exports found *//* all exports used *//*!**************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/~/process/browser.js ***!
  \**************************************************************************//***/function(module,exports){eval('// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don\'t break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn\'t define any globals.  It\'s inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error(\'setTimeout has not been defined\');\n}\nfunction defaultClearTimeout () {\n    throw new Error(\'clearTimeout has not been defined\');\n}\n(function () {\n    try {\n        if (typeof setTimeout === \'function\') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === \'function\') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn\'t available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn\'t available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = \'browser\';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = \'\'; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error(\'process.binding is not supported\');\n};\n\nprocess.cwd = function () { return \'/\' };\nprocess.chdir = function (dir) {\n    throw new Error(\'process.chdir is not supported\');\n};\nprocess.umask = function() { return 0; };\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9tMGNzL0RvY3VtZW50cy9lWHBhbmQvZ2l0L2Zvcm0tYnVpbGRlci9+L3Byb2Nlc3MvYnJvd3Nlci5qcz80MDk3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvbTBjcy9Eb2N1bWVudHMvZVhwYW5kL2dpdC9mb3JtLWJ1aWxkZXIvfi9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDEwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9')},/***/107:/* no static exports found *//* all exports used *//*!*********************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/~/style-loader/addStyles.js ***!
  \*********************************************************************************//***/function(module,exports,__webpack_require__){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\t// Test for IE <= 9 as proposed by Browserhacks\n\t\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t\t// Tests for existence of standard globals is to allow style-loader \n\t\t// to operate correctly into non-standard environments\n\t\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\t\treturn window && document && document.all && !window.atob;\n\t}),\n\tgetElement = (function(fn) {\n\t\tvar memo = {};\n\t\treturn function(selector) {\n\t\t\tif (typeof memo[selector] === "undefined") {\n\t\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t\t}\n\t\t\treturn memo[selector]\n\t\t};\n\t})(function (styleTarget) {\n\t\treturn document.querySelector(styleTarget)\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = __webpack_require__(/*! ./fixUrls */ 108);\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === "undefined") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (typeof options.insertInto === "undefined") options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (typeof options.insertAt === "undefined") options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar styleTarget = getElement(options.insertInto)\n\tif (!styleTarget) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === "top") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\tstyleTarget.insertBefore(styleElement, styleTarget.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\tstyleTarget.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\tstyleTarget.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === "bottom") {\n\t\tstyleTarget.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement("style");\n\toptions.attrs.type = "text/css";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement("link");\n\toptions.attrs.type = "text/css";\n\toptions.attrs.rel = "stylesheet";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute("media", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9tMGNzL0RvY3VtZW50cy9lWHBhbmQvZ2l0L2Zvcm0tYnVpbGRlci9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanM/M2QxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xudmFyIHN0eWxlc0luRG9tID0ge30sXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xuXHRcdHZhciBtZW1vO1xuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIG1lbW87XG5cdFx0fTtcblx0fSxcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XG5cdFx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0XHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdFx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlciBcblx0XHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0XHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0XHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG5cdH0pLFxuXHRnZXRFbGVtZW50ID0gKGZ1bmN0aW9uKGZuKSB7XG5cdFx0dmFyIG1lbW8gPSB7fTtcblx0XHRyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0XHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdFx0bWVtb1tzZWxlY3Rvcl0gPSBmbi5jYWxsKHRoaXMsIHNlbGVjdG9yKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHRcdH07XG5cdH0pKGZ1bmN0aW9uIChzdHlsZVRhcmdldCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0eWxlVGFyZ2V0KVxuXHR9KSxcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdLFxuXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vZml4VXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuXHRpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0SW50byA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcblx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcblx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cdGlmICghc3R5bGVUYXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcFtzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHN0eWxlVGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIHN0eWxlVGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0c3R5bGVUYXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZVRhcmdldC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXHRcdH1cblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHN0eWxlVGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YXR0YWNoVGFnQXR0cnMoc3R5bGVFbGVtZW50LCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhdHRhY2hUYWdBdHRycyhsaW5rRWxlbWVudCwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rRWxlbWVudCk7XG5cdHJldHVybiBsaW5rRWxlbWVudDtcbn1cblxuZnVuY3Rpb24gYXR0YWNoVGFnQXR0cnMoZWxlbWVudCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuXHRcdFx0aWYoc3R5bGVFbGVtZW50LmhyZWYpXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcblx0XHRpZihuZXdPYmopIHtcblx0XHRcdGlmKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcClcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZUVsZW1lbnQsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcblx0XHR9XG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0LyogSWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpe1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XG5cblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKVxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9tMGNzL0RvY3VtZW50cy9lWHBhbmQvZ2l0L2Zvcm0tYnVpbGRlci9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IDEwN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=')},/***/108:/* no static exports found *//* all exports used *//*!*******************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/~/style-loader/fixUrls.js ***!
  \*******************************************************************************//***/function(module,exports){eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9tMGNzL0RvY3VtZW50cy9lWHBhbmQvZ2l0L2Zvcm0tYnVpbGRlci9+L3N0eWxlLWxvYWRlci9maXhVcmxzLmpzP2IxMjYiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvbTBjcy9Eb2N1bWVudHMvZVhwYW5kL2dpdC9mb3JtLWJ1aWxkZXIvfi9zdHlsZS1sb2FkZXIvZml4VXJscy5qc1xuLy8gbW9kdWxlIGlkID0gMTA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==')},/***/109:/* no static exports found *//* all exports used *//*!********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/data.js ***!
  \********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar instanceData = exports.instanceData = {};\n\nvar Data = exports.Data = function Data(formID) {\n  _classCallCheck(this, Data);\n\n  this.formData = {};\n  this.formID = formID;\n  this.layout = \'\';\n  instanceData[formID] = this;\n};\n\nvar availablefields = exports.availablefields = {};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9kYXRhLmpzPzlkZGQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGluc3RhbmNlRGF0YSA9IHt9O1xuXG4vKipcbiAqIERhdGEgQ2xhc3NcbiAqIEB0b2RvICByZWZhY3Rvci4gdGhpcyBzaG91bGQganVzdCBiZSBhIHN0YW5kYXJkIE9iamVjdFxuICogdW5sZXNzIHdlIG1vdmUgYWxsIGRhdGEgZnVuY3Rpb25hbGl0eSBoZXJlLlxuICovXG5leHBvcnQgY2xhc3MgRGF0YSB7XG4gIC8qKlxuICAgKiBTZXQgZGVmYXVsdHNcbiAgICogQHBhcmFtICB7W3R5cGVdfSBmb3JtSUQgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgY29uc3RydWN0b3IoZm9ybUlEKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IHt9O1xuICAgIHRoaXMuZm9ybUlEID0gZm9ybUlEO1xuICAgIHRoaXMubGF5b3V0ID0gJyc7XG4gICAgaW5zdGFuY2VEYXRhW2Zvcm1JRF0gPSB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhdmFpbGFibGVmaWVsZHMgPSB7fTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvZGF0YS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBTUE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=')},/***/138:/* no static exports found *//* all exports used *//*!***********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/helpers.js ***!
  \***********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _dom = __webpack_require__(/*! ./dom */ 50);\n\nvar _data = __webpack_require__(/*! ./data */ 109);\n\nvar _utils = __webpack_require__(/*! ./utils */ 19);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _events = __webpack_require__(/*! ./events */ 52);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 26);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _config = __webpack_require__(/*! ./config */ 51);\n\nvar _control = __webpack_require__(/*! ./control */ 6);\n\nvar _control2 = _interopRequireDefault(_control);\n\nvar _custom = __webpack_require__(/*! ./control/custom */ 34);\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar m = _utils2.default.markup;\n\nvar Helpers = function () {\n  function Helpers(formID, layout) {\n    _classCallCheck(this, Helpers);\n\n    this.data = _data.instanceData[formID];\n    this.d = _dom.instanceDom[formID];\n    this.doCancel = false;\n    this.layout = layout;\n  }\n\n  Helpers.prototype.startMoving = function startMoving(event, ui) {\n    ui.item.show().addClass(\'moving\');\n    this.doCancel = true;\n    this.from = ui.item.parent();\n  };\n\n  Helpers.prototype.stopMoving = function stopMoving(event, ui) {\n    var _this = this;\n    ui.item.removeClass(\'moving\');\n    if (_this.doCancel) {\n      if (ui.sender) {\n        $(ui.sender).sortable(\'cancel\');\n      }\n      this.from.sortable(\'cancel\');\n    }\n    _this.save();\n    _this.doCancel = false;\n  };\n\n  Helpers.prototype.beforeStop = function beforeStop(event, ui) {\n    var _this = this;\n    var opts = _config.config.opts;\n    var form = _this.d.stage;\n    var lastIndex = form.childNodes.length - 1;\n    var cancelArray = [];\n    _this.stopIndex = ui.placeholder.index() - 1;\n    if (!opts.sortableControls && ui.item.parent().hasClass(\'frmb-control\')) {\n      cancelArray.push(true);\n    }\n\n    if (opts.prepend) {\n      cancelArray.push(_this.stopIndex === 0);\n    }\n\n    if (opts.append) {\n      cancelArray.push(_this.stopIndex + 1 === lastIndex);\n    }\n\n    _this.doCancel = cancelArray.some(function (elem) {\n      return elem === true;\n    });\n  };\n\n  Helpers.prototype.getTypes = function getTypes($field) {\n    var types = {\n      type: $field.attr(\'type\') || $field.attr(\'data-type\')\n    };\n    var subtype = $(\'.fld-subtype\', $field).val();\n\n    if (subtype !== types.type) {\n      types.subtype = subtype;\n    }\n\n    return types;\n  };\n\n  Helpers.prototype.fieldOptionData = function fieldOptionData(field) {\n    var options = [];\n    var $options = $(\'.sortable-options li\', field);\n\n    $options.each(function (i) {\n      var $option = $($options[i]);\n      var selected = $(\'.option-selected\', $option).is(\':checked\');\n      var attrs = {\n        label: $(\'.option-label\', $option).val(),\n        value: $(\'.option-value\', $option).val()\n      };\n\n      if (selected) {\n        attrs.selected = selected;\n      }\n\n      options.push(attrs);\n    });\n\n    return options;\n  };\n\n  Helpers.prototype.xmlSave = function xmlSave(form) {\n    var formData = this.prepData(form);\n    var xml = [\'<form-template>\\n\\t<fields>\'];\n\n    _utils2.default.forEach(formData, function (fieldIndex, field) {\n      var fieldContent = null;\n      var optionFields = _dom.optionFieldsRegEx;\n\n      if (field.type.match(optionFields)) {\n        var fieldOptions = field.values;\n        var options = [];\n\n        for (var i = 0; i < fieldOptions.length; i++) {\n          var oData = fieldOptions[i];\n          var option = m(\'option\', oData.label, oData).outerHTML;\n          options.push(\'\\n\\t\\t\\t\' + option);\n        }\n        options.push(\'\\n\\t\\t\');\n\n        fieldContent = options.join(\'\');\n        delete field.values;\n      }\n\n      var xmlField = m(\'field\', fieldContent, field);\n      xml.push(\'\\n\\t\\t\' + xmlField.outerHTML);\n    });\n\n    xml.push(\'\\n\\t</fields>\\n</form-template>\');\n\n    return xml.join(\'\');\n  };\n\n  Helpers.prototype.prepData = function prepData(form) {\n    var formData = [];\n    var d = this.d;\n    var _this = this;\n\n    if (form.childNodes.length !== 0) {\n      _utils2.default.forEach(form.childNodes, function (index, field) {\n        var $field = $(field);\n\n        if (!$field.hasClass(\'disabled-field\')) {\n          var fieldData = _this.getTypes($field);\n          var $roleInputs = $(\'.roles-field:checked\', field);\n          var roleVals = $roleInputs.map(function (index) {\n            return $roleInputs[index].value;\n          }).get();\n\n          _this.setAttrVals(field, fieldData);\n\n          if (fieldData.subtype) {\n            if (fieldData.subtype === \'quill\') {\n              var id = fieldData.name + \'-preview\';\n              if (window.fbEditors.quill[id]) {\n                var instance = window.fbEditors.quill[id].instance;\n                var data = instance.getContents();\n                fieldData.value = window.JSON.stringify(data.ops);\n              }\n            } else if (fieldData.subtype === \'tinymce\' && window.tinymce) {\n              var _id = fieldData.name + \'-preview\';\n              if (window.tinymce.editors[_id]) {\n                var editor = window.tinymce.editors[_id];\n                fieldData.value = editor.getContent();\n              }\n            }\n          }\n\n          if (roleVals.length) {\n            fieldData.role = roleVals.join(\',\');\n          }\n\n          fieldData.className = fieldData.className || fieldData.class;\n\n          if (fieldData.className) {\n            var match = /(?:^|\\s)btn-(.*?)(?:\\s|$)/g.exec(fieldData.className);\n            if (match) {\n              fieldData.style = match[1];\n            }\n          }\n\n          fieldData = _utils2.default.trimObj(fieldData);\n\n          var multipleField = fieldData.type.match(d.optionFieldsRegEx);\n\n          if (multipleField) {\n            fieldData.values = _this.fieldOptionData($field);\n          }\n\n          formData.push(fieldData);\n        }\n      });\n    }\n\n    return formData;\n  };\n\n  Helpers.prototype.getData = function getData(formData) {\n    var data = this.data;\n    if (!formData) {\n      formData = _config.config.opts.formData;\n    }\n\n    if (!formData) {\n      return false;\n    }\n\n    var setData = {\n      xml: function xml(formData) {\n        return _utils2.default.parseXML(formData);\n      },\n      json: function json(formData) {\n        return window.JSON.parse(formData);\n      }\n    };\n\n    data.formData = setData[_config.config.opts.dataType](formData) || [];\n\n    return data.formData;\n  };\n\n  Helpers.prototype.save = function save(stage) {\n    var _this = this;\n    var data = this.data;\n    if (!stage) {\n      stage = this.d.stage;\n    }\n    var doSave = {\n      xml: function xml() {\n        return _this.xmlSave(stage);\n      },\n      json: function json() {\n        return window.JSON.stringify(_this.prepData(stage), null, \'\\t\');\n      }\n    };\n\n    data.formData = doSave[_config.config.opts.dataType](stage);\n\n    document.dispatchEvent(_events2.default.formSaved);\n    return data.formData;\n  };\n\n  Helpers.prototype.incrementId = function incrementId(id) {\n    var split = id.lastIndexOf(\'-\');\n    var newFieldNumber = parseInt(id.substring(split + 1)) + 1;\n    var baseString = id.substring(0, split);\n\n    return baseString + \'-\' + newFieldNumber;\n  };\n\n  Helpers.prototype.setAttrVals = function setAttrVals(field, fieldData) {\n    var attrs = field.querySelectorAll(\'[class*="fld-"]\');\n    _utils2.default.forEach(attrs, function (index) {\n      var attr = attrs[index];\n      var value = void 0;\n      var name = _utils2.default.camelCase(attr.getAttribute(\'name\'));\n      if (attr.attributes[\'contenteditable\']) {\n        value = attr.innerHTML;\n      } else if (attr.type === \'checkbox\') {\n        value = attr.checked;\n      } else {\n        value = attr.value;\n      }\n      fieldData[name] = value;\n    });\n  };\n\n  Helpers.prototype.updatePreview = function updatePreview($field) {\n    var _this = this;\n    var d = this.d;\n    var fieldClass = $field.attr(\'class\');\n    var field = $field[0];\n    if (fieldClass.indexOf(\'input-control\') !== -1) {\n      return;\n    }\n\n    var fieldType = $field.attr(\'type\');\n    var $prevHolder = $(\'.prev-holder\', field);\n    var previewData = {\n      type: fieldType\n    };\n    var preview = void 0;\n\n    _this.setAttrVals(field, previewData);\n\n    var style = $(\'.btn-style\', field).val();\n    if (style) {\n      previewData.style = style;\n    }\n\n    if (fieldType.match(d.optionFieldsRegEx)) {\n      previewData.values = [];\n      previewData.multiple = $(\'[name="multiple"]\', field).is(\':checked\');\n\n      $(\'.sortable-options li\', field).each(function (i, $option) {\n        var option = {};\n        option.selected = $(\'.option-selected\', $option).is(\':checked\');\n        option.value = $(\'.option-value\', $option).val();\n        option.label = $(\'.option-label\', $option).val();\n        previewData.values.push(option);\n      });\n    }\n\n    previewData = _utils2.default.trimObj(previewData);\n\n    previewData.className = _this.classNames(field, previewData);\n    $(\'.fld-className\', field).val(previewData.className);\n\n    $field.data(\'fieldData\', previewData);\n\n    var custom = _custom2.default.lookup(previewData.type);\n    var controlClass = custom ? custom.class : _control2.default.getClass(previewData.type, previewData.subtype);\n    preview = this.layout.build(controlClass, previewData);\n\n    (0, _dom.empty)($prevHolder[0]);\n    $prevHolder[0].appendChild(preview);\n    preview.dispatchEvent(_events2.default.fieldRendered);\n  };\n\n  Helpers.prototype.disabledTT = function disabledTT(stage) {\n    var move = function move(e, elem) {\n      var fieldOffset = elem.field.getBoundingClientRect();\n      var x = e.clientX - fieldOffset.left - 21;\n      var y = e.clientY - fieldOffset.top - elem.tt.offsetHeight - 12;\n      elem.tt.style.transform = \'translate(\' + x + \'px, \' + y + \'px)\';\n    };\n\n    var disabledFields = stage.querySelectorAll(\'.disabled-field\');\n    _utils2.default.forEach(disabledFields, function (index) {\n      var field = disabledFields[index];\n      var title = _mi18n2.default.get(\'fieldNonEditable\');\n\n      if (title) {\n        var tt = _utils2.default.markup(\'p\', title, {\n          className: \'frmb-tt\'\n        });\n        field.appendChild(tt);\n        field.addEventListener(\'mousemove\', function (e) {\n          return move(e, {\n            tt: tt, field: field\n          });\n        });\n      }\n    });\n  };\n\n  Helpers.prototype.classNames = function classNames(field, previewData) {\n    var className = field.querySelector(\'.fld-className\');\n    if (!className) {\n      return;\n    }\n    var i = void 0;\n    var type = previewData.type;\n    var style = previewData.style;\n    var classes = className.value.split(\' \');\n    var types = {\n      button: \'btn\',\n      submit: \'btn\'\n    };\n\n    var primaryType = types[type];\n\n    if (primaryType) {\n      if (style) {\n        for (i = 0; i < classes.length; i++) {\n          var re = new RegExp(\'(?:^|s)\' + primaryType + \'-(.*?)(?:s|$)+\', \'g\');\n          var match = classes[i].match(re);\n          if (match) {\n            classes.splice(i, 1);\n          }\n        }\n        classes.push(primaryType + \'-\' + style);\n      }\n      classes.push(primaryType);\n    }\n\n    return _utils2.default.unique(classes).join(\' \').trim();\n  };\n\n  Helpers.prototype.closeConfirm = function closeConfirm(overlay, dialog) {\n    if (!overlay) {\n      overlay = document.getElementsByClassName(\'form-builder-overlay\')[0];\n    }\n    if (!dialog) {\n      dialog = document.getElementsByClassName(\'form-builder-dialog\')[0];\n    }\n    overlay.classList.remove(\'visible\');\n    (0, _dom.remove)(dialog);\n    (0, _dom.remove)(overlay);\n    document.dispatchEvent(_events2.default.modalClosed);\n  };\n\n  Helpers.prototype.editorLayout = function editorLayout(controlPosition) {\n    var layoutMap = {\n      left: {\n        stage: \'pull-right\',\n        controls: \'pull-left\'\n      },\n      right: {\n        stage: \'pull-left\',\n        controls: \'pull-right\'\n      }\n    };\n\n    return layoutMap[controlPosition] || \'\';\n  };\n\n  Helpers.prototype.showOverlay = function showOverlay() {\n    var _this = this;\n    var overlay = _utils2.default.markup(\'div\', null, {\n      className: \'form-builder-overlay\'\n    });\n    document.body.appendChild(overlay);\n    overlay.classList.add(\'visible\');\n\n    overlay.onclick = function () {\n      _this.closeConfirm(overlay);\n    };\n\n    return overlay;\n  };\n\n  Helpers.prototype.confirm = function confirm(message, yesAction) {\n    var coords = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var className = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \'\';\n\n    var _this = this;\n    var i18n = _mi18n2.default.current;\n    var overlay = _this.showOverlay();\n    var yes = m(\'button\', i18n.yes, {\n      className: \'yes btn btn-success btn-sm\'\n    });\n    var no = m(\'button\', i18n.no, {\n      className: \'no btn btn-danger btn-sm\'\n    });\n\n    no.onclick = function () {\n      _this.closeConfirm(overlay);\n    };\n\n    yes.onclick = function () {\n      yesAction();\n      _this.closeConfirm(overlay);\n    };\n\n    var btnWrap = m(\'div\', [no, yes], {\n      className: \'button-wrap\'\n    });\n\n    className = \'form-builder-dialog \' + className;\n\n    var miniModal = m(\'div\', [message, btnWrap], {\n      className: className\n    });\n    if (!coords) {\n      var dE = document.documentElement;\n      coords = {\n        pageX: Math.max(dE.clientWidth, window.innerWidth || 0) / 2,\n        pageY: Math.max(dE.clientHeight, window.innerHeight || 0) / 2\n      };\n      miniModal.style.position = \'fixed\';\n    } else {\n      miniModal.classList.add(\'positioned\');\n    }\n\n    miniModal.style.left = coords.pageX + \'px\';\n    miniModal.style.top = coords.pageY + \'px\';\n\n    document.body.appendChild(miniModal);\n\n    yes.focus();\n    return miniModal;\n  };\n\n  Helpers.prototype.dialog = function dialog(content) {\n    var coords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \'\';\n\n    var _this = this;\n    var clientWidth = document.documentElement.clientWidth;\n    var clientHeight = document.documentElement.clientHeight;\n    _this.showOverlay();\n\n    className = \'form-builder-dialog \' + className;\n\n    var miniModal = _utils2.default.markup(\'div\', content, {\n      className: className\n    });\n    if (!coords) {\n      coords = {\n        pageX: Math.max(clientWidth, window.innerWidth || 0) / 2,\n        pageY: Math.max(clientHeight, window.innerHeight || 0) / 2\n      };\n      miniModal.style.position = \'fixed\';\n    } else {\n      miniModal.classList.add(\'positioned\');\n    }\n\n    miniModal.style.left = coords.pageX + \'px\';\n    miniModal.style.top = coords.pageY + \'px\';\n\n    document.body.appendChild(miniModal);\n\n    document.dispatchEvent(_events2.default.modalOpened);\n\n    if (className.indexOf(\'data-dialog\') !== -1) {\n      document.dispatchEvent(_events2.default.viewData);\n    }\n\n    return miniModal;\n  };\n\n  Helpers.prototype.confirmRemoveAll = function confirmRemoveAll(e) {\n    var _this = this;\n    var formID = e.target.id.match(/frmb-\\d{13}/)[0];\n    var stage = document.getElementById(formID);\n    var i18n = _mi18n2.default.current;\n    var fields = $(\'li.form-field\', stage);\n    var buttonPosition = e.target.getBoundingClientRect();\n    var bodyRect = document.body.getBoundingClientRect();\n    var coords = {\n      pageX: buttonPosition.left + buttonPosition.width / 2,\n      pageY: buttonPosition.top - bodyRect.top - 12\n    };\n\n    if (fields.length) {\n      _this.confirm(i18n.clearAllMessage, function () {\n        _this.removeAllFields.call(_this, stage);\n        _config.config.opts.notify.success(i18n.allFieldsRemoved);\n        _config.config.opts.onClearAll();\n      }, coords);\n    } else {\n      _this.dialog(i18n.noFieldsToClear, coords);\n    }\n  };\n\n  Helpers.prototype.removeAllFields = function removeAllFields(stage) {\n    var _this2 = this;\n\n    var animate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var i18n = _mi18n2.default.current;\n    var opts = _config.config.opts;\n    var fields = stage.querySelectorAll(\'li.form-field\');\n    var markEmptyArray = [];\n\n    if (!fields.length) {\n      return false;\n    }\n\n    if (opts.prepend) {\n      markEmptyArray.push(true);\n    }\n\n    if (opts.append) {\n      markEmptyArray.push(true);\n    }\n\n    if (!markEmptyArray.some(function (elem) {\n      return elem === true;\n    })) {\n      stage.parentElement.classList.add(\'empty\');\n      stage.parentElement.dataset.content = i18n.getStarted;\n    }\n\n    if (animate) {\n      stage.classList.add(\'removing\');\n      var outerHeight = 0;\n      _utils2.default.forEach(fields, function (index) {\n        return outerHeight += fields[index].offsetHeight + 3;\n      });\n      fields[0].style.marginTop = -outerHeight + \'px\';\n      setTimeout(function () {\n        (0, _dom.empty)(stage).classList.remove(\'removing\');\n        _this2.save();\n      }, 400);\n    } else {\n      (0, _dom.empty)(stage);\n      this.save();\n    }\n  };\n\n  Helpers.prototype.setFieldOrder = function setFieldOrder($cbUL) {\n    if (!_config.config.opts.sortableControls) {\n      return false;\n    }\n    var _window = window,\n        sessionStorage = _window.sessionStorage,\n        JSON = _window.JSON;\n\n\n    var fieldOrder = [];\n\n    $cbUL.children().each(function (index, element) {\n      var type = $(element).data(\'type\');\n      if (type) {\n        fieldOrder.push(type);\n      }\n    });\n\n    if (sessionStorage) {\n      sessionStorage.setItem(\'fieldOrder\', JSON.stringify(fieldOrder));\n    }\n    return fieldOrder;\n  };\n\n  Helpers.prototype.orderFields = function orderFields(controls) {\n    var opts = _config.config.opts;\n    var controlOrder = opts.controlOrder.concat(controls);\n    var fieldOrder = void 0;\n\n    if (window.sessionStorage) {\n      if (opts.sortableControls) {\n        fieldOrder = window.sessionStorage.getItem(\'fieldOrder\');\n      } else {\n        window.sessionStorage.removeItem(\'fieldOrder\');\n      }\n    }\n\n    if (!fieldOrder) {\n      fieldOrder = _utils2.default.unique(controlOrder);\n    } else {\n      fieldOrder = window.JSON.parse(fieldOrder);\n      fieldOrder = _utils2.default.unique(fieldOrder.concat(controls));\n      fieldOrder = Object.keys(fieldOrder).map(function (i) {\n        return fieldOrder[i];\n      });\n    }\n\n    fieldOrder.forEach(function (field) {\n      var randomKey = new RegExp(\'-[\\\\d]{4}$\');\n\n      if (field.match(randomKey)) {\n        var baseFieldIndex = fieldOrder.indexOf(field.replace(randomKey, \'\'));\n        if (baseFieldIndex !== -1) {\n          fieldOrder.splice(fieldOrder.indexOf(field), 1);\n          fieldOrder.splice(baseFieldIndex + 1, fieldOrder.indexOf(field), field);\n        }\n      }\n    });\n\n    if (opts.disableFields.length) {\n      fieldOrder = fieldOrder.filter(function (type) {\n        return opts.disableFields.indexOf(type) == -1;\n      });\n    }\n\n    return fieldOrder.filter(Boolean);\n  };\n\n  Helpers.prototype.closeAllEdit = function closeAllEdit() {\n    var _this = this;\n    var fields = $(\'> li.editing\', _this.d.stage);\n    var toggleBtns = $(\'.toggle-form\', _this.d.stage);\n    var editPanels = $(\'.frm-holder\', fields);\n\n    toggleBtns.removeClass(\'open\');\n    fields.removeClass(\'editing\');\n    $(\'.prev-holder\', fields).show();\n    editPanels.hide();\n  };\n\n  Helpers.prototype.toggleEdit = function toggleEdit(fieldId) {\n    var animate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var field = document.getElementById(fieldId);\n    var toggleBtn = $(\'.toggle-form\', field);\n    var editPanel = $(\'.frm-holder\', field);\n    field.classList.toggle(\'editing\');\n    toggleBtn.toggleClass(\'open\');\n    if (animate) {\n      $(\'.prev-holder\', field).slideToggle(250);\n      editPanel.slideToggle(250);\n    } else {\n      $(\'.prev-holder\', field).toggle();\n      editPanel.toggle();\n    }\n    this.updatePreview($(field));\n  };\n\n  Helpers.prototype.stickyControls = function stickyControls() {\n    var d = this.d;\n    var $cbWrap = $(d.controls).parent();\n    var $stageWrap = $(d.stage).parent();\n    var cbWidth = $cbWrap.width();\n    var cbPosition = d.controls.getBoundingClientRect();\n\n    $(window).scroll(function (evt) {\n      var scrollTop = $(evt.target).scrollTop();\n      var offsetDefaults = {\n        top: 5,\n        bottom: \'auto\',\n        right: \'auto\',\n        left: cbPosition.left\n      };\n\n      var offset = Object.assign({}, offsetDefaults, _config.config.opts.stickyControls.offset);\n\n      if (scrollTop > $stageWrap.offset().top) {\n        var style = {\n          position: \'fixed\',\n          width: cbWidth\n        };\n\n        var cbStyle = Object.assign(style, offset);\n\n        var cbOffset = $cbWrap.offset();\n        var stageOffset = $stageWrap.offset();\n        var cbBottom = cbOffset.top + $cbWrap.height();\n        var stageBottom = stageOffset.top + $stageWrap.height();\n        var atBottom = cbBottom === stageBottom && cbOffset.top > scrollTop;\n\n        if (cbBottom > stageBottom && cbOffset.top !== stageOffset.top) {\n          $cbWrap.css({\n            position: \'absolute\',\n            top: \'auto\',\n            bottom: 0,\n            right: 0,\n            left: \'auto\'\n          });\n        }\n\n        if (cbBottom < stageBottom || atBottom) {\n          $cbWrap.css(cbStyle);\n        }\n      } else {\n        d.controls.parentElement.removeAttribute(\'style\');\n      }\n    });\n  };\n\n  Helpers.prototype.showData = function showData() {\n    var data = this.data;\n    var formData = _utils2.default.escapeHtml(data.formData);\n    var code = m(\'code\', formData, {\n      className: \'formData-\' + _config.config.opts.dataType\n    });\n\n    this.dialog(m(\'pre\', code), null, \'data-dialog\');\n  };\n\n  Helpers.prototype.removeField = function removeField(fieldID) {\n    var fieldRemoved = false;\n    var _this = this;\n    var form = this.d.stage;\n    var fields = form.getElementsByClassName(\'form-field\');\n\n    if (!fields.length) {\n      console.warn(\'No fields to remove\');\n      return false;\n    }\n\n    if (!fieldID) {\n      var availableIds = [].slice.call(fields).map(function (field) {\n        return field.id;\n      });\n      console.warn(\'fieldID required to remove specific fields.\');\n      console.warn(\'Removing last field since no ID was supplied.\');\n      console.warn(\'Available IDs: \' + availableIds.join(\', \'));\n      fieldID = form.lastChild.id;\n    }\n\n    var field = document.getElementById(fieldID);\n    var $field = $(field);\n    if (!field) {\n      console.warn(\'Field not found\');\n      return false;\n    }\n\n    $field.slideUp(250, function () {\n      $field.removeClass(\'deleting\');\n      $field.remove();\n      fieldRemoved = true;\n      _this.save();\n      if (!form.childNodes.length) {\n        var stageWrap = form.parentElement;\n        stageWrap.classList.add(\'empty\');\n        stageWrap.dataset.content = _mi18n2.default.current.getStarted;\n      }\n    });\n\n    document.dispatchEvent(_events2.default.fieldRemoved);\n    return fieldRemoved;\n  };\n\n  Helpers.prototype.processActionButtons = function processActionButtons(buttonData) {\n    var label = buttonData.label,\n        events = buttonData.events,\n        attrs = _objectWithoutProperties(buttonData, [\'label\', \'events\']);\n\n    var data = this.data;\n    if (!label) {\n      if (attrs.id) {\n        label = _mi18n2.default.current[attrs.id] || _utils2.default.capitalize(attrs.id);\n      } else {\n        label = \'\';\n      }\n    } else {\n      label = _mi18n2.default.current[label] || label;\n    }\n\n    if (!attrs.id) {\n      attrs.id = data.formID + \'-action-\' + Math.round(Math.random() * 1000);\n    } else {\n      attrs.id = data.formID + \'-\' + attrs.id + \'-action\';\n    }\n\n    var button = m(\'button\', label, attrs);\n\n    if (events) {\n      var _loop = function _loop(event) {\n        if (events.hasOwnProperty(event)) {\n          button.addEventListener(event, function (evt) {\n            return events[event](evt);\n          });\n        }\n      };\n\n      for (var event in events) {\n        _loop(event);\n      }\n    }\n\n    return button;\n  };\n\n  Helpers.prototype.processSubtypes = function processSubtypes(subtypeOpts) {\n    for (var type in subtypeOpts) {\n      if (subtypeOpts.hasOwnProperty(type)) {\n        var controlClass = _control2.default.getClass(type);\n        _control2.default.register(subtypeOpts[type], controlClass, type);\n      }\n    }\n\n    var subtypeDef = _control2.default.getRegisteredSubtypes();\n\n    var subtypes = {};\n    for (var _type in subtypeDef) {\n      if (subtypeDef.hasOwnProperty(_type)) {\n        var formatted = [];\n        for (var _iterator = subtypeDef[_type], _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n          var _ref;\n\n          if (_isArray) {\n            if (_i >= _iterator.length) break;\n            _ref = _iterator[_i++];\n          } else {\n            _i = _iterator.next();\n            if (_i.done) break;\n            _ref = _i.value;\n          }\n\n          var subtype = _ref;\n\n          var _controlClass = _control2.default.getClass(_type, subtype);\n          formatted.push({\n            label: _controlClass.mi18n(subtype),\n            value: subtype\n          });\n        }\n        subtypes[_type] = formatted;\n      }\n    }\n\n    return subtypes;\n  };\n\n  Helpers.prototype.editorUI = function editorUI(formID) {\n    var d = this.d;\n    var data = this.data;\n    d.stage = m(\'ul\', null, {\n      id: data.formID,\n      className: \'frmb\'\n    });\n\n    d.controls = m(\'ul\', null, {\n      id: data.formID + \'-control-box\',\n      className: \'frmb-control\'\n    });\n  };\n\n  Helpers.prototype.processOptions = function processOptions(options) {\n    var _this = this;\n\n    var actionButtons = options.actionButtons,\n        opts = _objectWithoutProperties(options, [\'actionButtons\']);\n\n    actionButtons = [{\n      type: \'button\',\n      id: \'clear\',\n      className: \'clear-all btn btn-danger\',\n      events: {\n        click: _this.confirmRemoveAll.bind(_this)\n      }\n    }, {\n      type: \'button\',\n      label: \'viewJSON\',\n      id: \'data\',\n      className: \'btn btn-default\',\n      events: {\n        click: _this.showData.bind(_this)\n      }\n    }, {\n      type: \'button\',\n      id: \'save\',\n      className: \'btn btn-primary save-template\',\n      events: {\n        click: function click(evt) {\n          _this.save();\n          _config.config.opts.onSave(evt, _this.data.formData);\n        }\n      }\n    }].concat(options.actionButtons);\n    _config.config.opts = Object.assign({}, {\n      actionButtons: actionButtons\n    }, opts);\n    return _config.config.opts;\n  };\n\n  Helpers.prototype.input = function input() {\n    var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return m(\'input\', null, attrs);\n  };\n\n  Helpers.prototype.getFormData = function getFormData() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'js\';\n    var formatted = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var h = this;\n    var data = {\n      js: function js() {\n        return h.prepData(h.d.stage);\n      },\n      xml: function xml() {\n        return h.xmlSave(h.d.stage);\n      },\n      json: function json(formatted) {\n        var formData = void 0;\n        if (formatted) {\n          formData = window.JSON.stringify(h.prepData(h.d.stage), null, \'\\t\');\n        } else {\n          formData = window.JSON.stringify(h.prepData(h.d.stage));\n        }\n        return formData;\n      }\n    };\n\n    return data[type](formatted);\n  };\n\n  return Helpers;\n}();\n\nexports.default = Helpers;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9oZWxwZXJzLmpzPzkzOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaW5zdGFuY2VEb20sXG4gIGVtcHR5LFxuICBvcHRpb25GaWVsZHNSZWdFeCxcbiAgcmVtb3ZlXG59XG5mcm9tICcuL2RvbSc7XG5pbXBvcnQge1xuICBpbnN0YW5jZURhdGFcbn1cbmZyb20gJy4vZGF0YSc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBtaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge1xuICBjb25maWdcbn1cbmZyb20gJy4vY29uZmlnJztcbmltcG9ydCBjb250cm9sIGZyb20gJy4vY29udHJvbCc7XG5pbXBvcnQgY29udHJvbEN1c3RvbSBmcm9tICcuL2NvbnRyb2wvY3VzdG9tJztcblxuY29uc3QgbSA9IHV0aWxzLm1hcmt1cDtcblxuLyoqXG4gKiBVdGlsaXRpZXMgc3BlY2lmaWMgdG8gZm9ybS1idWlsZGVyLmpzXG4gKi9cbmV4cG9ydFxuZGVmYXVsdCBjbGFzcyBIZWxwZXJzIHtcbiAgLyoqXG4gICAqIFNldHVwIGRlZmF1bHRzLCBnZXQgaW5zdGFuY2UgZGF0YSBhbmQgZG9tXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZm9ybUlEIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtIHtPYmplY3R9IGxheW91dCBvYmplY3QgaW5zdGFuY2UgdXNlZCBieSB2YXJpb3VzIGhlbHBlcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcm1JRCwgbGF5b3V0KSB7XG4gICAgdGhpcy5kYXRhID0gaW5zdGFuY2VEYXRhW2Zvcm1JRF07XG4gICAgdGhpcy5kID0gaW5zdGFuY2VEb21bZm9ybUlEXTtcbiAgICB0aGlzLmRvQ2FuY2VsID0gZmFsc2U7XG4gICAgdGhpcy5sYXlvdXQgPSBsYXlvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gYSBkcmFnIGJlZ2luc1xuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gdWlcbiAgICovXG4gIHN0YXJ0TW92aW5nKGV2ZW50LCB1aSkge1xuICAgIHVpLml0ZW0uc2hvdygpLmFkZENsYXNzKCdtb3ZpbmcnKTtcbiAgICB0aGlzLmRvQ2FuY2VsID0gdHJ1ZTtcbiAgICB0aGlzLmZyb20gPSB1aS5pdGVtLnBhcmVudCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgZHJhZyBlbmRzXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSB1aVxuICAgKi9cbiAgc3RvcE1vdmluZyhldmVudCwgdWkpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHVpLml0ZW0ucmVtb3ZlQ2xhc3MoJ21vdmluZycpO1xuICAgIGlmIChfdGhpcy5kb0NhbmNlbCkge1xuICAgICAgaWYgKHVpLnNlbmRlcikge1xuICAgICAgICAkKHVpLnNlbmRlcikuc29ydGFibGUoJ2NhbmNlbCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5mcm9tLnNvcnRhYmxlKCdjYW5jZWwnKTtcbiAgICB9XG4gICAgX3RoaXMuc2F2ZSgpO1xuICAgIF90aGlzLmRvQ2FuY2VsID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogalF1ZXJ5IFVJIHNvcnRhYmxlIGJlZm9yZVN0b3AgY2FsbGJhY2sgdXNlZCBmb3IgYm90aCBsaXN0cy5cbiAgICogTG9naWMgZm9yIGNhbmNlbGluZyB0aGUgc29ydCBvciBkcm9wLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gdWlcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGJlZm9yZVN0b3AoZXZlbnQsIHVpKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBjb25zdCBvcHRzID0gY29uZmlnLm9wdHM7XG4gICAgY29uc3QgZm9ybSA9IF90aGlzLmQuc3RhZ2U7XG4gICAgbGV0IGxhc3RJbmRleCA9IGZvcm0uY2hpbGROb2Rlcy5sZW5ndGggLSAxO1xuICAgIGxldCBjYW5jZWxBcnJheSA9IFtdO1xuICAgIF90aGlzLnN0b3BJbmRleCA9IHVpLnBsYWNlaG9sZGVyLmluZGV4KCkgLSAxO1xuICAgIGlmICghb3B0cy5zb3J0YWJsZUNvbnRyb2xzICYmIHVpLml0ZW0ucGFyZW50KCkuaGFzQ2xhc3MoJ2ZybWItY29udHJvbCcpKSB7XG4gICAgICBjYW5jZWxBcnJheS5wdXNoKHRydWUpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnByZXBlbmQpIHtcbiAgICAgIGNhbmNlbEFycmF5LnB1c2goX3RoaXMuc3RvcEluZGV4ID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hcHBlbmQpIHtcbiAgICAgIGNhbmNlbEFycmF5LnB1c2goKF90aGlzLnN0b3BJbmRleCArIDEpID09PSBsYXN0SW5kZXgpO1xuICAgIH1cblxuICAgIF90aGlzLmRvQ2FuY2VsID0gY2FuY2VsQXJyYXkuc29tZShlbGVtID0+IGVsZW0gPT09IHRydWUpO1xuICB9XG5cblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZ2V0IGVsZW1lbnQgdHlwZSBhbmQgc3VidHlwZVxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICRmaWVsZFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHt0eXBlOiAnZmllbGRUeXBlJywgc3VidHlwZTogJ2ZpZWxkU3ViVHlwZSd9XG4gICAqL1xuICBnZXRUeXBlcygkZmllbGQpIHtcbiAgICBsZXQgdHlwZXMgPSB7XG4gICAgICB0eXBlOiAkZmllbGQuYXR0cigndHlwZScpIHx8ICRmaWVsZC5hdHRyKCdkYXRhLXR5cGUnKVxuICAgIH07XG4gICAgbGV0IHN1YnR5cGUgPSAkKCcuZmxkLXN1YnR5cGUnLCAkZmllbGQpLnZhbCgpO1xuXG4gICAgaWYgKHN1YnR5cGUgIT09IHR5cGVzLnR5cGUpIHtcbiAgICAgIHR5cGVzLnN1YnR5cGUgPSBzdWJ0eXBlO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3B0aW9uIGRhdGEgZm9yIGEgZmllbGRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBmaWVsZCBqUXVlcnkgZmllbGQgb2JqZWN0XG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgQXJyYXkgb2Ygb3B0aW9uIHZhbHVlc1xuICAgKi9cbiAgZmllbGRPcHRpb25EYXRhKGZpZWxkKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICBjb25zdCAkb3B0aW9ucyA9ICQoJy5zb3J0YWJsZS1vcHRpb25zIGxpJywgZmllbGQpO1xuXG4gICAgJG9wdGlvbnMuZWFjaChpID0+IHtcbiAgICAgIGxldCAkb3B0aW9uID0gJCgkb3B0aW9uc1tpXSk7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9ICQoJy5vcHRpb24tc2VsZWN0ZWQnLCAkb3B0aW9uKS5pcygnOmNoZWNrZWQnKTtcbiAgICAgIGxldCBhdHRycyA9IHtcbiAgICAgICAgbGFiZWw6ICQoJy5vcHRpb24tbGFiZWwnLCAkb3B0aW9uKS52YWwoKSxcbiAgICAgICAgdmFsdWU6ICQoJy5vcHRpb24tdmFsdWUnLCAkb3B0aW9uKS52YWwoKVxuICAgICAgfTtcblxuICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgIGF0dHJzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMucHVzaChhdHRycyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBYTUwgc2F2ZVxuICAgKlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGZvcm0gc29ydGFibGVGaWVsZHMgbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IHhtbCBpbiBzdHJpbmdcbiAgICovXG4gIHhtbFNhdmUoZm9ybSkge1xuICAgIGxldCBmb3JtRGF0YSA9IHRoaXMucHJlcERhdGEoZm9ybSk7XG4gICAgbGV0IHhtbCA9IFsnPGZvcm0tdGVtcGxhdGU+XFxuXFx0PGZpZWxkcz4nXTtcblxuICAgIHV0aWxzLmZvckVhY2goZm9ybURhdGEsIGZ1bmN0aW9uKGZpZWxkSW5kZXgsIGZpZWxkKSB7XG4gICAgICBsZXQgZmllbGRDb250ZW50ID0gbnVsbDtcbiAgICAgIGNvbnN0IG9wdGlvbkZpZWxkcyA9IG9wdGlvbkZpZWxkc1JlZ0V4O1xuXG4gICAgICAvLyBIYW5kbGUgb3B0aW9uc1xuICAgICAgaWYgKGZpZWxkLnR5cGUubWF0Y2gob3B0aW9uRmllbGRzKSkge1xuICAgICAgICBsZXQgZmllbGRPcHRpb25zID0gZmllbGQudmFsdWVzO1xuICAgICAgICBsZXQgb3B0aW9ucyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IG9EYXRhID0gZmllbGRPcHRpb25zW2ldO1xuICAgICAgICAgIGxldCBvcHRpb24gPSBtKCdvcHRpb24nLCBvRGF0YS5sYWJlbCwgb0RhdGEpLm91dGVySFRNTDtcbiAgICAgICAgICBvcHRpb25zLnB1c2goJ1xcblxcdFxcdFxcdCcgKyBvcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMucHVzaCgnXFxuXFx0XFx0Jyk7XG5cbiAgICAgICAgZmllbGRDb250ZW50ID0gb3B0aW9ucy5qb2luKCcnKTtcbiAgICAgICAgZGVsZXRlIGZpZWxkLnZhbHVlcztcbiAgICAgIH1cblxuICAgICAgbGV0IHhtbEZpZWxkID0gbSgnZmllbGQnLCBmaWVsZENvbnRlbnQsIGZpZWxkKTtcbiAgICAgIHhtbC5wdXNoKCdcXG5cXHRcXHQnICsgeG1sRmllbGQub3V0ZXJIVE1MKTtcbiAgICB9KTtcblxuICAgIHhtbC5wdXNoKCdcXG5cXHQ8L2ZpZWxkcz5cXG48L2Zvcm0tdGVtcGxhdGU+Jyk7XG5cbiAgICByZXR1cm4geG1sLmpvaW4oJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmb3JtRGF0YSBmcm9tIGVkaXRvciBpbiBKUyBPYmplY3QgZm9ybWF0XG4gICAqIEBwYXJhbSAge09iamVjdH0gZm9ybSBha2Egc3RhZ2UsIERPTSBlbGVtZW50XG4gICAqIEByZXR1cm4ge09iamVjdH0gZm9ybURhdGFcbiAgICovXG4gIHByZXBEYXRhKGZvcm0pIHtcbiAgICBsZXQgZm9ybURhdGEgPSBbXTtcbiAgICBsZXQgZCA9IHRoaXMuZDtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKGZvcm0uY2hpbGROb2Rlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIC8vIGJ1aWxkIGRhdGEgb2JqZWN0XG4gICAgICB1dGlscy5mb3JFYWNoKGZvcm0uY2hpbGROb2RlcywgZnVuY3Rpb24oaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGxldCAkZmllbGQgPSAkKGZpZWxkKTtcblxuICAgICAgICBpZiAoISgkZmllbGQuaGFzQ2xhc3MoJ2Rpc2FibGVkLWZpZWxkJykpKSB7XG4gICAgICAgICAgbGV0IGZpZWxkRGF0YSA9IF90aGlzLmdldFR5cGVzKCRmaWVsZCk7XG4gICAgICAgICAgbGV0ICRyb2xlSW5wdXRzID0gJCgnLnJvbGVzLWZpZWxkOmNoZWNrZWQnLCBmaWVsZCk7XG4gICAgICAgICAgbGV0IHJvbGVWYWxzID0gJHJvbGVJbnB1dHNcbiAgICAgICAgICAgIC5tYXAoaW5kZXggPT4gJHJvbGVJbnB1dHNbaW5kZXhdLnZhbHVlKS5nZXQoKTtcblxuICAgICAgICAgIF90aGlzLnNldEF0dHJWYWxzKGZpZWxkLCBmaWVsZERhdGEpO1xuXG4gICAgICAgICAgaWYgKGZpZWxkRGF0YS5zdWJ0eXBlKSB7XG4gICAgICAgICAgICBpZiAoZmllbGREYXRhLnN1YnR5cGUgPT09ICdxdWlsbCcpIHtcbiAgICAgICAgICAgICAgbGV0IGlkID0gYCR7ZmllbGREYXRhLm5hbWV9LXByZXZpZXdgO1xuICAgICAgICAgICAgICBpZiAod2luZG93LmZiRWRpdG9ycy5xdWlsbFtpZF0pIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5zdGFuY2UgPSB3aW5kb3cuZmJFZGl0b3JzLnF1aWxsW2lkXS5pbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gaW5zdGFuY2UuZ2V0Q29udGVudHMoKTtcbiAgICAgICAgICAgICAgICBmaWVsZERhdGEudmFsdWUgPSB3aW5kb3cuSlNPTi5zdHJpbmdpZnkoZGF0YS5vcHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkRGF0YS5zdWJ0eXBlID09PSAndGlueW1jZScgJiYgd2luZG93LnRpbnltY2UpIHtcbiAgICAgICAgICAgICAgbGV0IGlkID0gYCR7ZmllbGREYXRhLm5hbWV9LXByZXZpZXdgO1xuICAgICAgICAgICAgICBpZiAod2luZG93LnRpbnltY2UuZWRpdG9yc1tpZF0pIHtcbiAgICAgICAgICAgICAgICBsZXQgZWRpdG9yID0gd2luZG93LnRpbnltY2UuZWRpdG9yc1tpZF07XG4gICAgICAgICAgICAgICAgZmllbGREYXRhLnZhbHVlID0gZWRpdG9yLmdldENvbnRlbnQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyb2xlVmFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZpZWxkRGF0YS5yb2xlID0gcm9sZVZhbHMuam9pbignLCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpZWxkRGF0YS5jbGFzc05hbWUgPSBmaWVsZERhdGEuY2xhc3NOYW1lIHx8IGZpZWxkRGF0YS5jbGFzcztcblxuICAgICAgICAgIGlmIChmaWVsZERhdGEuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBsZXQgbWF0Y2ggPSAvKD86XnxcXHMpYnRuLSguKj8pKD86XFxzfCQpL2cuZXhlYyhmaWVsZERhdGEuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICBmaWVsZERhdGEuc3R5bGUgPSBtYXRjaFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaWVsZERhdGEgPSB1dGlscy50cmltT2JqKGZpZWxkRGF0YSk7XG5cbiAgICAgICAgICBsZXQgbXVsdGlwbGVGaWVsZCA9IGZpZWxkRGF0YS50eXBlLm1hdGNoKGQub3B0aW9uRmllbGRzUmVnRXgpO1xuXG4gICAgICAgICAgaWYgKG11bHRpcGxlRmllbGQpIHtcbiAgICAgICAgICAgIGZpZWxkRGF0YS52YWx1ZXMgPSBfdGhpcy5maWVsZE9wdGlvbkRhdGEoJGZpZWxkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3JtRGF0YS5wdXNoKGZpZWxkRGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtRGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW5kIHNldCB0aGUgZGF0YSBmb3IgYW4gZWRpdG9yLiBNYWlubHlcbiAgICogYSB3cmFwcGVyIGZvciBoYW5kbGluZyBkYXRhVHlwZSBvcHRpb25cbiAgICogQHBhcmFtICB7T2JqZWN0fSBmb3JtRGF0YVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1EYXRhXG4gICAqL1xuICBnZXREYXRhKGZvcm1EYXRhKSB7XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgaWYgKCFmb3JtRGF0YSkge1xuICAgICAgZm9ybURhdGEgPSBjb25maWcub3B0cy5mb3JtRGF0YTtcbiAgICB9XG5cbiAgICBpZiAoIWZvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHNldERhdGEgPSB7XG4gICAgICB4bWw6IGZvcm1EYXRhID0+IHV0aWxzLnBhcnNlWE1MKGZvcm1EYXRhKSxcbiAgICAgIGpzb246IGZvcm1EYXRhID0+IHdpbmRvdy5KU09OLnBhcnNlKGZvcm1EYXRhKVxuICAgIH07XG5cbiAgICBkYXRhLmZvcm1EYXRhID0gc2V0RGF0YVtjb25maWcub3B0cy5kYXRhVHlwZV0oZm9ybURhdGEpIHx8IFtdO1xuXG4gICAgcmV0dXJuIGRhdGEuZm9ybURhdGE7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZXMgYW5kIHJldHVybnMgZm9ybURhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0YWdlIERPTSBlbGVtZW50XG4gICAqIEByZXR1cm4ge1hNTHxKU09OfSBmb3JtRGF0YVxuICAgKi9cbiAgc2F2ZShzdGFnZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgaWYgKCFzdGFnZSkge1xuICAgICAgc3RhZ2UgPSB0aGlzLmQuc3RhZ2U7XG4gICAgfVxuICAgIGxldCBkb1NhdmUgPSB7XG4gICAgICB4bWw6ICgpID0+IF90aGlzLnhtbFNhdmUoc3RhZ2UpLFxuICAgICAganNvbjogKCkgPT5cbiAgICAgICAgd2luZG93LkpTT04uc3RyaW5naWZ5KF90aGlzLnByZXBEYXRhKHN0YWdlKSwgbnVsbCwgJ1xcdCcpXG4gICAgfTtcblxuICAgIC8vIHNhdmUgYWN0aW9uIGZvciBjdXJyZW50IGBkYXRhVHlwZWBcbiAgICBkYXRhLmZvcm1EYXRhID0gZG9TYXZlW2NvbmZpZy5vcHRzLmRhdGFUeXBlXShzdGFnZSk7XG5cbiAgICAvLyB0cmlnZ2VyIGZvcm1TYXZlZCBldmVudFxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1TYXZlZCk7XG4gICAgcmV0dXJuIGRhdGEuZm9ybURhdGE7XG4gIH1cblxuICAvKipcbiAgICogaW5jcmVtZW50cyB0aGUgZmllbGQgaWRzIHdpdGggc3VwcG9ydCBmb3IgbXVsdGlwbGUgZWRpdG9yc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGlkIGZpZWxkIElEXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgaW5jcmVtZW50ZWQgZmllbGQgSURcbiAgICovXG4gIGluY3JlbWVudElkKGlkKSB7XG4gICAgbGV0IHNwbGl0ID0gaWQubGFzdEluZGV4T2YoJy0nKTtcbiAgICBsZXQgbmV3RmllbGROdW1iZXIgPSBwYXJzZUludChpZC5zdWJzdHJpbmcoc3BsaXQgKyAxKSkgKyAxO1xuICAgIGxldCBiYXNlU3RyaW5nID0gaWQuc3Vic3RyaW5nKDAsIHNwbGl0KTtcblxuICAgIHJldHVybiBgJHtiYXNlU3RyaW5nfS0ke25ld0ZpZWxkTnVtYmVyfWA7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZXMgZm9yIGZpZWxkIGF0dHJpYnV0ZXMgaW4gdGhlIGVkaXRvclxuICAgKiBAcGFyYW0ge09iamVjdH0gZmllbGRcbiAgICogQHBhcmFtIHtPYmplY3R9IGZpZWxkRGF0YVxuICAgKi9cbiAgc2V0QXR0clZhbHMoZmllbGQsIGZpZWxkRGF0YSkge1xuICAgIGxldCBhdHRycyA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjbGFzcyo9XCJmbGQtXCJdJyk7XG4gICAgdXRpbHMuZm9yRWFjaChhdHRycywgaW5kZXggPT4ge1xuICAgICAgbGV0IGF0dHIgPSBhdHRyc1tpbmRleF07XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICBsZXQgbmFtZSA9IHV0aWxzLmNhbWVsQ2FzZShhdHRyLmdldEF0dHJpYnV0ZSgnbmFtZScpKTtcbiAgICAgIGlmIChhdHRyLmF0dHJpYnV0ZXNbJ2NvbnRlbnRlZGl0YWJsZSddKSB7XG4gICAgICAgIHZhbHVlID0gYXR0ci5pbm5lckhUTUw7XG4gICAgICB9IGVsc2UgaWYgKGF0dHIudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICB2YWx1ZSA9IGF0dHIuY2hlY2tlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gYXR0ci52YWx1ZTtcbiAgICAgIH1cbiAgICAgIGZpZWxkRGF0YVtuYW1lXSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3QgZmllbGQgYXR0cmlidXRlIHZhbHVlcyBhbmQgY2FsbCBmaWVsZFByZXZpZXcgdG8gZ2VuZXJhdGUgcHJldmlld1xuICAgKiBAcGFyYW0gIHtPYmplY3R9ICRmaWVsZCBqUXVlcnkgRE9NIGVsZW1lbnRcbiAgICovXG4gIHVwZGF0ZVByZXZpZXcoJGZpZWxkKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZCA9IHRoaXMuZDtcbiAgICBjb25zdCBmaWVsZENsYXNzID0gJGZpZWxkLmF0dHIoJ2NsYXNzJyk7XG4gICAgbGV0IGZpZWxkID0gJGZpZWxkWzBdO1xuICAgIGlmIChmaWVsZENsYXNzLmluZGV4T2YoJ2lucHV0LWNvbnRyb2wnKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZmllbGRUeXBlID0gJGZpZWxkLmF0dHIoJ3R5cGUnKTtcbiAgICBsZXQgJHByZXZIb2xkZXIgPSAkKCcucHJldi1ob2xkZXInLCBmaWVsZCk7XG4gICAgbGV0IHByZXZpZXdEYXRhID0ge1xuICAgICAgdHlwZTogZmllbGRUeXBlXG4gICAgfTtcbiAgICBsZXQgcHJldmlldztcblxuICAgIF90aGlzLnNldEF0dHJWYWxzKGZpZWxkLCBwcmV2aWV3RGF0YSk7XG5cbiAgICBsZXQgc3R5bGUgPSAkKCcuYnRuLXN0eWxlJywgZmllbGQpLnZhbCgpO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgcHJldmlld0RhdGEuc3R5bGUgPSBzdHlsZTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGRUeXBlLm1hdGNoKGQub3B0aW9uRmllbGRzUmVnRXgpKSB7XG4gICAgICBwcmV2aWV3RGF0YS52YWx1ZXMgPSBbXTtcbiAgICAgIHByZXZpZXdEYXRhLm11bHRpcGxlID0gJCgnW25hbWU9XCJtdWx0aXBsZVwiXScsIGZpZWxkKS5pcygnOmNoZWNrZWQnKTtcblxuICAgICAgJCgnLnNvcnRhYmxlLW9wdGlvbnMgbGknLCBmaWVsZCkuZWFjaChmdW5jdGlvbihpLCAkb3B0aW9uKSB7XG4gICAgICAgIGxldCBvcHRpb24gPSB7fTtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gJCgnLm9wdGlvbi1zZWxlY3RlZCcsICRvcHRpb24pLmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgICBvcHRpb24udmFsdWUgPSAkKCcub3B0aW9uLXZhbHVlJywgJG9wdGlvbikudmFsKCk7XG4gICAgICAgIG9wdGlvbi5sYWJlbCA9ICQoJy5vcHRpb24tbGFiZWwnLCAkb3B0aW9uKS52YWwoKTtcbiAgICAgICAgcHJldmlld0RhdGEudmFsdWVzLnB1c2gob3B0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHByZXZpZXdEYXRhID0gdXRpbHMudHJpbU9iaihwcmV2aWV3RGF0YSk7XG5cbiAgICBwcmV2aWV3RGF0YS5jbGFzc05hbWUgPSBfdGhpcy5jbGFzc05hbWVzKGZpZWxkLCBwcmV2aWV3RGF0YSk7XG4gICAgJCgnLmZsZC1jbGFzc05hbWUnLCBmaWVsZCkudmFsKHByZXZpZXdEYXRhLmNsYXNzTmFtZSk7XG5cbiAgICAkZmllbGQuZGF0YSgnZmllbGREYXRhJywgcHJldmlld0RhdGEpO1xuXG4gICAgLy8gZGV0ZXJtaW5lIHRoZSBjb250cm9sIGNsYXNzIGZvciB0aGlzIHR5cGUsIGFuZCB0aGVuIHByb2Nlc3MgaXQgdGhyb3VnaCB0aGUgbGF5b3V0IGVuZ2luZVxuICAgIGxldCBjdXN0b20gPSBjb250cm9sQ3VzdG9tLmxvb2t1cChwcmV2aWV3RGF0YS50eXBlKTtcbiAgICBsZXQgY29udHJvbENsYXNzID0gY3VzdG9tID8gY3VzdG9tLmNsYXNzIDogY29udHJvbC5nZXRDbGFzcyhwcmV2aWV3RGF0YS50eXBlLFxuICAgICAgcHJldmlld0RhdGEuc3VidHlwZSk7XG4gICAgcHJldmlldyA9IHRoaXMubGF5b3V0LmJ1aWxkKGNvbnRyb2xDbGFzcywgcHJldmlld0RhdGEpO1xuXG4gICAgZW1wdHkoJHByZXZIb2xkZXJbMF0pO1xuICAgICRwcmV2SG9sZGVyWzBdLmFwcGVuZENoaWxkKHByZXZpZXcpO1xuICAgIHByZXZpZXcuZGlzcGF0Y2hFdmVudChldmVudHMuZmllbGRSZW5kZXJlZCk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheSBhIGN1c3RvbSB0b29sdGlwIGZvciBkaXNhYmxlZCBmaWVsZHMuXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gc3RhZ2VcbiAgICovXG4gIGRpc2FibGVkVFQoc3RhZ2UpIHtcbiAgICBjb25zdCBtb3ZlID0gKGUsIGVsZW0pID0+IHtcbiAgICAgIGNvbnN0IGZpZWxkT2Zmc2V0ID0gZWxlbS5maWVsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHggPSBlLmNsaWVudFggLSBmaWVsZE9mZnNldC5sZWZ0IC0gMjE7XG4gICAgICBjb25zdCB5ID0gZS5jbGllbnRZIC0gZmllbGRPZmZzZXQudG9wIC0gZWxlbS50dC5vZmZzZXRIZWlnaHQgLSAxMjtcbiAgICAgIGVsZW0udHQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weClgO1xuICAgIH07XG5cbiAgICBjb25zdCBkaXNhYmxlZEZpZWxkcyA9IHN0YWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXNhYmxlZC1maWVsZCcpO1xuICAgIHV0aWxzLmZvckVhY2goZGlzYWJsZWRGaWVsZHMsIGluZGV4ID0+IHtcbiAgICAgIGxldCBmaWVsZCA9IGRpc2FibGVkRmllbGRzW2luZGV4XTtcbiAgICAgIGxldCB0aXRsZSA9IG1pMThuLmdldCgnZmllbGROb25FZGl0YWJsZScpO1xuXG4gICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgbGV0IHR0ID0gdXRpbHMubWFya3VwKCdwJywgdGl0bGUsIHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdmcm1iLXR0J1xuICAgICAgICB9KTtcbiAgICAgICAgZmllbGQuYXBwZW5kQ2hpbGQodHQpO1xuICAgICAgICBmaWVsZC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBlID0+IG1vdmUoZSwge1xuICAgICAgICAgIHR0LCBmaWVsZFxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBjbGFzc05hbWVzIGZvciBmaWVsZFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGZpZWxkXG4gICAqIEBwYXJhbSAge09iamVjdH0gcHJldmlld0RhdGFcbiAgICogQHJldHVybiB7U3RyaW5nfSBjbGFzc05hbWVzXG4gICAqL1xuICBjbGFzc05hbWVzKGZpZWxkLCBwcmV2aWV3RGF0YSkge1xuICAgIGxldCBjbGFzc05hbWUgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuZmxkLWNsYXNzTmFtZScpO1xuICAgIGlmICghY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpO1xuICAgIGxldCB0eXBlID0gcHJldmlld0RhdGEudHlwZTtcbiAgICBsZXQgc3R5bGUgPSBwcmV2aWV3RGF0YS5zdHlsZTtcbiAgICBsZXQgY2xhc3NlcyA9IGNsYXNzTmFtZS52YWx1ZS5zcGxpdCgnICcpO1xuICAgIGxldCB0eXBlcyA9IHtcbiAgICAgIGJ1dHRvbjogJ2J0bicsXG4gICAgICBzdWJtaXQ6ICdidG4nXG4gICAgfTtcblxuICAgIGxldCBwcmltYXJ5VHlwZSA9IHR5cGVzW3R5cGVdO1xuXG4gICAgaWYgKHByaW1hcnlUeXBlKSB7XG4gICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgcmUgPSBuZXcgUmVnRXhwKGAoPzpefFxccykke3ByaW1hcnlUeXBlfS0oLio/KSg/Olxcc3wkKStgLCAnZycpO1xuICAgICAgICAgIGxldCBtYXRjaCA9IGNsYXNzZXNbaV0ubWF0Y2gocmUpO1xuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY2xhc3Nlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsYXNzZXMucHVzaChwcmltYXJ5VHlwZSArICctJyArIHN0eWxlKTtcbiAgICAgIH1cbiAgICAgIGNsYXNzZXMucHVzaChwcmltYXJ5VHlwZSk7XG4gICAgfVxuXG4gICAgLy8gcmV2ZXJzZSB0aGUgYXJyYXkgdG8gcHV0IGN1c3RvbSBjbGFzc2VzIGF0IGVuZCxcbiAgICAvLyByZW1vdmUgYW55IGR1cGxpY2F0ZXMsIGNvbnZlcnQgdG8gc3RyaW5nLCByZW1vdmUgd2hpdGVzcGFjZVxuICAgIHJldHVybiB1dGlscy51bmlxdWUoY2xhc3Nlcykuam9pbignICcpLnRyaW0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgYW5kIG9wZW4gZGlhbG9nXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gb3ZlcmxheSBFeGlzdGluZyBvdmVybGF5IGlmIHRoZXJlIGlzIG9uZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGRpYWxvZyAgRXhpc3RpbmcgZGlhbG9nXG4gICAqL1xuICBjbG9zZUNvbmZpcm0ob3ZlcmxheSwgZGlhbG9nKSB7XG4gICAgaWYgKCFvdmVybGF5KSB7XG4gICAgICBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9ybS1idWlsZGVyLW92ZXJsYXknKVswXTtcbiAgICB9XG4gICAgaWYgKCFkaWFsb2cpIHtcbiAgICAgIGRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Zvcm0tYnVpbGRlci1kaWFsb2cnKVswXTtcbiAgICB9XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgcmVtb3ZlKGRpYWxvZyk7XG4gICAgcmVtb3ZlKG92ZXJsYXkpO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLm1vZGFsQ2xvc2VkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsYXlvdXQgZGF0YSBiYXNlZCBvbiBjb250cm9sUG9zaXRpb24gb3B0aW9uXG4gICAqIEBwYXJhbSAge1N0cmluZ30gY29udHJvbFBvc2l0aW9uICdsZWZ0JyBvciAncmlnaHQnXG4gICAqIEByZXR1cm4ge09iamVjdH0gbGF5b3V0IG9iamVjdFxuICAgKi9cbiAgZWRpdG9yTGF5b3V0KGNvbnRyb2xQb3NpdGlvbikge1xuICAgIGxldCBsYXlvdXRNYXAgPSB7XG4gICAgICBsZWZ0OiB7XG4gICAgICAgIHN0YWdlOiAncHVsbC1yaWdodCcsXG4gICAgICAgIGNvbnRyb2xzOiAncHVsbC1sZWZ0J1xuICAgICAgfSxcbiAgICAgIHJpZ2h0OiB7XG4gICAgICAgIHN0YWdlOiAncHVsbC1sZWZ0JyxcbiAgICAgICAgY29udHJvbHM6ICdwdWxsLXJpZ2h0J1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gbGF5b3V0TWFwW2NvbnRyb2xQb3NpdGlvbl0gfHwgJyc7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBvdmVybGF5IHRvIHRoZSBwYWdlLiBVc2VkIGZvciBtb2RhbHMuXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIE9iamVjdFxuICAgKi9cbiAgc2hvd092ZXJsYXkoKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBvdmVybGF5ID0gdXRpbHMubWFya3VwKCdkaXYnLCBudWxsLCB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWJ1aWxkZXItb3ZlcmxheSdcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgb3ZlcmxheS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5jbG9zZUNvbmZpcm0ob3ZlcmxheSk7XG4gICAgfTtcblxuICAgIHJldHVybiBvdmVybGF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBjb25maXJtYXRpb24gZGlhbG9nXG4gICAqXG4gICAqIEBwYXJhbSAge09iamVjdH0gIG1lc3NhZ2UgICBDb250ZW50IHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgZGlhbG9nXG4gICAqIEBwYXJhbSAge0Z1bmN9ICB5ZXNBY3Rpb24gY2FsbGJhY2sgdG8gZmlyZSBpZiB0aGV5IGNvbmZpcm1cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gY29vcmRzICAgIGxvY2F0aW9uIHRvIHB1dCB0aGUgZGlhbG9nXG4gICAqIEBwYXJhbSAge1N0cmluZ30gIGNsYXNzTmFtZSBDdXN0b20gY2xhc3MgdG8gYmUgYWRkZWQgdG8gdGhlIGRpYWxvZ1xuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgUmVmZXJlbmNlIHRvIHRoZSBtb2RhbFxuICAgKi9cbiAgY29uZmlybShtZXNzYWdlLCB5ZXNBY3Rpb24sIGNvb3JkcyA9IGZhbHNlLCBjbGFzc05hbWUgPSAnJykge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBsZXQgaTE4biA9IG1pMThuLmN1cnJlbnQ7XG4gICAgbGV0IG92ZXJsYXkgPSBfdGhpcy5zaG93T3ZlcmxheSgpO1xuICAgIGxldCB5ZXMgPSBtKCdidXR0b24nLCBpMThuLnllcywge1xuICAgICAgY2xhc3NOYW1lOiAneWVzIGJ0biBidG4tc3VjY2VzcyBidG4tc20nXG4gICAgfSk7XG4gICAgbGV0IG5vID0gbSgnYnV0dG9uJywgaTE4bi5ubywge1xuICAgICAgY2xhc3NOYW1lOiAnbm8gYnRuIGJ0bi1kYW5nZXIgYnRuLXNtJ1xuICAgIH0pO1xuXG4gICAgbm8ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgX3RoaXMuY2xvc2VDb25maXJtKG92ZXJsYXkpO1xuICAgIH07XG5cbiAgICB5ZXMub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgeWVzQWN0aW9uKCk7XG4gICAgICBfdGhpcy5jbG9zZUNvbmZpcm0ob3ZlcmxheSk7XG4gICAgfTtcblxuICAgIGxldCBidG5XcmFwID0gbSgnZGl2JywgW25vLCB5ZXNdLCB7XG4gICAgICBjbGFzc05hbWU6ICdidXR0b24td3JhcCdcbiAgICB9KTtcblxuICAgIGNsYXNzTmFtZSA9ICdmb3JtLWJ1aWxkZXItZGlhbG9nICcgKyBjbGFzc05hbWU7XG5cbiAgICBsZXQgbWluaU1vZGFsID0gbSgnZGl2JywgW21lc3NhZ2UsIGJ0bldyYXBdLCB7XG4gICAgICBjbGFzc05hbWVcbiAgICB9KTtcbiAgICBpZiAoIWNvb3Jkcykge1xuICAgICAgY29uc3QgZEUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHBhZ2VYOiBNYXRoLm1heChkRS5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCkgLyAyLFxuICAgICAgICBwYWdlWTogTWF0aC5tYXgoZEUuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCkgLyAyXG4gICAgICB9O1xuICAgICAgbWluaU1vZGFsLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgbWluaU1vZGFsLmNsYXNzTGlzdC5hZGQoJ3Bvc2l0aW9uZWQnKTtcbiAgICB9XG5cbiAgICBtaW5pTW9kYWwuc3R5bGUubGVmdCA9IGNvb3Jkcy5wYWdlWCArICdweCc7XG4gICAgbWluaU1vZGFsLnN0eWxlLnRvcCA9IGNvb3Jkcy5wYWdlWSArICdweCc7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1pbmlNb2RhbCk7XG5cbiAgICB5ZXMuZm9jdXMoKTtcbiAgICByZXR1cm4gbWluaU1vZGFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvcHVwIGRpYWxvZyB0aGUgZG9lcyBub3QgcmVxdWlyZSBjb25maXJtYXRpb24uXG4gICAqIEBwYXJhbSAge1N0cmluZ3xET018QXJyYXl9ICBjb250ZW50XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGNvb3JkcyAgICBzY3JlZW4gY29vcmRpbmF0ZXMgdG8gcG9zaXRpb24gZGlhbG9nXG4gICAqIEBwYXJhbSAge1N0cmluZ30gIGNsYXNzTmFtZSBjbGFzc25hbWUgdG8gYmUgYWRkZWQgdG8gdGhlIGRpYWxvZ1xuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgZG9tXG4gICAqL1xuICBkaWFsb2coY29udGVudCwgY29vcmRzID0gZmFsc2UsIGNsYXNzTmFtZSA9ICcnKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBjbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICBsZXQgY2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICBfdGhpcy5zaG93T3ZlcmxheSgpO1xuXG4gICAgY2xhc3NOYW1lID0gJ2Zvcm0tYnVpbGRlci1kaWFsb2cgJyArIGNsYXNzTmFtZTtcblxuICAgIGxldCBtaW5pTW9kYWwgPSB1dGlscy5tYXJrdXAoJ2RpdicsIGNvbnRlbnQsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgfSk7XG4gICAgaWYgKCFjb29yZHMpIHtcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgcGFnZVg6IE1hdGgubWF4KGNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKSAvIDIsXG4gICAgICAgIHBhZ2VZOiBNYXRoLm1heChjbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSAvIDJcbiAgICAgIH07XG4gICAgICBtaW5pTW9kYWwuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaW5pTW9kYWwuY2xhc3NMaXN0LmFkZCgncG9zaXRpb25lZCcpO1xuICAgIH1cblxuICAgIG1pbmlNb2RhbC5zdHlsZS5sZWZ0ID0gY29vcmRzLnBhZ2VYICsgJ3B4JztcbiAgICBtaW5pTW9kYWwuc3R5bGUudG9wID0gY29vcmRzLnBhZ2VZICsgJ3B4JztcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWluaU1vZGFsKTtcblxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLm1vZGFsT3BlbmVkKTtcblxuICAgIGlmIChjbGFzc05hbWUuaW5kZXhPZignZGF0YS1kaWFsb2cnKSAhPT0gLTEpIHtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLnZpZXdEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWluaU1vZGFsO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpcm0gYWxsIGZpZWxkcyB3aWxsIGJlIHJlbW92ZWQgdGhlbiByZW1vdmUgdGhlbVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGUgY2xpY2sgZXZlbnQgb2JqZWN0XG4gICAqL1xuICBjb25maXJtUmVtb3ZlQWxsKGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBmb3JtSUQgPSBlLnRhcmdldC5pZC5tYXRjaCgvZnJtYi1cXGR7MTN9LylbMF07XG4gICAgbGV0IHN0YWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9ybUlEKTtcbiAgICBsZXQgaTE4biA9IG1pMThuLmN1cnJlbnQ7XG4gICAgbGV0IGZpZWxkcyA9ICQoJ2xpLmZvcm0tZmllbGQnLCBzdGFnZSk7XG4gICAgbGV0IGJ1dHRvblBvc2l0aW9uID0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgY29vcmRzID0ge1xuICAgICAgcGFnZVg6IGJ1dHRvblBvc2l0aW9uLmxlZnQgKyAoYnV0dG9uUG9zaXRpb24ud2lkdGggLyAyKSxcbiAgICAgIHBhZ2VZOiAoYnV0dG9uUG9zaXRpb24udG9wIC0gYm9keVJlY3QudG9wKSAtIDEyXG4gICAgfTtcblxuICAgIGlmIChmaWVsZHMubGVuZ3RoKSB7XG4gICAgICBfdGhpcy5jb25maXJtKGkxOG4uY2xlYXJBbGxNZXNzYWdlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMucmVtb3ZlQWxsRmllbGRzLmNhbGwoX3RoaXMsIHN0YWdlKTtcbiAgICAgICAgY29uZmlnLm9wdHMubm90aWZ5LnN1Y2Nlc3MoaTE4bi5hbGxGaWVsZHNSZW1vdmVkKTtcbiAgICAgICAgY29uZmlnLm9wdHMub25DbGVhckFsbCgpO1xuICAgICAgfSwgY29vcmRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMuZGlhbG9nKGkxOG4ubm9GaWVsZHNUb0NsZWFyLCBjb29yZHMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBmaWVsZHMgZnJvbSB0aGUgZm9ybVxuICAgKiBAcGFyYW0ge09iamVjdH0gc3RhZ2UgdG8gcmVtb3ZlIGZpZWxkcyBmb3JtXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gYW5pbWF0ZSB3aGV0aGVyIHRvIGFuaW1hdGUgb3Igbm90XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZW1vdmVBbGxGaWVsZHMoc3RhZ2UsIGFuaW1hdGUgPSB0cnVlKSB7XG4gICAgbGV0IGkxOG4gPSBtaTE4bi5jdXJyZW50O1xuICAgIGxldCBvcHRzID0gY29uZmlnLm9wdHM7XG4gICAgbGV0IGZpZWxkcyA9IHN0YWdlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLmZvcm0tZmllbGQnKTtcbiAgICBsZXQgbWFya0VtcHR5QXJyYXkgPSBbXTtcblxuICAgIGlmICghZmllbGRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnByZXBlbmQpIHtcbiAgICAgIG1hcmtFbXB0eUFycmF5LnB1c2godHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXBwZW5kKSB7XG4gICAgICBtYXJrRW1wdHlBcnJheS5wdXNoKHRydWUpO1xuICAgIH1cblxuICAgIGlmICghbWFya0VtcHR5QXJyYXkuc29tZShlbGVtID0+IGVsZW0gPT09IHRydWUpKSB7XG4gICAgICBzdGFnZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2VtcHR5Jyk7XG4gICAgICBzdGFnZS5wYXJlbnRFbGVtZW50LmRhdGFzZXQuY29udGVudCA9IGkxOG4uZ2V0U3RhcnRlZDtcbiAgICB9XG5cbiAgICBpZiAoYW5pbWF0ZSkge1xuICAgICAgc3RhZ2UuY2xhc3NMaXN0LmFkZCgncmVtb3ZpbmcnKTtcbiAgICAgIGxldCBvdXRlckhlaWdodCA9IDA7XG4gICAgICB1dGlscy5mb3JFYWNoKGZpZWxkcywgaW5kZXggPT5cbiAgICAgICAgb3V0ZXJIZWlnaHQgKz0gZmllbGRzW2luZGV4XS5vZmZzZXRIZWlnaHQgKyAzKTtcbiAgICAgIGZpZWxkc1swXS5zdHlsZS5tYXJnaW5Ub3AgPSBgJHstb3V0ZXJIZWlnaHR9cHhgO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVtcHR5KHN0YWdlKS5jbGFzc0xpc3QucmVtb3ZlKCdyZW1vdmluZycpO1xuICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgIH0sIDQwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtcHR5KHN0YWdlKTtcbiAgICAgIHRoaXMuc2F2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB1c2VyIHJlLW9yZGVycyB0aGUgZWxlbWVudHMgdGhlaXIgb3JkZXIgc2hvdWxkIGJlIHNhdmVkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gJGNiVUwgb3VyIGxpc3Qgb2YgZWxlbWVudHNcbiAgICogQHJldHVybiB7QXJyYXl9IGZpZWxkT3JkZXJcbiAgICovXG4gIHNldEZpZWxkT3JkZXIoJGNiVUwpIHtcbiAgICBpZiAoIWNvbmZpZy5vcHRzLnNvcnRhYmxlQ29udHJvbHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgc2Vzc2lvblN0b3JhZ2UsIEpTT05cbiAgICB9ID0gd2luZG93O1xuXG4gICAgbGV0IGZpZWxkT3JkZXIgPSBbXTtcblxuICAgICRjYlVMLmNoaWxkcmVuKCkuZWFjaCgoaW5kZXgsIGVsZW1lbnQpID0+IHtcbiAgICAgIGxldCB0eXBlID0gJChlbGVtZW50KS5kYXRhKCd0eXBlJyk7XG4gICAgICBpZiAodHlwZSkge1xuICAgICAgICBmaWVsZE9yZGVyLnB1c2godHlwZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UpIHtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2ZpZWxkT3JkZXInLCBKU09OLnN0cmluZ2lmeShmaWVsZE9yZGVyKSk7XG4gICAgfVxuICAgIHJldHVybiBmaWVsZE9yZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlb3JkZXIgdGhlIGNvbnRyb2xzIGlmIHRoZSB1c2VyIGhhcyBwcmV2aW91c2x5IG9yZGVyZWQgdGhlbS5cbiAgICpcbiAgICogQHBhcmFtICB7QXJyYXl9IGNvbnRyb2xzIC0gYW4gYXJyYXkgb2YgY29udHJvbCB0eXBlc1xuICAgKiBAcmV0dXJuIHtBcnJheX0gb3JkZXJlZCBmaWVsZHNcbiAgICovXG4gIG9yZGVyRmllbGRzKGNvbnRyb2xzKSB7XG4gICAgY29uc3Qgb3B0cyA9IGNvbmZpZy5vcHRzO1xuICAgIGxldCBjb250cm9sT3JkZXIgPSBvcHRzLmNvbnRyb2xPcmRlci5jb25jYXQoY29udHJvbHMpO1xuICAgIGxldCBmaWVsZE9yZGVyO1xuXG4gICAgLy8gcmV0cmlldmUgYW55IHNhdmVkIG9yZGVyaW5nIGZyb20gdGhlIHNlc3Npb25cbiAgICBpZiAod2luZG93LnNlc3Npb25TdG9yYWdlKSB7XG4gICAgICBpZiAob3B0cy5zb3J0YWJsZUNvbnRyb2xzKSB7XG4gICAgICAgIGZpZWxkT3JkZXIgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZmllbGRPcmRlcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2ZpZWxkT3JkZXInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGEgc2F2ZWQgb3JkZXIsIHVzZSBpdC4gT3RoZXJ3aXNlIGJ1aWxkIHRoZSBvcmRlciBvdXJzZWx2ZXNcbiAgICBpZiAoIWZpZWxkT3JkZXIpIHtcbiAgICAgIGZpZWxkT3JkZXIgPSB1dGlscy51bmlxdWUoY29udHJvbE9yZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmllbGRPcmRlciA9IHdpbmRvdy5KU09OLnBhcnNlKGZpZWxkT3JkZXIpO1xuICAgICAgZmllbGRPcmRlciA9IHV0aWxzLnVuaXF1ZShmaWVsZE9yZGVyLmNvbmNhdChjb250cm9scykpO1xuICAgICAgZmllbGRPcmRlciA9IE9iamVjdC5rZXlzKGZpZWxkT3JkZXIpLm1hcChpID0+IGZpZWxkT3JkZXJbaV0pO1xuICAgIH1cblxuICAgIC8vIG9yZGVyIGN1c3RvbSBmaWVsZHNcbiAgICBmaWVsZE9yZGVyLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgLy8gaWRlbnRpZnkgY3VzdG9tIGZpZWxkXG4gICAgICBjb25zdCByYW5kb21LZXkgPSBuZXcgUmVnRXhwKCctW1xcXFxkXXs0fSQnKTtcblxuICAgICAgaWYgKGZpZWxkLm1hdGNoKHJhbmRvbUtleSkpIHtcbiAgICAgICAgbGV0IGJhc2VGaWVsZEluZGV4ID0gZmllbGRPcmRlci5pbmRleE9mKGZpZWxkLnJlcGxhY2UocmFuZG9tS2V5LCAnJykpO1xuICAgICAgICBpZiAoYmFzZUZpZWxkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgZmllbGRPcmRlci5zcGxpY2UoZmllbGRPcmRlci5pbmRleE9mKGZpZWxkKSwgMSk7XG4gICAgICAgICAgZmllbGRPcmRlci5zcGxpY2UoYmFzZUZpZWxkSW5kZXggKyAxLCBmaWVsZE9yZGVyLmluZGV4T2YoZmllbGQpLFxuICAgICAgICAgICAgZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgZGlzYWJsZUZpZWxkc1xuICAgIGlmIChvcHRzLmRpc2FibGVGaWVsZHMubGVuZ3RoKSB7XG4gICAgICBmaWVsZE9yZGVyID0gZmllbGRPcmRlci5maWx0ZXIodHlwZSA9PiBvcHRzLmRpc2FibGVGaWVsZHMuaW5kZXhPZih0eXBlKSA9PVxuICAgICAgICAtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZWxkT3JkZXIuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIGZpZWxkcyBiZWluZyBlZGl0aW5nXG4gICAqIEBwYXJhbSAge09iamVjdH0gc3RhZ2VcbiAgICovXG4gIGNsb3NlQWxsRWRpdCgpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgY29uc3QgZmllbGRzID0gJCgnPiBsaS5lZGl0aW5nJywgX3RoaXMuZC5zdGFnZSk7XG4gICAgY29uc3QgdG9nZ2xlQnRucyA9ICQoJy50b2dnbGUtZm9ybScsIF90aGlzLmQuc3RhZ2UpO1xuICAgIGNvbnN0IGVkaXRQYW5lbHMgPSAkKCcuZnJtLWhvbGRlcicsIGZpZWxkcyk7XG5cbiAgICB0b2dnbGVCdG5zLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgZmllbGRzLnJlbW92ZUNsYXNzKCdlZGl0aW5nJyk7XG4gICAgJCgnLnByZXYtaG9sZGVyJywgZmllbGRzKS5zaG93KCk7XG4gICAgZWRpdFBhbmVscy5oaWRlKCk7XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgZWRpdCBtb2RlIGZvciB0aGUgZ2l2ZW4gZmllbGRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBmaWVsZElkXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGFuaW1hdGVcbiAgICovXG4gIHRvZ2dsZUVkaXQoZmllbGRJZCwgYW5pbWF0ZSA9IHRydWUpIHtcbiAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpZWxkSWQpO1xuICAgIGNvbnN0IHRvZ2dsZUJ0biA9ICQoJy50b2dnbGUtZm9ybScsIGZpZWxkKTtcbiAgICBjb25zdCBlZGl0UGFuZWwgPSAkKCcuZnJtLWhvbGRlcicsIGZpZWxkKTtcbiAgICBmaWVsZC5jbGFzc0xpc3QudG9nZ2xlKCdlZGl0aW5nJyk7XG4gICAgdG9nZ2xlQnRuLnRvZ2dsZUNsYXNzKCdvcGVuJyk7XG4gICAgaWYgKGFuaW1hdGUpIHtcbiAgICAgICQoJy5wcmV2LWhvbGRlcicsIGZpZWxkKS5zbGlkZVRvZ2dsZSgyNTApO1xuICAgICAgZWRpdFBhbmVsLnNsaWRlVG9nZ2xlKDI1MCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5wcmV2LWhvbGRlcicsIGZpZWxkKS50b2dnbGUoKTtcbiAgICAgIGVkaXRQYW5lbC50b2dnbGUoKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVQcmV2aWV3KCQoZmllbGQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyBmb2xsb3cgc2Nyb2xsIHRvIHRoZSBib3R0b20gb2YgdGhlIGVkaXRvclxuICAgKi9cbiAgc3RpY2t5Q29udHJvbHMoKSB7XG4gICAgbGV0IGQgPSB0aGlzLmQ7XG4gICAgY29uc3QgJGNiV3JhcCA9ICQoZC5jb250cm9scykucGFyZW50KCk7XG4gICAgY29uc3QgJHN0YWdlV3JhcCA9ICQoZC5zdGFnZSkucGFyZW50KCk7XG4gICAgY29uc3QgY2JXaWR0aCA9ICRjYldyYXAud2lkdGgoKTtcbiAgICBjb25zdCBjYlBvc2l0aW9uID0gZC5jb250cm9scy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBsZXQgc2Nyb2xsVG9wID0gJChldnQudGFyZ2V0KS5zY3JvbGxUb3AoKTtcbiAgICAgIGNvbnN0IG9mZnNldERlZmF1bHRzID0ge1xuICAgICAgICB0b3A6IDUsXG4gICAgICAgIGJvdHRvbTogJ2F1dG8nLFxuICAgICAgICByaWdodDogJ2F1dG8nLFxuICAgICAgICBsZWZ0OiBjYlBvc2l0aW9uLmxlZnRcbiAgICAgIH07XG5cbiAgICAgIGxldCBvZmZzZXQgPSBPYmplY3QuYXNzaWduKHt9LFxuICAgICAgICBvZmZzZXREZWZhdWx0cyxcbiAgICAgICAgY29uZmlnLm9wdHMuc3RpY2t5Q29udHJvbHMub2Zmc2V0XG4gICAgICApO1xuXG4gICAgICBpZiAoc2Nyb2xsVG9wID4gJHN0YWdlV3JhcC5vZmZzZXQoKS50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgd2lkdGg6IGNiV2lkdGhcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjYlN0eWxlID0gT2JqZWN0LmFzc2lnbihzdHlsZSwgb2Zmc2V0KTtcblxuICAgICAgICBsZXQgY2JPZmZzZXQgPSAkY2JXcmFwLm9mZnNldCgpO1xuICAgICAgICBsZXQgc3RhZ2VPZmZzZXQgPSAkc3RhZ2VXcmFwLm9mZnNldCgpO1xuICAgICAgICBsZXQgY2JCb3R0b20gPSBjYk9mZnNldC50b3AgKyAkY2JXcmFwLmhlaWdodCgpO1xuICAgICAgICBsZXQgc3RhZ2VCb3R0b20gPSBzdGFnZU9mZnNldC50b3AgKyAkc3RhZ2VXcmFwLmhlaWdodCgpO1xuICAgICAgICBsZXQgYXRCb3R0b20gPSAoY2JCb3R0b20gPT09IHN0YWdlQm90dG9tICYmIGNiT2Zmc2V0LnRvcCA+IHNjcm9sbFRvcCk7XG5cbiAgICAgICAgaWYgKGNiQm90dG9tID4gc3RhZ2VCb3R0b20gJiYgKGNiT2Zmc2V0LnRvcCAhPT0gc3RhZ2VPZmZzZXQudG9wKSkge1xuICAgICAgICAgICRjYldyYXAuY3NzKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOiAnYXV0bycsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGxlZnQ6ICdhdXRvJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNiQm90dG9tIDwgc3RhZ2VCb3R0b20gfHwgYXRCb3R0b20pIHtcbiAgICAgICAgICAkY2JXcmFwLmNzcyhjYlN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZC5jb250cm9scy5wYXJlbnRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVuIGEgZGlhbG9nIHdpdGggdGhlIGZvcm0ncyBkYXRhXG4gICAqL1xuICBzaG93RGF0YSgpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGNvbnN0IGZvcm1EYXRhID0gdXRpbHMuZXNjYXBlSHRtbChkYXRhLmZvcm1EYXRhKTtcbiAgICBjb25zdCBjb2RlID0gbSgnY29kZScsIGZvcm1EYXRhLCB7XG4gICAgICBjbGFzc05hbWU6IGBmb3JtRGF0YS0ke2NvbmZpZy5vcHRzLmRhdGFUeXBlfWBcbiAgICB9KTtcblxuICAgIHRoaXMuZGlhbG9nKG0oJ3ByZScsIGNvZGUpLCBudWxsLCAnZGF0YS1kaWFsb2cnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBmaWVsZCBmcm9tIHRoZSBzdGFnZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBmaWVsZElEIElEIG9mIHRoZSBmaWVsZCB0byBiZSByZW1vdmVkXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGZpZWxkUmVtb3ZlZCByZXR1cm5zIHRydWUgaWYgZmllbGQgaXMgcmVtb3ZlZFxuICAgKi9cbiAgcmVtb3ZlRmllbGQoZmllbGRJRCkge1xuICAgIGxldCBmaWVsZFJlbW92ZWQgPSBmYWxzZTtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGNvbnN0IGZvcm0gPSB0aGlzLmQuc3RhZ2U7XG4gICAgY29uc3QgZmllbGRzID0gZm9ybS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtLWZpZWxkJyk7XG5cbiAgICBpZiAoIWZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gZmllbGRzIHRvIHJlbW92ZScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZmllbGRJRCkge1xuICAgICAgbGV0IGF2YWlsYWJsZUlkcyA9IFtdLnNsaWNlLmNhbGwoZmllbGRzKS5tYXAoKGZpZWxkKSA9PiB7XG4gICAgICAgIHJldHVybiBmaWVsZC5pZDtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS53YXJuKCdmaWVsZElEIHJlcXVpcmVkIHRvIHJlbW92ZSBzcGVjaWZpYyBmaWVsZHMuJyk7XG4gICAgICBjb25zb2xlLndhcm4oJ1JlbW92aW5nIGxhc3QgZmllbGQgc2luY2Ugbm8gSUQgd2FzIHN1cHBsaWVkLicpO1xuICAgICAgY29uc29sZS53YXJuKCdBdmFpbGFibGUgSURzOiAnICsgYXZhaWxhYmxlSWRzLmpvaW4oJywgJykpO1xuICAgICAgZmllbGRJRCA9IGZvcm0ubGFzdENoaWxkLmlkO1xuICAgIH1cblxuICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRJRCk7XG4gICAgY29uc3QgJGZpZWxkID0gJChmaWVsZCk7XG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgY29uc29sZS53YXJuKCdGaWVsZCBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkZmllbGQuc2xpZGVVcCgyNTAsIGZ1bmN0aW9uKCkge1xuICAgICAgJGZpZWxkLnJlbW92ZUNsYXNzKCdkZWxldGluZycpO1xuICAgICAgJGZpZWxkLnJlbW92ZSgpO1xuICAgICAgZmllbGRSZW1vdmVkID0gdHJ1ZTtcbiAgICAgIF90aGlzLnNhdmUoKTtcbiAgICAgIGlmICghZm9ybS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBsZXQgc3RhZ2VXcmFwID0gZm9ybS5wYXJlbnRFbGVtZW50O1xuICAgICAgICBzdGFnZVdyYXAuY2xhc3NMaXN0LmFkZCgnZW1wdHknKTtcbiAgICAgICAgc3RhZ2VXcmFwLmRhdGFzZXQuY29udGVudCA9IG1pMThuLmN1cnJlbnQuZ2V0U3RhcnRlZDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZpZWxkUmVtb3ZlZCk7XG4gICAgcmV0dXJuIGZpZWxkUmVtb3ZlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBtYXJrdXAgZm9yIGZvcm0gYWN0aW9uIGJ1dHRvbnNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBidXR0b25EYXRhXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnQgZm9yIGFjdGlvbiBidXR0b25cbiAgICovXG4gIHByb2Nlc3NBY3Rpb25CdXR0b25zKGJ1dHRvbkRhdGEpIHtcbiAgICBsZXQge1xuICAgICAgbGFiZWwsIGV2ZW50cywgLi4uYXR0cnNcbiAgICB9ID0gYnV0dG9uRGF0YTtcbiAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBpZiAoIWxhYmVsKSB7XG4gICAgICBpZiAoYXR0cnMuaWQpIHtcbiAgICAgICAgbGFiZWwgPSBtaTE4bi5jdXJyZW50W2F0dHJzLmlkXSB8fCB1dGlscy5jYXBpdGFsaXplKGF0dHJzLmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhYmVsID0gJyc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhYmVsID0gbWkxOG4uY3VycmVudFtsYWJlbF0gfHwgbGFiZWw7XG4gICAgfVxuXG4gICAgaWYgKCFhdHRycy5pZCkge1xuICAgICAgYXR0cnMuaWQgPSBgJHtkYXRhLmZvcm1JRH0tYWN0aW9uLSR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjEwMDApfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dHJzLmlkID0gYCR7ZGF0YS5mb3JtSUR9LSR7YXR0cnMuaWR9LWFjdGlvbmA7XG4gICAgfVxuXG4gICAgY29uc3QgYnV0dG9uID0gbSgnYnV0dG9uJywgbGFiZWwsIGF0dHJzKTtcblxuICAgIGlmIChldmVudHMpIHtcbiAgICAgIGZvciAobGV0IGV2ZW50IGluIGV2ZW50cykge1xuICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGV2ZW50KSkge1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldnQgPT4gZXZlbnRzW2V2ZW50XShldnQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBidXR0b247XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYW55IHN1YnR5cGUgY29udHJvbHMgc3BlY2lmaWVkIGluIHRoZSAnc3VidHlwZXMnIG9wdGlvbiwgcmV0cmlldmVcbiAgICogYWxsIGRlZmluZWQgc3VidHlwZXMgJiBidWlsZCB0aGUgZXhwb3J0IHN1YnR5cGUgZm9ybWF0XG4gICAqIEBwYXJhbSAge0FycmF5fSBzdWJ0eXBlT3B0c1xuICAgKiBAcmV0dXJuIHtBcnJheX0gc3VidHlwZXNcbiAgICovXG4gIHByb2Nlc3NTdWJ0eXBlcyhzdWJ0eXBlT3B0cykge1xuICAgIC8vIGZpcnN0IHJlZ2lzdGVyIGFueSBwYXNzZWQgc3VidHlwZSBvcHRpb25zIGFnYWluc3QgdGhlIGFwcHJvcHJpYXRlIHR5cGUgY29udHJvbCBjbGFzc1xuICAgIGZvciAobGV0IHR5cGUgaW4gc3VidHlwZU9wdHMpIHtcbiAgICAgIGlmIChzdWJ0eXBlT3B0cy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgICBsZXQgY29udHJvbENsYXNzID0gY29udHJvbC5nZXRDbGFzcyh0eXBlKTtcbiAgICAgICAgY29udHJvbC5yZWdpc3RlcihzdWJ0eXBlT3B0c1t0eXBlXSwgY29udHJvbENsYXNzLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXRyaWV2ZSBhIGxpc3Qgb2YgYWxsIHN1YnR5cGVzXG4gICAgbGV0IHN1YnR5cGVEZWYgPSBjb250cm9sLmdldFJlZ2lzdGVyZWRTdWJ0eXBlcygpO1xuXG4gICAgLy8gcmVmb3JtYXQgdGhlIHN1YnR5cGVzIGZvciBlYWNoIHR5cGVcbiAgICBsZXQgc3VidHlwZXMgPSB7fTtcbiAgICBmb3IgKGxldCB0eXBlIGluIHN1YnR5cGVEZWYpIHtcbiAgICAgIGlmIChzdWJ0eXBlRGVmLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBlYWNoIGRlZmluZWQgc3VidHlwZSAmIGJ1aWxkIHRoZSBmb3JtYXR0ZWQgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBzdWJ0eXBlIG9mIHN1YnR5cGVEZWZbdHlwZV0pIHtcbiAgICAgICAgICBsZXQgY29udHJvbENsYXNzID0gY29udHJvbC5nZXRDbGFzcyh0eXBlLCBzdWJ0eXBlKTtcbiAgICAgICAgICBmb3JtYXR0ZWQucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogY29udHJvbENsYXNzLm1pMThuKHN1YnR5cGUpLFxuICAgICAgICAgICAgdmFsdWU6IHN1YnR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzdWJ0eXBlc1t0eXBlXSA9IGZvcm1hdHRlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3VidHlwZXM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgc3RhZ2UgYW5kIGNvbnRyb2xzIGRvbSBlbGVtZW50c1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZvcm1JRCBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBlZGl0b3JVSShmb3JtSUQpIHtcbiAgICBsZXQgZCA9IHRoaXMuZDtcbiAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICBkLnN0YWdlID0gbSgndWwnLCBudWxsLCB7XG4gICAgICBpZDogZGF0YS5mb3JtSUQsXG4gICAgICBjbGFzc05hbWU6ICdmcm1iJ1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGRyYWdnYWJsZSBmaWVsZHMgZm9yIGZvcm1CdWlsZGVyXG4gICAgZC5jb250cm9scyA9IG0oJ3VsJywgbnVsbCwge1xuICAgICAgaWQ6IGAke2RhdGEuZm9ybUlEfS1jb250cm9sLWJveGAsXG4gICAgICBjbGFzc05hbWU6ICdmcm1iLWNvbnRyb2wnXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyB1c2VyIG9wdGlvbnMgZm9yIGFjdGlvbkJ1dHRvbnNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge09iamVjdH0gcHJvY2Vzc2VkT3B0aW9uc1xuICAgKi9cbiAgcHJvY2Vzc09wdGlvbnMob3B0aW9ucykge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBsZXQge1xuICAgICAgYWN0aW9uQnV0dG9ucywgLi4ub3B0c1xuICAgIH0gPSBvcHRpb25zO1xuICAgIGFjdGlvbkJ1dHRvbnMgPSBbe1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICBpZDogJ2NsZWFyJyxcbiAgICAgIGNsYXNzTmFtZTogJ2NsZWFyLWFsbCBidG4gYnRuLWRhbmdlcicsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgY2xpY2s6IF90aGlzLmNvbmZpcm1SZW1vdmVBbGwuYmluZChfdGhpcylcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgIGxhYmVsOiAndmlld0pTT04nLFxuICAgICAgaWQ6ICdkYXRhJyxcbiAgICAgIGNsYXNzTmFtZTogJ2J0biBidG4tZGVmYXVsdCcsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgY2xpY2s6IF90aGlzLnNob3dEYXRhLmJpbmQoX3RoaXMpXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICBpZDogJ3NhdmUnLFxuICAgICAgY2xhc3NOYW1lOiAnYnRuIGJ0bi1wcmltYXJ5IHNhdmUtdGVtcGxhdGUnLFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIGNsaWNrOiBldnQgPT4ge1xuICAgICAgICAgIF90aGlzLnNhdmUoKTtcbiAgICAgICAgICBjb25maWcub3B0cy5vblNhdmUoZXZ0LCBfdGhpcy5kYXRhLmZvcm1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dLmNvbmNhdChvcHRpb25zLmFjdGlvbkJ1dHRvbnMpO1xuICAgIGNvbmZpZy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgYWN0aW9uQnV0dG9uc1xuICAgIH0sIG9wdHMpO1xuICAgIHJldHVybiBjb25maWcub3B0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBTbWFsbCB3cmFwcGVyIGZvciBpbnB1dCBtYXJrdXBcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhdHRycyBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIGlucHV0KGF0dHJzID0ge30pIHtcbiAgICByZXR1cm4gbSgnaW5wdXQnLCBudWxsLCBhdHRycyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZGF0YSBmb3IgY3VycmVudCBpbnN0YW5jZSBvZiBmb3JtQnVpbGRlclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHR5cGVcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gZm9ybWF0dGVkXG4gICAqIEByZXR1cm4ge0FycmF5fFN0cmluZ30gZm9ybURhdGFcbiAgICovXG4gIGdldEZvcm1EYXRhKHR5cGUgPSAnanMnLCBmb3JtYXR0ZWQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGggPSB0aGlzO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBqczogKCkgPT4gaC5wcmVwRGF0YShoLmQuc3RhZ2UpLFxuICAgICAgeG1sOiAoKSA9PiBoLnhtbFNhdmUoaC5kLnN0YWdlKSxcbiAgICAgIGpzb246IGZvcm1hdHRlZCA9PiB7XG4gICAgICAgIGxldCBmb3JtRGF0YTtcbiAgICAgICAgaWYgKGZvcm1hdHRlZCkge1xuICAgICAgICAgIGZvcm1EYXRhID0gd2luZG93LkpTT04uc3RyaW5naWZ5KGgucHJlcERhdGEoaC5kLnN0YWdlKSwgbnVsbCwgJ1xcdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvcm1EYXRhID0gd2luZG93LkpTT04uc3RyaW5naWZ5KGgucHJlcERhdGEoaC5kLnN0YWdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZGF0YVt0eXBlXShmb3JtYXR0ZWQpO1xuICB9XG5cbiAgLy8gZW5kIGNsYXNzXG59XG5cbi8vIGV4cG9ydCBkZWZhdWx0IEhlbHBlcnM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2hlbHBlcnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFLQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSkE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBSkE7QUFXQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBYUE7QUFDQTtBQUNBOzs7O0FBMWpDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/140:/* no static exports found *//* all exports used *//*!********************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/sass/form-builder.scss ***!
  \********************************************************************************//***/function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../~/css-loader??ref--3-2!../../~/postcss-loader??ref--3-3!../../~/sass-loader/lib/loader.js??ref--3-4!./form-builder.scss */ 325);\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../../~/style-loader/addStyles.js */ 107)(content, {"attrs":{"class":"formBuilder-injected-style"}});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept("!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./form-builder.scss", function() {\n\t\t\tvar newContent = require("!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./form-builder.scss");\n\t\t\tif(typeof newContent === \'string\') newContent = [[module.id, newContent, \'\']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy9Vc2Vycy9tMGNzL0RvY3VtZW50cy9lWHBhbmQvZ2l0L2Zvcm0tYnVpbGRlci9zcmMvc2Fzcy9mb3JtLWJ1aWxkZXIuc2Nzcz9hM2VjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTIhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS0zLTQhLi9mb3JtLWJ1aWxkZXIuc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge1wiYXR0cnNcIjp7XCJjbGFzc1wiOlwiZm9ybUJ1aWxkZXItaW5qZWN0ZWQtc3R5bGVcIn19KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0yIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tMy00IS4vZm9ybS1idWlsZGVyLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMiEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0zIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTMtNCEuL2Zvcm0tYnVpbGRlci5zY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvbTBjcy9Eb2N1bWVudHMvZVhwYW5kL2dpdC9mb3JtLWJ1aWxkZXIvc3JjL3Nhc3MvZm9ybS1idWlsZGVyLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDE0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/142:/* no static exports found *//* all exports used *//*!****************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/form-builder.js ***!
  \****************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\n__webpack_require__(/*! babel-regenerator-runtime */ 60);\n\n__webpack_require__(/*! ../sass/form-builder.scss */ 140);\n\nvar _dom = __webpack_require__(/*! ./dom */ 50);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _data = __webpack_require__(/*! ./data */ 109);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 26);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _utils = __webpack_require__(/*! ./utils */ 19);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _events = __webpack_require__(/*! ./events */ 52);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _layout = __webpack_require__(/*! ./layout */ 59);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 138);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _config = __webpack_require__(/*! ./config */ 51);\n\nvar _control = __webpack_require__(/*! ./control */ 6);\n\nvar _control2 = _interopRequireDefault(_control);\n\n__webpack_require__(/*! ./control/index */ 58);\n\nvar _custom2 = __webpack_require__(/*! ./control/custom */ 34);\n\nvar _custom3 = _interopRequireDefault(_custom2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }\n\nvar instanceTime = new Date().getTime();\n\nvar FormBuilder = function FormBuilder(opts, element) {\n  var _this = this;\n\n  var formBuilder = this;\n  var i18n = _mi18n2.default.current;\n  var formID = \'frmb-\' + instanceTime++;\n  var data = new _data.Data(formID);\n  var d = new _dom2.default(formID);\n\n  if (!opts.layout) {\n    opts.layout = _layout2.default;\n  }\n  var layoutEngine = new opts.layout(opts.layoutTemplates, true);\n\n  _control2.default.controlConfig = opts.controlConfig || {};\n\n  var h = new _helpers2.default(formID, layoutEngine);\n  var m = _utils2.default.markup;\n\n  var originalOpts = opts;\n\n  _control2.default.loadCustom(opts.controls);\n\n  if (Object.keys(opts.fields).length) {\n    _custom3.default.register(opts.templates, opts.fields);\n  }\n\n  opts = h.processOptions(opts);\n  var subtypes = _config.config.subtypes = h.processSubtypes(opts.subtypes);\n  h.editorUI(formID);\n\n  var $stage = $(d.stage);\n\n  data.layout = h.editorLayout(opts.controlPosition);\n  data.formID = formID;\n  data.lastID = data.formID + \'-fld-1\';\n\n  var controls = _control2.default.getRegistered();\n  var customFields = _custom3.default.getRegistered();\n  if (customFields) {\n    $.merge(controls, customFields);\n  }\n\n  if (opts.sortableControls) {\n    d.controls.classList.add(\'sort-enabled\');\n  }\n\n  var $cbUL = $(d.controls);\n\n  var controlList = [];\n  var allControls = {};\n\n  for (var i = 0; i < controls.length; i++) {\n    var type = controls[i];\n\n    var custom = _custom3.default.lookup(type);\n    var controlClass = void 0;\n    if (custom) {\n      controlClass = custom.class;\n    } else {\n      custom = {};\n\n      controlClass = _control2.default.getClass(type);\n      if (!controlClass || !controlClass.active(type)) {\n        continue;\n      }\n    }\n    var icon = custom.icon || controlClass.icon(type);\n    var label = custom.label || controlClass.label(type);\n    var iconClassName = !icon ? custom.iconClassName || \'icon-\' + type.replace(/-[\\d]{4}$/, \'\') : \'\';\n\n    if (icon) {\n      label = \'<span class="control-icon">\' + icon + \'</span>\' + label;\n    }\n\n    var newFieldControl = m(\'li\', m(\'span\', label), {\n      className: iconClassName + \' input-control input-control-\' + i\n    });\n    newFieldControl.dataset.type = type;\n    controlList.push(type);\n    allControls[type] = newFieldControl;\n  }\n\n  if (opts.inputSets.length) {\n    opts.inputSets.forEach(function (set, i) {\n      set.name = set.name || _utils2.default.makeClassName(set.label);\n      var inputSet = m(\'li\', set.label, {\n        className: \'input-set-control input-set-\' + i\n      });\n      inputSet.dataset.type = set.name;\n      controlList.push(set.name);\n      allControls[set.name] = inputSet;\n    });\n  }\n\n  h.orderFields(controlList).forEach(function (control) {\n    if (allControls[control]) {\n      d.controls.appendChild(allControls[control]);\n    }\n  });\n\n  $stage.sortable({\n    cursor: \'move\',\n    opacity: 0.9,\n    revert: 150,\n    beforeStop: function beforeStop(evt, ui) {\n      return h.beforeStop.call(h, evt, ui);\n    },\n    start: function start(evt, ui) {\n      return h.startMoving.call(h, evt, ui);\n    },\n    stop: function stop(evt, ui) {\n      return h.stopMoving.call(h, evt, ui);\n    },\n    items: \'> li:not(.unsortable)\',\n    cancel: [\'input\', \'select\', \'textarea\', \'.disabled-field\', \'.form-elements\', \'.btn\', \'button\'].join(\', \'),\n    placeholder: \'frmb-placeholder\'\n  });\n\n  $cbUL.sortable({\n    helper: \'clone\',\n    opacity: 0.9,\n    connectWith: $stage,\n    cancel: \'.fb-separator\',\n    cursor: \'move\',\n    scroll: false,\n    placeholder: \'ui-state-highlight\',\n    start: function start(evt, ui) {\n      return h.startMoving.call(h, evt, ui);\n    },\n    stop: function stop(evt, ui) {\n      return h.stopMoving.call(h, evt, ui);\n    },\n    revert: 150,\n    beforeStop: function beforeStop(evt, ui) {\n      return h.beforeStop.call(h, evt, ui);\n    },\n    distance: 3,\n    update: function update(event, ui) {\n      if (h.doCancel) {\n        return false;\n      }\n\n      if (ui.item.parent()[0] === d.stage) {\n        h.doCancel = true;\n        processControl(ui.item);\n      } else {\n        h.setFieldOrder($cbUL);\n        h.doCancel = !opts.sortableControls;\n      }\n    }\n  });\n\n  var processControl = function processControl(control) {\n    if (control[0].classList.contains(\'input-set-control\')) {\n      var inputSets = [];\n      var inputSet = opts.inputSets.find(function (set) {\n        return set.name === control[0].dataset.type;\n      });\n      if (inputSet && inputSet.showHeader) {\n        var header = {\n          type: \'header\',\n          subtype: \'h2\',\n          id: inputSet.name,\n          label: inputSet.label\n        };\n        inputSets.push(header);\n      }\n      inputSets.push.apply(inputSets, inputSet.fields);\n      inputSets.forEach(function (field) {\n        prepFieldVars(field, true);\n        if (h.stopIndex || h.stopIndex === 0) {\n          h.stopIndex++;\n        }\n      });\n    } else {\n      prepFieldVars(control, true);\n    }\n  };\n\n  d.editorWrap = m(\'div\', null, {\n    id: data.formID + \'-form-wrap\',\n    className: \'form-wrap main-form-builder form-builder\' + _utils2.default.mobileClass()\n  });\n\n  var $editorWrap = $(d.editorWrap);\n\n  var cbWrap = m(\'div\', d.controls, {\n    id: data.formID + \'-cb-wrap\',\n    className: \'cb-wrap \' + data.layout.controls\n  });\n\n  if (opts.showActionButtons) {\n    var buttons = opts.actionButtons.map(function (btnData) {\n      if (btnData.id && opts.disabledActionButtons.indexOf(btnData.id) === -1) {\n        return h.processActionButtons(btnData);\n      }\n    });\n    var formActions = d.formActions = m(\'div\', buttons, {\n      className: \'form-actions btn-group\'\n    });\n\n    cbWrap.appendChild(formActions);\n  }\n\n  var stagewrapClass = \'stage-wrap \';\n  if (!opts.hideControls) {\n    stagewrapClass += data.layout.stage;\n  }\n\n  var stageWrap = m(\'div\', [d.stage, cbWrap], {\n    id: data.formID + \'-stage-wrap\',\n    className: stagewrapClass\n  });\n\n  $editorWrap.append(stageWrap, cbWrap);\n\n  if (element.type !== \'textarea\') {\n    $(element).append($editorWrap);\n  } else {\n    $(element).replaceWith($editorWrap);\n  }\n\n  var saveAndUpdate = _utils2.default.debounce(function (evt) {\n    if (evt) {\n      if (evt.type === \'keyup\' && evt.target.name === \'className\') {\n        return false;\n      }\n\n      var $field = $(evt.target).closest(\'.form-field\');\n      h.updatePreview($field);\n      h.save.call(h);\n    }\n  });\n\n  var previewSelectors = [\'.form-elements input\', \'.form-elements select\', \'.form-elements textarea\'].join(\', \');\n\n  $stage.on(\'change blur keyup\', previewSelectors, saveAndUpdate);\n\n  $(\'li\', d.controls).click(function (evt) {\n    var $control = $(evt.target).closest(\'li\');\n    h.stopIndex = undefined;\n    processControl($control);\n    h.save.call(h);\n  });\n\n  var nonEditableFields = function nonEditableFields() {\n    var cancelArray = [];\n    var disabledField = function disabledField(type) {\n      return _utils2.default.markup(\'li\', opts[type], {\n        className: \'disabled-field form-\' + type\n      });\n    };\n\n    if (opts.prepend && !$(\'.disabled-field.form-prepend\', d.stage).length) {\n      cancelArray.push(true);\n      $stage.prepend(disabledField(\'prepend\'));\n    }\n\n    if (opts.append && !$(\'.disabled-field.form-.append\', d.stage).length) {\n      cancelArray.push(true);\n      $stage.append(disabledField(\'append\'));\n    }\n\n    h.disabledTT(d.stage);\n    return cancelArray.some(function (elem) {\n      return elem === true;\n    });\n  };\n\n  var prepFieldVars = function prepFieldVars($field) {\n    var isNew = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var field = {};\n    if ($field instanceof jQuery) {\n      field.type = $field[0].dataset.type;\n      if (field.type) {\n        var _custom = _custom3.default.lookup(field.type);\n        if (_custom) {\n          field = Object.assign({}, _custom);\n        } else {\n          var _controlClass = _control2.default.getClass(field.type);\n          field.label = _controlClass.label(field.type);\n        }\n      } else {\n        var attrs = $field[0].attributes;\n        if (!isNew) {\n          field.values = $field.children().map(function (index, elem) {\n            return {\n              label: $(elem).text(),\n              value: $(elem).attr(\'value\'),\n              selected: Boolean($(elem).attr(\'selected\'))\n            };\n          });\n        }\n\n        for (var _i = attrs.length - 1; _i >= 0; _i--) {\n          field[attrs[_i].name] = attrs[_i].value;\n        }\n      }\n    } else {\n      field = Object.assign({}, $field);\n    }\n\n    if (!field.name) {\n      field.name = _utils2.default.nameAttr(field);\n    }\n\n    if (isNew && _utils2.default.inArray(field.type, [\'text\', \'number\', \'file\', \'date\', \'select\', \'textarea\', \'autocomplete\'])) {\n      field.className = field.className || \'form-control\';\n    }\n\n    var match = /(?:^|\\s)btn-(.*?)(?:\\s|$)/g.exec(field.className);\n    if (match) {\n      field.style = match[1];\n    }\n\n    appendNewField(field, isNew);\n\n    if (isNew) {\n      document.dispatchEvent(_events2.default.fieldAdded);\n    }\n\n    stageWrap.classList.remove(\'empty\');\n  };\n\n  var loadFields = function loadFields(formData) {\n    formData = h.getData(formData);\n    if (formData && formData.length) {\n      for (var _i2 = 0; _i2 < formData.length; _i2++) {\n        var fieldData = _utils2.default.trimObj(formData[_i2]);\n        prepFieldVars(fieldData);\n      }\n      stageWrap.classList.remove(\'empty\');\n    } else if (opts.defaultFields && opts.defaultFields.length) {\n      opts.defaultFields.forEach(function (field) {\n        return prepFieldVars(field);\n      });\n      stageWrap.classList.remove(\'empty\');\n    } else if (!opts.prepend && !opts.append) {\n      stageWrap.classList.add(\'empty\');\n      stageWrap.dataset.content = i18n.getStarted;\n    }\n\n    if (nonEditableFields()) {\n      stageWrap.classList.remove(\'empty\');\n    }\n    h.save();\n  };\n\n  var fieldOptions = function fieldOptions(fieldData) {\n    var type = fieldData.type,\n        values = fieldData.values,\n        name = fieldData.name;\n\n    var optionActions = [_utils2.default.markup(\'a\', i18n.addOption, {\n      className: \'add add-opt\'\n    })];\n    var fieldOptions = [\'<label class="false-label">\' + i18n.selectOptions + \'</label>\'];\n    var isMultiple = fieldData.multiple || type === \'checkbox-group\';\n    var optionDataTemplate = function optionDataTemplate(label) {\n      var optionData = {\n        label: label,\n        value: _utils2.default.hyphenCase(label)\n      };\n\n      if (type !== \'autocomplete\') {\n        optionData.selected = false;\n      }\n\n      return optionData;\n    };\n\n    if (!values || !values.length) {\n      var defaultOptCount = [1, 2, 3];\n      if (_utils2.default.inArray(type, [\'checkbox-group\', \'checkbox\'])) {\n        defaultOptCount = [1];\n      }\n      values = defaultOptCount.map(function (index) {\n        var label = i18n.option + \' \' + index;\n        return optionDataTemplate(label);\n      });\n\n      var firstOption = values[0];\n      if (firstOption.hasOwnProperty(\'selected\')) {\n        firstOption.selected = true;\n      }\n    } else {\n      values.forEach(function (option) {\n        return Object.assign({}, {\n          selected: false\n        }, option);\n      });\n    }\n\n    fieldOptions.push(\'<div class="sortable-options-wrap">\');\n    fieldOptions.push(\'<ol class="sortable-options">\');\n    _utils2.default.forEach(values, function (i) {\n      fieldOptions.push(selectFieldOptions(name, values[i], isMultiple));\n    });\n    fieldOptions.push(\'</ol>\');\n    fieldOptions.push(_utils2.default.markup(\'div\', optionActions, {\n      className: \'option-actions\'\n    }).outerHTML);\n    fieldOptions.push(\'</div>\');\n\n    return _utils2.default.markup(\'div\', fieldOptions.join(\'\'), {\n      className: \'form-group field-options\'\n    }).outerHTML;\n  };\n\n  var defaultFieldAttrs = function defaultFieldAttrs(type) {\n    var defaultAttrs = [\'required\', \'label\', \'description\', \'placeholder\', \'className\', \'name\', \'access\', \'value\'];\n    var noValFields = [\'header\', \'paragraph\', \'file\', \'autocomplete\'].concat(d.optionFields);\n\n    var valueField = !_utils2.default.inArray(type, noValFields);\n\n    var typeAttrsMap = {\n      autocomplete: defaultAttrs.concat([\'options\']),\n      button: [\'label\', \'subtype\', \'style\', \'className\', \'name\', \'value\', \'access\'],\n      checkbox: [\'required\', \'label\', \'description\', \'toggle\', \'inline\', \'className\', \'name\', \'access\', \'other\', \'options\'],\n      text: defaultAttrs.concat([\'subtype\', \'maxlength\']),\n      date: defaultAttrs,\n      file: defaultAttrs.concat([\'subtype\', \'multiple\']),\n      header: [\'label\', \'subtype\', \'className\', \'access\'],\n      hidden: [\'name\', \'value\', \'access\'],\n      paragraph: [\'label\', \'subtype\', \'className\', \'access\'],\n      number: defaultAttrs.concat([\'min\', \'max\', \'step\']),\n      select: defaultAttrs.concat([\'multiple\', \'options\']),\n      textarea: defaultAttrs.concat([\'subtype\', \'maxlength\', \'rows\'])\n\n    };\n\n    typeAttrsMap[\'checkbox-group\'] = typeAttrsMap.checkbox;\n    typeAttrsMap[\'radio-group\'] = typeAttrsMap.checkbox;\n\n    var typeAttrs = typeAttrsMap[type];\n\n    if (type === \'radio-group\') {\n      _utils2.default.remove(\'toggle\', typeAttrs);\n    }\n\n    if (_utils2.default.inArray(type, [\'header\', \'paragraph\', \'button\'])) {\n      _utils2.default.remove(\'description\', typeAttrs);\n    }\n\n    if (!valueField) {\n      _utils2.default.remove(\'value\', typeAttrs);\n    }\n\n    return typeAttrs || defaultAttrs;\n  };\n\n  var advFields = function advFields(values) {\n    var type = values.type;\n\n    var advFields = [];\n    var fieldAttrs = defaultFieldAttrs(type);\n    var advFieldMap = {\n      required: function required() {\n        return requiredField(values);\n      },\n      toggle: function toggle() {\n        return boolAttribute(\'toggle\', values, {\n          first: i18n.toggle\n        });\n      },\n      inline: function inline() {\n        var labels = {\n          first: i18n.inline,\n          second: _mi18n2.default.get(\'inlineDesc\', type.replace(\'-group\', \'\'))\n        };\n\n        return boolAttribute(\'inline\', values, labels);\n      },\n      label: function label() {\n        return textAttribute(\'label\', values);\n      },\n      description: function description() {\n        return textAttribute(\'description\', values);\n      },\n      subtype: function subtype() {\n        return selectAttribute(\'subtype\', values, subtypes[type]);\n      },\n      style: function style() {\n        return btnStyles(values.style);\n      },\n      placeholder: function placeholder() {\n        return textAttribute(\'placeholder\', values);\n      },\n      rows: function rows() {\n        return numberAttribute(\'rows\', values);\n      },\n      className: function className() {\n        return textAttribute(\'className\', values);\n      },\n      name: function name() {\n        return textAttribute(\'name\', values);\n      },\n      value: function value() {\n        return textAttribute(\'value\', values);\n      },\n      maxlength: function maxlength() {\n        return numberAttribute(\'maxlength\', values);\n      },\n      access: function access() {\n        var rolesDisplay = values.role ? \'style="display:block"\' : \'\';\n        var availableRoles = [\'<div class="available-roles" \' + rolesDisplay + \'>\'];\n        for (key in opts.roles) {\n          if (opts.roles.hasOwnProperty(key)) {\n            var roleId = \'fld-\' + data.lastID + \'-roles-\' + key;\n            var cbAttrs = {\n              type: \'checkbox\',\n              name: \'roles[]\',\n              value: key,\n              id: roleId,\n              className: \'roles-field\'\n            };\n            if (_utils2.default.inArray(key, roles)) {\n              cbAttrs.checked = \'checked\';\n            }\n\n            availableRoles.push(\'<label for="\' + roleId + \'">\');\n            availableRoles.push(h.input(cbAttrs).outerHTML);\n            availableRoles.push(\' \' + opts.roles[key] + \'</label>\');\n          }\n        }\n        availableRoles.push(\'</div>\');\n        var accessLabels = {\n          first: i18n.roles,\n          second: i18n.limitRole,\n          content: availableRoles.join(\'\')\n        };\n\n        return boolAttribute(\'access\', values, accessLabels);\n      },\n      other: function other() {\n        return boolAttribute(\'other\', values, {\n          first: i18n.enableOther,\n          second: i18n.enableOtherMsg\n        });\n      },\n      options: function options() {\n        return fieldOptions(values);\n      }\n    };\n    var key = void 0;\n    var roles = values.role !== undefined ? values.role.split(\',\') : [];\n    var numAttrs = [\'min\', \'max\', \'step\'];\n\n    if (type === \'number\') {\n      numAttrs.forEach(function (numAttr) {\n        advFieldMap[numAttr] = function () {\n          return numberAttribute(numAttr, values);\n        };\n      });\n    }\n\n    if (type === \'file\') {\n      advFieldMap[\'multiple\'] = function () {\n        var labels = {\n          first: i18n.multipleFiles,\n          second: i18n.allowMultipleFiles\n        };\n        return boolAttribute(\'multiple\', values, labels);\n      };\n    }\n\n    if (type === \'select\') {\n      advFieldMap[\'multiple\'] = function () {\n        return boolAttribute(\'multiple\', values, {\n          first: \' \',\n          second: i18n.selectionsMessage\n        });\n      };\n    }\n\n    Object.keys(fieldAttrs).forEach(function (index) {\n      var attr = fieldAttrs[index];\n      var useDefaultAttr = [true];\n\n      if (opts.typeUserDisabledAttrs[type]) {\n        var typeDisabledAttrs = opts.typeUserDisabledAttrs[type];\n        useDefaultAttr.push(!_utils2.default.inArray(attr, typeDisabledAttrs));\n      }\n\n      if (opts.typeUserAttrs[type]) {\n        var userAttrs = Object.keys(opts.typeUserAttrs[type]);\n        useDefaultAttr.push(!_utils2.default.inArray(attr, userAttrs));\n      }\n\n      if (_utils2.default.inArray(attr, opts.disabledAttrs)) {\n        useDefaultAttr.push(false);\n      }\n\n      if (useDefaultAttr.every(function (use) {\n        return use === true;\n      })) {\n        advFields.push(advFieldMap[attr]());\n      }\n    });\n\n    if (opts.typeUserAttrs[type]) {\n      var customAttr = processTypeUserAttrs(opts.typeUserAttrs[type], values);\n      advFields.push(customAttr);\n    }\n\n    return advFields.join(\'\');\n  };\n\n  function processTypeUserAttrs(typeUserAttr, values) {\n    var advField = [];\n\n    for (var attribute in typeUserAttr) {\n      if (typeUserAttr.hasOwnProperty(attribute)) {\n        var orig = i18n[attribute];\n        var tUA = typeUserAttr[attribute];\n        var origValue = tUA.value;\n        tUA.value = values[attribute] !== undefined ? values[attribute] : tUA.value !== undefined ? tUA.value : \'\';\n\n        if (tUA.label) {\n          i18n[attribute] = tUA.label;\n        }\n\n        if (tUA.type === \'checkbox\' && tUA.value === true) {\n          tUA.checked = tUA.value;\n        } else {\n          delete tUA.checked;\n        }\n\n        if (tUA.options) {\n          advField.push(selectUserAttrs(attribute, tUA));\n        } else {\n          advField.push(inputUserAttrs(attribute, tUA));\n        }\n\n        i18n[attribute] = orig;\n        tUA.value = origValue;\n      }\n    }\n\n    return advField.join(\'\');\n  }\n\n  function inputUserAttrs(name, attrs) {\n    var textAttrs = {\n      id: name + \'-\' + data.lastID,\n      title: attrs.description || attrs.label || name.toUpperCase(),\n      name: name,\n      type: attrs.type || \'text\',\n      className: [\'fld-\' + name]\n    };\n    var label = \'<label for="\' + textAttrs.id + \'">\' + i18n[name] + \'</label>\';\n\n    var optionInputs = [\'checkbox\', \'checkbox-group\', \'radio-group\'];\n    if (!_utils2.default.inArray(textAttrs.type, optionInputs)) {\n      textAttrs.className.push(\'form-control\');\n    }\n\n    textAttrs = Object.assign({}, attrs, textAttrs);\n    var textInput = \'<input \' + _utils2.default.attrString(textAttrs) + \'>\';\n    var inputWrap = \'<div class="input-wrap">\' + textInput + \'</div>\';\n    return \'<div class="form-group \' + name + \'-wrap">\' + label + inputWrap + \'</div>\';\n  }\n\n  function selectUserAttrs(name, fieldData) {\n    var optis = Object.keys(fieldData.options).map(function (val) {\n      var attrs = {\n        value: val\n      };\n      if (val === fieldData.value) {\n        attrs.selected = null;\n      }\n      return m(\'option\', fieldData.options[val], attrs).outerHTML;\n    });\n    var selectAttrs = {\n      id: name + \'-\' + data.lastID,\n      title: fieldData.description || fieldData.label || name.toUpperCase(),\n      name: name,\n      className: \'fld-\' + name + \' form-control\'\n    };\n    var label = \'<label for="\' + selectAttrs.id + \'">\' + i18n[name] + \'</label>\';\n\n    Object.keys(fieldData).filter(function (prop) {\n      return !_utils2.default.inArray(prop, [\'value\', \'options\', \'label\']);\n    }).forEach(function (attr) {\n      selectAttrs[attr] = fieldData[attr];\n    });\n\n    var select = m(\'select\', optis, selectAttrs).outerHTML;\n    var inputWrap = \'<div class="input-wrap">\' + select + \'</div>\';\n    return \'<div class="form-group \' + name + \'-wrap">\' + label + inputWrap + \'</div>\';\n  }\n\n  var boolAttribute = function boolAttribute(name, values, labels) {\n    var label = function label(txt) {\n      return m(\'label\', txt, {\n        for: name + \'-\' + data.lastID\n      }).outerHTML;\n    };\n    var cbAttrs = {\n      type: \'checkbox\',\n      className: \'fld-\' + name,\n      name: name,\n      id: name + \'-\' + data.lastID\n    };\n    if (values[name]) {\n      cbAttrs.checked = true;\n    }\n    var left = [];\n    var right = [m(\'input\', null, cbAttrs).outerHTML];\n\n    if (labels.first) {\n      left.push(label(labels.first));\n    }\n\n    if (labels.second) {\n      right.push(\' \', label(labels.second));\n    }\n    if (labels.content) {\n      right.push(labels.content);\n    }\n\n    right = m(\'div\', right, {\n      className: \'input-wrap\'\n    }).outerHTML;\n\n    return m(\'div\', left.concat(right), {\n      className: \'form-group \' + name + \'-wrap\'\n    }).outerHTML;\n  };\n\n  var btnStyles = function btnStyles(style) {\n    var styleField = \'\';\n\n    if (style === \'undefined\') {\n      style = \'default\';\n    }\n\n    var styleLabel = \'<label>\' + i18n.style + \'</label>\';\n    styleField += h.input({\n      value: style || \'default\',\n      type: \'hidden\',\n      className: \'btn-style\'\n    }).outerHTML;\n    styleField += \'<div class="btn-group" role="group">\';\n\n    _config.styles.btn.forEach(function (btnStyle) {\n      var classList = [\'btn-xs\', \'btn\', \'btn-\' + btnStyle];\n      if (style === btnStyle) {\n        classList.push(\'selected\');\n      }\n      var btn = m(\'button\', _mi18n2.default.get(\'styles.btn.\' + btnStyle), {\n        value: btnStyle,\n        type: \'button\',\n        className: classList.join(\' \')\n      }).outerHTML;\n\n      styleField += btn;\n    });\n\n    styleField += \'</div>\';\n\n    styleField = m(\'div\', [styleLabel, styleField], {\n      className: \'form-group style-wrap\'\n    });\n\n    return styleField.outerHTML;\n  };\n\n  var numberAttribute = function numberAttribute(attribute, values) {\n    var attrVal = values[attribute];\n    var attrLabel = i18n[attribute] || attribute;\n    var placeholder = i18n[\'placeholder.\' + attribute];\n    var inputConfig = {\n      type: \'number\',\n      value: attrVal,\n      name: attribute,\n      min: \'0\',\n      placeholder: placeholder,\n      className: \'fld-\' + attribute + \' form-control\',\n      id: attribute + \'-\' + data.lastID\n    };\n    var numberAttribute = h.input(_utils2.default.trimObj(inputConfig)).outerHTML;\n    var inputWrap = \'<div class="input-wrap">\' + numberAttribute + \'</div>\';\n    var inputLabel = \'<label for="\' + inputConfig.id + \'">\' + attrLabel + \'</label>\';\n\n    return m(\'div\', [inputLabel, inputWrap], {\n      className: \'form-group \' + attribute + \'-wrap\'\n    }).outerHTML;\n  };\n\n  var selectAttribute = function selectAttribute(attribute, values, optionData) {\n    var selectOptions = optionData.map(function (option, i) {\n      var optionAttrs = Object.assign({\n        label: i18n.option + \' \' + i,\n        value: undefined\n      }, option);\n      if (option.value === values[attribute]) {\n        optionAttrs.selected = true;\n      }\n      optionAttrs = _utils2.default.trimObj(optionAttrs);\n      return m(\'option\', optionAttrs.label, optionAttrs);\n    });\n    var selectAttrs = {\n      id: attribute + \'-\' + data.lastID,\n      name: attribute,\n      className: \'fld-\' + attribute + \' form-control\'\n    };\n    var labelText = i18n[attribute] || _utils2.default.capitalize(attribute);\n    var label = m(\'label\', labelText, {\n      for: selectAttrs.id\n    });\n    var select = m(\'select\', selectOptions, selectAttrs);\n    var inputWrap = m(\'div\', select, {\n      className: \'input-wrap\'\n    });\n    var attrWrap = m(\'div\', [label, inputWrap], {\n      className: \'form-group \' + selectAttrs.name + \'-wrap\'\n    });\n\n    return attrWrap.outerHTML;\n  };\n\n  var textAttribute = function textAttribute(attribute, values) {\n    var textArea = [\'paragraph\'];\n\n    var attrVal = values[attribute] || \'\';\n    var attrLabel = i18n[attribute];\n\n    if (attribute === \'label\') {\n      if (_utils2.default.inArray(values.type, textArea)) {\n        attrLabel = i18n.content;\n      } else {\n        attrVal = _utils2.default.parsedHtml(values[attribute]);\n      }\n    }\n\n    var placeholder = i18n[\'placeholder.\' + attribute] || \'\';\n    var attributefield = \'\';\n    var noMakeAttr = [];\n\n    if (!noMakeAttr.some(function (elem) {\n      return elem === true;\n    })) {\n      var inputConfig = {\n        name: attribute,\n        placeholder: placeholder,\n        className: \'fld-\' + attribute + \' form-control\',\n        id: attribute + \'-\' + data.lastID\n      };\n      var attributeLabel = m(\'label\', attrLabel, {\n        for: inputConfig.id\n      }).outerHTML;\n\n      if (attribute === \'label\') {\n        inputConfig.contenteditable = true;\n        attributefield += m(\'div\', attrVal, inputConfig).outerHTML;\n      } else {\n        inputConfig.value = attrVal;\n        inputConfig.type = \'text\';\n        attributefield += \'<input \' + _utils2.default.attrString(inputConfig) + \'>\';\n      }\n\n      var inputWrap = \'<div class="input-wrap">\' + attributefield + \'</div>\';\n\n      var visibility = \'block\';\n      if (attribute === \'value\') {\n        visibility = values.subtype && values.subtype === \'quill\' && \'none\';\n      }\n\n      attributefield = m(\'div\', [attributeLabel, inputWrap], {\n        className: \'form-group \' + attribute + \'-wrap\',\n        style: \'display: \' + visibility\n      });\n    }\n\n    return attributefield.outerHTML;\n  };\n\n  var requiredField = function requiredField(fieldData) {\n    var type = fieldData.type;\n\n    var noRequire = [\'header\', \'paragraph\', \'button\'];\n    var noMake = [];\n    var requireField = \'\';\n\n    if (_utils2.default.inArray(type, noRequire)) {\n      noMake.push(true);\n    }\n    if (!noMake.some(function (elem) {\n      return elem === true;\n    })) {\n      requireField = boolAttribute(\'required\', fieldData, {\n        first: i18n.required\n      });\n    }\n\n    return requireField;\n  };\n\n  var appendNewField = function appendNewField(values) {\n    var isNew = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var type = values.type || \'text\';\n    var label = values.label || i18n[type] || i18n.label;\n    var delBtn = m(\'a\', i18n.remove, {\n      id: \'del_\' + data.lastID,\n      className: \'del-button btn delete-confirm\',\n      title: i18n.removeMessage\n    });\n    var toggleBtn = m(\'a\', null, {\n      id: data.lastID + \'-edit\',\n      className: \'toggle-form btn icon-pencil\',\n      title: i18n.hide\n    });\n    var copyBtn = m(\'a\', null, {\n      id: data.lastID + \'-copy\',\n      className: \'copy-button btn icon-copy\',\n      title: i18n.copyButtonTooltip\n    });\n\n    var liContents = m(\'div\', [toggleBtn, copyBtn, delBtn], {\n      className: \'field-actions\'\n    }).outerHTML;\n\n    liContents += m(\'label\', _utils2.default.parsedHtml(label), {\n      className: \'field-label\'\n    }).outerHTML;\n    var requiredDisplay = values.required ? \'display:inline\' : \'\';\n    liContents += m(\'span\', \' *\', {\n      className: \'required-asterisk\',\n      style: requiredDisplay\n    }).outerHTML;\n\n    var descAttrs = {\n      className: \'tooltip-element\',\n      tooltip: values.description,\n      style: values.description ? \'display:inline-block\' : \'display:none\'\n    };\n    liContents += \'<span \' + _utils2.default.attrString(descAttrs) + \'>?</span>\';\n\n    liContents += m(\'div\', \'\', {\n      className: \'prev-holder\'\n    }).outerHTML;\n    liContents += \'<div id="\' + data.lastID + \'-holder" class="frm-holder">\';\n    liContents += \'<div class="form-elements">\';\n\n    liContents += advFields(values);\n    liContents += m(\'a\', i18n.close, {\n      className: \'close-field\'\n    }).outerHTML;\n\n    liContents += \'</div>\';\n    liContents += \'</div>\';\n\n    values.class = values.class || \'\';\n\n    var field = m(\'li\', liContents, {\n      \'class\': type + \'-field form-field \' + values.class,\n      \'type\': type,\n      id: data.lastID\n    });\n    var $li = $(field);\n\n    $li.data(\'fieldData\', {\n      attrs: values\n    });\n\n    if (typeof h.stopIndex !== \'undefined\') {\n      $(\'> li\', d.stage).eq(h.stopIndex).before($li);\n    } else {\n      $stage.append($li);\n    }\n\n    $(\'.sortable-options\', $li).sortable({\n      update: function update() {\n        return h.updatePreview($li);\n      }\n    });\n\n    h.updatePreview($li);\n\n    if (opts.typeUserEvents[type] && opts.typeUserEvents[type].onadd) {\n      opts.typeUserEvents[type].onadd(field);\n    }\n\n    if (opts.editOnAdd && isNew) {\n      h.closeAllEdit();\n      h.toggleEdit(data.lastID, false);\n    }\n\n    data.lastID = h.incrementId(data.lastID);\n  };\n\n  var selectFieldOptions = function selectFieldOptions(name, optionData, multipleSelect) {\n    var optionInputType = {\n      selected: multipleSelect ? \'checkbox\' : \'radio\'\n    };\n    var optionDataOrder = [\'value\', \'label\', \'selected\'];\n    var optionInputs = [];\n    var optionTemplate = {\n      selected: false,\n      label: \'\',\n      value: \'\'\n    };\n\n    optionData = Object.assign(optionTemplate, optionData);\n\n    for (var _i3 = optionDataOrder.length - 1; _i3 >= 0; _i3--) {\n      var prop = optionDataOrder[_i3];\n      if (optionData.hasOwnProperty(prop)) {\n        var attrs = {\n          type: optionInputType[prop] || \'text\',\n          className: \'option-\' + prop,\n          value: optionData[prop],\n          name: name.includes(\'-option\') ? name : name + \'-option\'\n        };\n\n        attrs.placeholder = i18n[\'placeholder.\' + prop] || \'\';\n\n        if (prop === \'selected\' && optionData.selected === true) {\n          attrs.checked = optionData.selected;\n        }\n\n        optionInputs.push(m(\'input\', null, attrs));\n      }\n    }\n\n    var removeAttrs = {\n      className: \'remove btn\',\n      title: i18n.removeMessage\n    };\n    optionInputs.push(_utils2.default.markup(\'a\', i18n.remove, removeAttrs));\n\n    var field = _utils2.default.markup(\'li\', optionInputs);\n\n    return field.outerHTML;\n  };\n\n  var cloneItem = function cloneItem(currentItem) {\n    var currentId = currentItem.attr(\'id\');\n    var type = currentItem.attr(\'type\');\n    var ts = new Date().getTime();\n    var cloneName = type + \'-\' + ts;\n    var $clone = currentItem.clone();\n\n    $(\'.fld-name\', $clone).val(cloneName);\n    $clone.find(\'[id]\').each(function (i, elem) {\n      elem.id = elem.id.replace(currentId, data.lastID);\n    });\n    $clone.find(\'[for]\').each(function (index, elem) {\n      var curId = elem.getAttribute(\'for\');\n      var newForId = curId.replace(currentId, data.lastID);\n      elem.setAttribute(\'for\', newForId);\n    });\n\n    $clone.attr(\'id\', data.lastID);\n    $clone.attr(\'name\', cloneName);\n    $clone.addClass(\'cloned\');\n    $(\'.sortable-options\', $clone).sortable();\n\n    if (opts.typeUserEvents[type] && opts.typeUserEvents[type].onclone) {\n      opts.typeUserEvents[type].onclone($clone[0]);\n    }\n\n    data.lastID = h.incrementId(data.lastID);\n    return $clone;\n  };\n\n  $stage.on(\'click touchstart\', \'.remove\', function (e) {\n    var $field = $(e.target).parents(\'.form-field:eq(0)\');\n    var field = $field[0];\n    var type = field.getAttribute(\'type\');\n    var $option = $(e.target.parentElement);\n    e.preventDefault();\n    var options = field.querySelector(\'.sortable-options\');\n    var optionsCount = options.childNodes.length;\n    if (optionsCount <= 2 && !type.includes(\'checkbox\')) {\n      opts.notify.error(\'Error: \' + i18n.minOptionMessage);\n    } else {\n      $option.slideUp(\'250\', function () {\n        $option.remove();\n        h.updatePreview($field);\n        h.save.call(h);\n      });\n    }\n  });\n\n  $stage.on(\'touchstart\', \'input\', function (e) {\n    var $input = $(_this);\n    if (e.handled !== true) {\n      if ($input.attr(\'type\') === \'checkbox\') {\n        $input.trigger(\'click\');\n      } else {\n        $input.focus();\n        var fieldVal = $input.val();\n        $input.val(fieldVal);\n      }\n    } else {\n      return false;\n    }\n  });\n\n  $stage.on(\'click touchstart\', \'.toggle-form, .close-field\', function (e) {\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.handled !== true) {\n      var targetID = $(e.target).parents(\'.form-field:eq(0)\').attr(\'id\');\n      h.toggleEdit(targetID);\n      e.handled = true;\n    } else {\n      return false;\n    }\n  });\n  $stage.on(\'dblclick\', \'li.form-field, .field-label\', function (e) {\n    if (e.target.tagName.toLowerCase() === \'input\' || e.target.contentEditable) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.handled !== true) {\n      var targetID = e.target.tagName == \'li\' ? $(e.target).attr(\'id\') : $(e.target).closest(\'li.form-field\').attr(\'id\');\n      h.toggleEdit(targetID);\n      e.handled = true;\n    }\n  });\n\n  $stage.on(\'change\', \'[name="subtype"]\', function (e) {\n    var $field = $(e.target).closest(\'li.form-field\');\n    var $valWrap = $(\'.value-wrap\', $field);\n    $valWrap.toggle(e.target.value !== \'quill\');\n  });\n\n  var stageOnChangeSelectors = [\'.prev-holder input\', \'.prev-holder select\', \'.prev-holder textarea\'];\n  $stage.on(\'change\', stageOnChangeSelectors.join(\', \'), function (e) {\n    var prevOptions = void 0;\n    if (e.target.classList.contains(\'other-option\')) {\n      return;\n    }\n    var field = _utils2.default.closest(e.target, \'.form-field\');\n    var optionTypes = [\'select\', \'checkbox-group\', \'radio-group\'];\n    if (_utils2.default.inArray(field.type, optionTypes)) {\n      var options = field.getElementsByClassName(\'option-value\');\n      if (field.type === \'select\') {\n        _utils2.default.forEach(options, function (i) {\n          var selectedOption = options[i].parentElement.childNodes[0];\n          selectedOption.checked = e.target.value === options[i].value;\n        });\n      } else {\n        prevOptions = document.getElementsByName(e.target.name);\n        _utils2.default.forEach(prevOptions, function (i) {\n          var selectedOption = options[i].parentElement.childNodes[0];\n          selectedOption.checked = prevOptions[i].checked;\n        });\n      }\n    } else {\n      var fieldVal = document.getElementById(\'value-\' + field.id);\n      if (fieldVal) {\n        fieldVal.value = e.target.value;\n      }\n    }\n\n    h.save.call(h);\n  });\n\n  _utils2.default.addEventListeners(d.stage, \'keyup change\', function (e) {\n    if (!e.target.classList.contains(\'fld-label\')) return;\n    var value = e.target.value || e.target.innerHTML;\n    var label = _utils2.default.closest(e.target, \'.form-field\').querySelector(\'.field-label\');\n    label.innerHTML = _utils2.default.parsedHtml(value);\n  });\n\n  $stage.on(\'keyup\', \'input.error\', function (e) {\n    $(e.target).removeClass(\'error\');\n  });\n\n  $stage.on(\'keyup\', \'input[name="description"]\', function (e) {\n    var $field = $(e.target).parents(\'.form-field:eq(0)\');\n    var closestToolTip = $(\'.tooltip-element\', $field);\n    var ttVal = $(e.target).val();\n    if (ttVal !== \'\') {\n      if (!closestToolTip.length) {\n        var tt = \'<span class="tooltip-element" tooltip="\' + ttVal + \'">?</span>\';\n        $(\'.field-label\', $field).after(tt);\n      } else {\n        closestToolTip.attr(\'tooltip\', ttVal).css(\'display\', \'inline-block\');\n      }\n    } else {\n      if (closestToolTip.length) {\n        closestToolTip.css(\'display\', \'none\');\n      }\n    }\n  });\n\n  $stage.on(\'change\', \'.fld-multiple\', function (e) {\n    var newType = e.target.checked ? \'checkbox\' : \'radio\';\n    var $options = $(\'.option-selected\', $(e.target).closest(\'.form-elements\'));\n    $options.each(function (i) {\n      return $options[i].type = newType;\n    });\n    return newType;\n  });\n\n  $stage.on(\'blur\', \'input.fld-name\', function (e) {\n    e.target.value = _utils2.default.safename(e.target.value);\n    if (e.target.value === \'\') {\n      $(e.target).addClass(\'field-error\').attr(\'placeholder\', i18n.cannotBeEmpty);\n    } else {\n      $(e.target).removeClass(\'field-error\');\n    }\n  });\n\n  $stage.on(\'blur\', \'input.fld-maxlength\', function (e) {\n    e.target.value = _utils2.default.forceNumber(e.target.value);\n  });\n\n  $stage.on(\'click touchstart\', \'.icon-copy\', function (e) {\n    e.preventDefault();\n    var currentItem = $(e.target).parent().parent(\'li\');\n    var $clone = cloneItem(currentItem);\n    $clone.insertAfter(currentItem);\n    h.updatePreview($clone);\n    h.save.call(h);\n  });\n\n  $stage.on(\'click touchstart\', \'.delete-confirm\', function (e) {\n    e.preventDefault();\n\n    var buttonPosition = e.target.getBoundingClientRect();\n    var bodyRect = document.body.getBoundingClientRect();\n    var coords = {\n      pageX: buttonPosition.left + buttonPosition.width / 2,\n      pageY: buttonPosition.top - bodyRect.top - 12\n    };\n\n    var deleteID = $(e.target).parents(\'.form-field:eq(0)\').attr(\'id\');\n    var $field = $(document.getElementById(deleteID));\n\n    document.addEventListener(\'modalClosed\', function () {\n      $field.removeClass(\'deleting\');\n    }, false);\n\n    if (opts.fieldRemoveWarn) {\n      var warnH3 = _utils2.default.markup(\'h3\', i18n.warning);\n      var warnMessage = _utils2.default.markup(\'p\', i18n.fieldRemoveWarning);\n      h.confirm([warnH3, warnMessage], function () {\n        return h.removeField(deleteID);\n      }, coords);\n      $field.addClass(\'deleting\');\n    } else {\n      h.removeField(deleteID);\n    }\n  });\n\n  $stage.on(\'click\', \'.style-wrap button\', function (e) {\n    var $button = $(e.target);\n    var styleVal = $button.val();\n    var $btnStyle = $button.parent().prev(\'.btn-style\');\n    $btnStyle.val(styleVal);\n    $button.siblings(\'.btn\').removeClass(\'selected\');\n    $button.addClass(\'selected\');\n    h.updatePreview($btnStyle.closest(\'.form-field\'));\n    h.save.call(h);\n  });\n\n  $stage.on(\'click\', \'.fld-required\', function (e) {\n    $(e.target).closest(\'.form-field\').find(\'.required-asterisk\').toggle();\n  });\n\n  $stage.on(\'click\', \'input.fld-access\', function (e) {\n    var roles = $(e.target).closest(\'.form-field\').find(\'.available-roles\');\n    var enableRolesCB = $(e.target);\n    roles.slideToggle(250, function () {\n      if (!enableRolesCB.is(\':checked\')) {\n        $(\'input[type="checkbox"]\', roles).removeAttr(\'checked\');\n      }\n    });\n  });\n\n  $stage.on(\'click\', \'.add-opt\', function (e) {\n    e.preventDefault();\n    var $optionWrap = $(e.target).closest(\'.field-options\');\n    var $multiple = $(\'[name="multiple"]\', $optionWrap);\n    var $firstOption = $(\'.option-selected:eq(0)\', $optionWrap);\n    var isMultiple = false;\n\n    if ($multiple.length) {\n      isMultiple = $multiple.prop(\'checked\');\n    } else {\n      isMultiple = $firstOption.attr(\'type\') === \'checkbox\';\n    }\n\n    var name = $firstOption.attr(\'name\');\n\n    $(\'.sortable-options\', $optionWrap).append(selectFieldOptions(name, false, isMultiple));\n  });\n\n  $stage.on(\'mouseover mouseout\', \'.remove, .del-button\', function (e) {\n    return $(e.target).closest(\'li\').toggleClass(\'delete\');\n  });\n\n  loadFields();\n\n  $stage.css(\'min-height\', $cbUL.height());\n\n  if (opts.stickyControls.enable) {\n    h.stickyControls($stage);\n  }\n\n  if (opts.disableInjectedStyle) {\n    var styleTags = document.getElementsByClassName(\'formBuilder-injected-style\');\n    _utils2.default.forEach(styleTags, function (i) {\n      return (0, _dom.remove)(styleTags[i]);\n    });\n  }\n\n  document.dispatchEvent(_events2.default.loaded);\n\n  formBuilder.actions = {\n    clearFields: function clearFields(animate) {\n      return h.removeAllFields(d.stage, animate);\n    },\n    showData: h.showData.bind(h),\n    save: h.save.bind(h),\n    addField: function addField(field, index) {\n      h.stopIndex = data.formData.length ? index : undefined;\n      prepFieldVars(field);\n      document.dispatchEvent(_events2.default.fieldAdded);\n    },\n    removeField: h.removeField.bind(h),\n    getData: h.getFormData.bind(h),\n    setData: function setData(formData) {\n      h.stopIndex = undefined;\n      h.removeAllFields(d.stage, false);\n      loadFields(formData);\n      h.save.call(h);\n    },\n    setLang: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(locale) {\n        var formBuilder;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _mi18n2.default.setCurrent.call(_mi18n2.default, locale);\n\n              case 2:\n                d.empty(element);\n                formBuilder = new FormBuilder(originalOpts, element);\n\n                $(element).data(\'formBuilder\', formBuilder);\n\n              case 5:\n              case \'end\':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }));\n\n      function setLang(_x3) {\n        return _ref.apply(this, arguments);\n      }\n\n      return setLang;\n    }()\n  };\n\n  return formBuilder;\n};\n\n(function ($) {\n  $.fn.formBuilder = function (options) {\n    if (!options) {\n      options = {};\n    }\n    var elems = this;\n\n    var _$$extend = $.extend({}, _config.defaultOptions, options, true),\n        i18n = _$$extend.i18n,\n        opts = _objectWithoutProperties(_$$extend, [\'i18n\']);\n\n    _config.config.opts = opts;\n    var i18nOpts = $.extend({}, _config.defaultI18n, i18n, true);\n    var instance = {\n      actions: {\n        getData: null,\n        setData: null,\n        save: null,\n        showData: null,\n        setLang: null,\n        addField: null,\n        removeField: null,\n        clearFields: null\n      },\n      get formData() {\n        return instance.actions.getData(\'json\');\n      },\n      promise: new Promise(function (resolve, reject) {\n        _mi18n2.default.init(i18nOpts).then(function () {\n          elems.each(function (i) {\n            var formBuilder = new FormBuilder(opts, elems[i]);\n            $(elems[i]).data(\'formBuilder\', formBuilder);\n            instance.actions = formBuilder.actions;\n          });\n          delete instance.promise;\n          resolve(instance);\n        }).catch(console.error);\n      })\n    };\n\n    return instance;\n  };\n})(jQuery);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9qcy9mb3JtLWJ1aWxkZXIuanM/Nzc5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2JhYmVsLXJlZ2VuZXJhdG9yLXJ1bnRpbWUnO1xuaW1wb3J0ICcuLi9zYXNzL2Zvcm0tYnVpbGRlci5zY3NzJztcbmltcG9ydCBEb20gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHtcbiAgcmVtb3ZlXG59XG5mcm9tICcuL2RvbSc7XG5pbXBvcnQge1xuICBEYXRhXG59XG5mcm9tICcuL2RhdGEnO1xuaW1wb3J0IG1pMThuIGZyb20gJ21pMThuJztcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IGxheW91dCBmcm9tICcuL2xheW91dCc7XG5pbXBvcnQgSGVscGVycyBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdE9wdGlvbnMsIGRlZmF1bHRJMThuLCBjb25maWcsIHN0eWxlc1xufVxuZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi9jb250cm9sJztcbmltcG9ydCAnLi9jb250cm9sL2luZGV4JztcbmltcG9ydCBjb250cm9sQ3VzdG9tIGZyb20gJy4vY29udHJvbC9jdXN0b20nO1xuXG5sZXQgaW5zdGFuY2VUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbmNvbnN0IEZvcm1CdWlsZGVyID0gZnVuY3Rpb24ob3B0cywgZWxlbWVudCkge1xuICBjb25zdCBmb3JtQnVpbGRlciA9IHRoaXM7XG4gIGNvbnN0IGkxOG4gPSBtaTE4bi5jdXJyZW50O1xuICBjb25zdCBmb3JtSUQgPSAnZnJtYi0nICsgaW5zdGFuY2VUaW1lKys7XG4gIGNvbnN0IGRhdGEgPSBuZXcgRGF0YShmb3JtSUQpO1xuICBjb25zdCBkID0gbmV3IERvbShmb3JtSUQpO1xuXG4gIC8vIHByZXBhcmUgYSBuZXcgbGF5b3V0IG9iamVjdCB3aXRoIGFwcHJvcHJpYXRlIHRlbXBsYXRlc1xuICBpZiAoIW9wdHMubGF5b3V0KSB7XG4gICAgb3B0cy5sYXlvdXQgPSBsYXlvdXQ7XG4gIH1cbiAgY29uc3QgbGF5b3V0RW5naW5lID0gbmV3IG9wdHMubGF5b3V0KG9wdHMubGF5b3V0VGVtcGxhdGVzLCB0cnVlKTtcblxuICAvLyBhYmlsaXR5IGZvciBjb250cm9scyB0byBoYXZlIHRoZWlyIG93biBjb25maWd1cmF0aW9uIC8gb3B0aW9uc1xuICAvLyBvZiB0aGUgZm9ybWF0IGNvbnRyb2wgaWRlbnRpZmllciAodHlwZSwgb3IgdHlwZS5zdWJ0eXBlKToge29wdGlvbnN9XG4gIGNvbnRyb2wuY29udHJvbENvbmZpZyA9IG9wdHMuY29udHJvbENvbmZpZyB8fCB7fTtcblxuICBjb25zdCBoID0gbmV3IEhlbHBlcnMoZm9ybUlELCBsYXlvdXRFbmdpbmUpO1xuICBjb25zdCBtID0gdXRpbHMubWFya3VwO1xuXG4gIGNvbnN0IG9yaWdpbmFsT3B0cyA9IG9wdHM7XG5cbiAgLy8gbG9hZCBpbiBhbnkgY3VzdG9tIHNwZWNpZmllZCBjb250cm9scywgb3IgcHJlbG9hZGVkIHBsdWdpbiBjb250cm9sc1xuICBjb250cm9sLmxvYWRDdXN0b20ob3B0cy5jb250cm9scyk7XG5cbiAgLy8gcmVnaXN0ZXIgYW55IHBhc3NlZCBjdXN0b20gdGVtcGxhdGVzICYgZmllbGRzXG4gIGlmIChPYmplY3Qua2V5cyhvcHRzLmZpZWxkcykubGVuZ3RoKSB7XG4gICAgY29udHJvbEN1c3RvbS5yZWdpc3RlcihvcHRzLnRlbXBsYXRlcywgb3B0cy5maWVsZHMpO1xuICB9XG5cbiAgb3B0cyA9IGgucHJvY2Vzc09wdGlvbnMob3B0cyk7XG4gIGNvbnN0IHN1YnR5cGVzID0gY29uZmlnLnN1YnR5cGVzID0gaC5wcm9jZXNzU3VidHlwZXMob3B0cy5zdWJ0eXBlcyk7XG4gIGguZWRpdG9yVUkoZm9ybUlEKTtcblxuICBsZXQgJHN0YWdlID0gJChkLnN0YWdlKTtcblxuICBkYXRhLmxheW91dCA9IGguZWRpdG9yTGF5b3V0KG9wdHMuY29udHJvbFBvc2l0aW9uKTtcbiAgZGF0YS5mb3JtSUQgPSBmb3JtSUQ7XG4gIGRhdGEubGFzdElEID0gYCR7ZGF0YS5mb3JtSUR9LWZsZC0xYDtcblxuICAvLyByZXRyaWV2ZSBhIGZ1bGwgbGlzdCBvZiBsb2FkZWQgY29udHJvbHNcbiAgbGV0IGNvbnRyb2xzID0gY29udHJvbC5nZXRSZWdpc3RlcmVkKCk7XG4gIGxldCBjdXN0b21GaWVsZHMgPSBjb250cm9sQ3VzdG9tLmdldFJlZ2lzdGVyZWQoKTtcbiAgaWYgKGN1c3RvbUZpZWxkcykge1xuICAgICQubWVyZ2UoY29udHJvbHMsIGN1c3RvbUZpZWxkcyk7XG4gIH1cblxuXG4gIC8vIGlmIHdlIHN1cHBvcnQgcmVhcnJhbmdpbmcgY29udHJvbCBvcmRlciwgYWRkIGNsYXNzZXMgdG8gc3VwcG9ydCB0aGlzXG4gIGlmIChvcHRzLnNvcnRhYmxlQ29udHJvbHMpIHtcbiAgICBkLmNvbnRyb2xzLmNsYXNzTGlzdC5hZGQoJ3NvcnQtZW5hYmxlZCcpO1xuICB9XG5cbiAgLy8gRE9NIGVsZW1lbnQgdG8gaG9sZCB0aGUgbGlzdCBvZiBjb250cm9sc1xuICBsZXQgJGNiVUwgPSAkKGQuY29udHJvbHMpO1xuXG4gIC8vIGFkZCBlYWNoIGNvbnRyb2wgdG8gdGhlIGludGVyZmFjZVxuICBsZXQgY29udHJvbExpc3QgPSBbXTtcbiAgY29uc3QgYWxsQ29udHJvbHMgPSB7fTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRyb2xzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHR5cGUgPSBjb250cm9sc1tpXTtcbiAgICAvLyBmaXJzdCBjaGVjayBpZiB0aGlzIGlzIGEgY3VzdG9tIGNvbnRyb2xcbiAgICBsZXQgY3VzdG9tID0gY29udHJvbEN1c3RvbS5sb29rdXAodHlwZSk7XG4gICAgbGV0IGNvbnRyb2xDbGFzcztcbiAgICBpZiAoY3VzdG9tKSB7XG4gICAgICBjb250cm9sQ2xhc3MgPSBjdXN0b20uY2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1c3RvbSA9IHt9O1xuXG4gICAgICAvLyBkZXRlcm1pbmUgdGhlIGNsYXNzLCBpY29uICYgbGFiZWwgZm9yIHRoaXMgY29udHJvbFxuICAgICAgY29udHJvbENsYXNzID0gY29udHJvbC5nZXRDbGFzcyh0eXBlKTtcbiAgICAgIGlmICghY29udHJvbENsYXNzIHx8ICFjb250cm9sQ2xhc3MuYWN0aXZlKHR5cGUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaWNvbiA9IGN1c3RvbS5pY29uIHx8IGNvbnRyb2xDbGFzcy5pY29uKHR5cGUpO1xuICAgIGxldCBsYWJlbCA9IGN1c3RvbS5sYWJlbCB8fCBjb250cm9sQ2xhc3MubGFiZWwodHlwZSk7XG4gICAgbGV0IGljb25DbGFzc05hbWUgPSAhaWNvbiA/IGN1c3RvbS5pY29uQ2xhc3NOYW1lIHx8XG4gICAgICBgaWNvbi0ke3R5cGUucmVwbGFjZSgvLVtcXGRdezR9JC8sICcnKX1gIDogJyc7XG5cbiAgICAvLyBpZiB0aGUgY2xhc3MgaGFzIHNwZWNpZmllZCBhIGN1c3RvbSBpY29uLCBpbmplY3QgaXQgaW50byB0aGUgbGFiZWxcbiAgICBpZiAoaWNvbikge1xuICAgICAgbGFiZWwgPSBgPHNwYW4gY2xhc3M9XCJjb250cm9sLWljb25cIj4ke2ljb259PC9zcGFuPiR7bGFiZWx9YDtcbiAgICB9XG5cbiAgICAvLyBidWlsZCAmIGluc2VydCB0aGUgbmV3IGxpc3QgaXRlbSB0byByZXByZXNlbnQgdGhpcyBjb250cm9sXG4gICAgbGV0IG5ld0ZpZWxkQ29udHJvbCA9IG0oJ2xpJyxcbiAgICAgIG0oJ3NwYW4nLCBsYWJlbCksIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgJHtpY29uQ2xhc3NOYW1lfSBpbnB1dC1jb250cm9sIGlucHV0LWNvbnRyb2wtJHtpfWBcbiAgICAgIH1cbiAgICApO1xuICAgIG5ld0ZpZWxkQ29udHJvbC5kYXRhc2V0LnR5cGUgPSB0eXBlO1xuICAgIGNvbnRyb2xMaXN0LnB1c2godHlwZSk7XG4gICAgYWxsQ29udHJvbHNbdHlwZV0gPSBuZXdGaWVsZENvbnRyb2w7XG4gIH1cblxuICBpZiAob3B0cy5pbnB1dFNldHMubGVuZ3RoKSB7XG4gICAgb3B0cy5pbnB1dFNldHMuZm9yRWFjaCgoc2V0LCBpKSA9PiB7XG4gICAgICBzZXQubmFtZSA9IHNldC5uYW1lIHx8IHV0aWxzLm1ha2VDbGFzc05hbWUoc2V0LmxhYmVsKTtcbiAgICAgIGxldCBpbnB1dFNldCA9IG0oJ2xpJywgc2V0LmxhYmVsLCB7XG4gICAgICAgIGNsYXNzTmFtZTogYGlucHV0LXNldC1jb250cm9sIGlucHV0LXNldC0ke2l9YFxuICAgICAgfSk7XG4gICAgICBpbnB1dFNldC5kYXRhc2V0LnR5cGUgPSBzZXQubmFtZTtcbiAgICAgIGNvbnRyb2xMaXN0LnB1c2goc2V0Lm5hbWUpO1xuICAgICAgYWxsQ29udHJvbHNbc2V0Lm5hbWVdID0gaW5wdXRTZXQ7XG4gICAgfSk7XG4gIH1cblxuICAvLyBhcHBlbmQgY29udHJvbHMgdG8gbGlzdFxuICBoLm9yZGVyRmllbGRzKGNvbnRyb2xMaXN0KS5mb3JFYWNoKGNvbnRyb2wgPT4ge1xuICAgIGlmIChhbGxDb250cm9sc1tjb250cm9sXSkge1xuICAgICAgZC5jb250cm9scy5hcHBlbmRDaGlsZChhbGxDb250cm9sc1tjb250cm9sXSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTb3J0YWJsZSBmaWVsZHNcbiAgJHN0YWdlLnNvcnRhYmxlKHtcbiAgICBjdXJzb3I6ICdtb3ZlJyxcbiAgICBvcGFjaXR5OiAwLjksXG4gICAgcmV2ZXJ0OiAxNTAsXG4gICAgYmVmb3JlU3RvcDogKGV2dCwgdWkpID0+IGguYmVmb3JlU3RvcC5jYWxsKGgsIGV2dCwgdWkpLFxuICAgIHN0YXJ0OiAoZXZ0LCB1aSkgPT4gaC5zdGFydE1vdmluZy5jYWxsKGgsIGV2dCwgdWkpLFxuICAgIHN0b3A6IChldnQsIHVpKSA9PiBoLnN0b3BNb3ZpbmcuY2FsbChoLCBldnQsIHVpKSxcbiAgICBpdGVtczogJz4gbGk6bm90KC51bnNvcnRhYmxlKScsXG4gICAgY2FuY2VsOiBbXG4gICAgICAnaW5wdXQnLFxuICAgICAgJ3NlbGVjdCcsXG4gICAgICAndGV4dGFyZWEnLFxuICAgICAgJy5kaXNhYmxlZC1maWVsZCcsXG4gICAgICAnLmZvcm0tZWxlbWVudHMnLFxuICAgICAgJy5idG4nLFxuICAgICAgJ2J1dHRvbidcbiAgICBdLmpvaW4oJywgJyksXG4gICAgcGxhY2Vob2xkZXI6ICdmcm1iLXBsYWNlaG9sZGVyJyxcbiAgfSk7XG5cbiAgLy8gQ29udHJvbEJveCB3aXRoIGRpZmZlcmVudCBmaWVsZHNcbiAgJGNiVUwuc29ydGFibGUoe1xuICAgIGhlbHBlcjogJ2Nsb25lJyxcbiAgICBvcGFjaXR5OiAwLjksXG4gICAgY29ubmVjdFdpdGg6ICRzdGFnZSxcbiAgICBjYW5jZWw6ICcuZmItc2VwYXJhdG9yJyxcbiAgICBjdXJzb3I6ICdtb3ZlJyxcbiAgICBzY3JvbGw6IGZhbHNlLFxuICAgIHBsYWNlaG9sZGVyOiAndWktc3RhdGUtaGlnaGxpZ2h0JyxcbiAgICBzdGFydDogKGV2dCwgdWkpID0+IGguc3RhcnRNb3ZpbmcuY2FsbChoLCBldnQsIHVpKSxcbiAgICBzdG9wOiAoZXZ0LCB1aSkgPT4gaC5zdG9wTW92aW5nLmNhbGwoaCwgZXZ0LCB1aSksXG4gICAgcmV2ZXJ0OiAxNTAsXG4gICAgYmVmb3JlU3RvcDogKGV2dCwgdWkpID0+IGguYmVmb3JlU3RvcC5jYWxsKGgsIGV2dCwgdWkpLFxuICAgIGRpc3RhbmNlOiAzLFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICBpZiAoaC5kb0NhbmNlbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh1aS5pdGVtLnBhcmVudCgpWzBdID09PSBkLnN0YWdlKSB7XG4gICAgICAgIGguZG9DYW5jZWwgPSB0cnVlO1xuICAgICAgICBwcm9jZXNzQ29udHJvbCh1aS5pdGVtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGguc2V0RmllbGRPcmRlcigkY2JVTCk7XG4gICAgICAgIGguZG9DYW5jZWwgPSAhb3B0cy5zb3J0YWJsZUNvbnRyb2xzO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgbGV0IHByb2Nlc3NDb250cm9sID0gY29udHJvbCA9PiB7XG4gICAgaWYgKGNvbnRyb2xbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnB1dC1zZXQtY29udHJvbCcpKSB7XG4gICAgICBsZXQgaW5wdXRTZXRzID0gW107XG4gICAgICBsZXQgaW5wdXRTZXQgPSBvcHRzLmlucHV0U2V0cy5maW5kKHNldCA9PiAoc2V0Lm5hbWUgPT09IGNvbnRyb2xbMF0uZGF0YXNldFxuICAgICAgICAudHlwZSkpO1xuICAgICAgaWYgKGlucHV0U2V0ICYmIGlucHV0U2V0LnNob3dIZWFkZXIpIHtcbiAgICAgICAgbGV0IGhlYWRlciA9IHtcbiAgICAgICAgICB0eXBlOiAnaGVhZGVyJyxcbiAgICAgICAgICBzdWJ0eXBlOiAnaDInLFxuICAgICAgICAgIGlkOiBpbnB1dFNldC5uYW1lLFxuICAgICAgICAgIGxhYmVsOiBpbnB1dFNldC5sYWJlbFxuICAgICAgICB9O1xuICAgICAgICBpbnB1dFNldHMucHVzaChoZWFkZXIpO1xuICAgICAgfVxuICAgICAgaW5wdXRTZXRzLnB1c2goLi4uaW5wdXRTZXQuZmllbGRzKTtcbiAgICAgIGlucHV0U2V0cy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgICAgcHJlcEZpZWxkVmFycyhmaWVsZCwgdHJ1ZSk7XG4gICAgICAgIGlmIChoLnN0b3BJbmRleCB8fCBoLnN0b3BJbmRleCA9PT0gMCkge1xuICAgICAgICAgIGguc3RvcEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmVwRmllbGRWYXJzKGNvbnRyb2wsIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBkLmVkaXRvcldyYXAgPSBtKCdkaXYnLCBudWxsLCB7XG4gICAgaWQ6IGAke2RhdGEuZm9ybUlEfS1mb3JtLXdyYXBgLFxuICAgIGNsYXNzTmFtZTogJ2Zvcm0td3JhcCBtYWluLWZvcm0tYnVpbGRlciBmb3JtLWJ1aWxkZXInICsgdXRpbHMubW9iaWxlQ2xhc3MoKVxuICB9KTtcblxuICBsZXQgJGVkaXRvcldyYXAgPSAkKGQuZWRpdG9yV3JhcCk7XG5cbiAgbGV0IGNiV3JhcCA9IG0oJ2RpdicsIGQuY29udHJvbHMsIHtcbiAgICBpZDogYCR7ZGF0YS5mb3JtSUR9LWNiLXdyYXBgLFxuICAgIGNsYXNzTmFtZTogJ2NiLXdyYXAgJyArIGRhdGEubGF5b3V0LmNvbnRyb2xzXG4gIH0pO1xuXG4gIGlmIChvcHRzLnNob3dBY3Rpb25CdXR0b25zKSB7XG4gICAgY29uc3QgYnV0dG9ucyA9IG9wdHMuYWN0aW9uQnV0dG9ucy5tYXAoYnRuRGF0YSA9PiB7XG4gICAgICBpZiAoYnRuRGF0YS5pZCAmJiBvcHRzLmRpc2FibGVkQWN0aW9uQnV0dG9ucy5pbmRleE9mKGJ0bkRhdGEuaWQpID09PVxuICAgICAgICAtMSkge1xuICAgICAgICByZXR1cm4gaC5wcm9jZXNzQWN0aW9uQnV0dG9ucyhidG5EYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBmb3JtQWN0aW9ucyA9IGQuZm9ybUFjdGlvbnMgPSBtKCdkaXYnLCBidXR0b25zLCB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWFjdGlvbnMgYnRuLWdyb3VwJ1xuICAgIH0pO1xuXG4gICAgY2JXcmFwLmFwcGVuZENoaWxkKGZvcm1BY3Rpb25zKTtcbiAgfVxuXG4gIGxldCBzdGFnZXdyYXBDbGFzcyA9ICdzdGFnZS13cmFwICc7XG4gIGlmICghb3B0cy5oaWRlQ29udHJvbHMpIHtcbiAgICBzdGFnZXdyYXBDbGFzcyArPSBkYXRhLmxheW91dC5zdGFnZTtcbiAgfVxuXG4gIGxldCBzdGFnZVdyYXAgPSBtKCdkaXYnLCBbZC5zdGFnZSwgY2JXcmFwXSwge1xuICAgIGlkOiBgJHtkYXRhLmZvcm1JRH0tc3RhZ2Utd3JhcGAsXG4gICAgY2xhc3NOYW1lOiBzdGFnZXdyYXBDbGFzc1xuICB9KTtcblxuICAkZWRpdG9yV3JhcC5hcHBlbmQoc3RhZ2VXcmFwLCBjYldyYXApO1xuXG4gIGlmIChlbGVtZW50LnR5cGUgIT09ICd0ZXh0YXJlYScpIHtcbiAgICAkKGVsZW1lbnQpLmFwcGVuZCgkZWRpdG9yV3JhcCk7XG4gIH0gZWxzZSB7XG4gICAgJChlbGVtZW50KS5yZXBsYWNlV2l0aCgkZWRpdG9yV3JhcCk7XG4gIH1cblxuICBsZXQgc2F2ZUFuZFVwZGF0ZSA9IHV0aWxzLmRlYm91bmNlKGV2dCA9PiB7XG4gICAgaWYgKGV2dCkge1xuICAgICAgaWYgKGV2dC50eXBlID09PSAna2V5dXAnICYmIGV2dC50YXJnZXQubmFtZSA9PT0gJ2NsYXNzTmFtZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBsZXQgJGZpZWxkID0gJChldnQudGFyZ2V0KS5jbG9zZXN0KCcuZm9ybS1maWVsZCcpO1xuICAgICAgaC51cGRhdGVQcmV2aWV3KCRmaWVsZCk7XG4gICAgICBoLnNhdmUuY2FsbChoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGxldCBwcmV2aWV3U2VsZWN0b3JzID0gW1xuICAgICcuZm9ybS1lbGVtZW50cyBpbnB1dCcsXG4gICAgJy5mb3JtLWVsZW1lbnRzIHNlbGVjdCcsXG4gICAgJy5mb3JtLWVsZW1lbnRzIHRleHRhcmVhJ1xuICBdLmpvaW4oJywgJyk7XG5cbiAgLy8gU2F2ZSBmaWVsZCBvbiBjaGFuZ2VcbiAgJHN0YWdlLm9uKCdjaGFuZ2UgYmx1ciBrZXl1cCcsIHByZXZpZXdTZWxlY3RvcnMsIHNhdmVBbmRVcGRhdGUpO1xuXG4gICQoJ2xpJywgZC5jb250cm9scykuY2xpY2soZXZ0ID0+IHtcbiAgICBsZXQgJGNvbnRyb2wgPSAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJ2xpJyk7XG4gICAgaC5zdG9wSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgcHJvY2Vzc0NvbnRyb2woJGNvbnRyb2wpO1xuICAgIGguc2F2ZS5jYWxsKGgpO1xuICB9KTtcblxuICAvLyBBZGQgYXBwZW5kIGFuZCBwcmVwZW5kIG9wdGlvbnMgaWYgbmVjZXNzYXJ5XG4gIGxldCBub25FZGl0YWJsZUZpZWxkcyA9ICgpID0+IHtcbiAgICBsZXQgY2FuY2VsQXJyYXkgPSBbXTtcbiAgICBjb25zdCBkaXNhYmxlZEZpZWxkID0gdHlwZSA9PlxuICAgICAgdXRpbHMubWFya3VwKCdsaScsIG9wdHNbdHlwZV0sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBgZGlzYWJsZWQtZmllbGQgZm9ybS0ke3R5cGV9YFxuICAgICAgfSk7XG5cbiAgICBpZiAob3B0cy5wcmVwZW5kICYmICEkKCcuZGlzYWJsZWQtZmllbGQuZm9ybS1wcmVwZW5kJywgZC5zdGFnZSkubGVuZ3RoKSB7XG4gICAgICBjYW5jZWxBcnJheS5wdXNoKHRydWUpO1xuICAgICAgJHN0YWdlLnByZXBlbmQoZGlzYWJsZWRGaWVsZCgncHJlcGVuZCcpKTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hcHBlbmQgJiYgISQoJy5kaXNhYmxlZC1maWVsZC5mb3JtLS5hcHBlbmQnLCBkLnN0YWdlKS5sZW5ndGgpIHtcbiAgICAgIGNhbmNlbEFycmF5LnB1c2godHJ1ZSk7XG4gICAgICAkc3RhZ2UuYXBwZW5kKGRpc2FibGVkRmllbGQoJ2FwcGVuZCcpKTtcbiAgICB9XG5cbiAgICBoLmRpc2FibGVkVFQoZC5zdGFnZSk7XG4gICAgcmV0dXJuIGNhbmNlbEFycmF5LnNvbWUoZWxlbSA9PiBlbGVtID09PSB0cnVlKTtcbiAgfTtcblxuICAvLyBidWlsZHMgdGhlIHN0YW5kYXJkIGZvcm1idWlsZGVyIGRhdGFzdHJ1Y3R1cmUgZm9yIGEgZmVpbGQgZGVmaW5pdGlvblxuICBsZXQgcHJlcEZpZWxkVmFycyA9IGZ1bmN0aW9uKCRmaWVsZCwgaXNOZXcgPSBmYWxzZSkge1xuICAgIGxldCBmaWVsZCA9IHt9O1xuICAgIGlmICgkZmllbGQgaW5zdGFuY2VvZiBqUXVlcnkpIHtcbiAgICAgIC8vIGdldCB0aGUgZGVmYXVsdCB0eXBlIGV0YyAmIGxhYmVsIGZvciB0aGlzIGZpZWxkXG4gICAgICBmaWVsZC50eXBlID0gJGZpZWxkWzBdLmRhdGFzZXQudHlwZTtcbiAgICAgIGlmIChmaWVsZC50eXBlKSB7XG4gICAgICAgIC8vIGNoZWNrIGZvciBhIGN1c3RvbSB0eXBlXG4gICAgICAgIGxldCBjdXN0b20gPSBjb250cm9sQ3VzdG9tLmxvb2t1cChmaWVsZC50eXBlKTtcbiAgICAgICAgaWYgKGN1c3RvbSkge1xuICAgICAgICAgIGZpZWxkID0gT2JqZWN0LmFzc2lnbih7fSwgY3VzdG9tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgY29udHJvbENsYXNzID0gY29udHJvbC5nZXRDbGFzcyhmaWVsZC50eXBlKTtcbiAgICAgICAgICBmaWVsZC5sYWJlbCA9IGNvbnRyb2xDbGFzcy5sYWJlbChmaWVsZC50eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEB0b2RvOiBhbnkgb3RoZXIgYXR0cnMgZXZlciBzZXQgaW4gYUZpZWxkcz8gdmFsdWUgb3Igc2VsZWN0ZWQ/XG4gICAgICB9IGVsc2UgeyAvLyBpcyBkYXRhVHlwZSBYTUxcbiAgICAgICAgbGV0IGF0dHJzID0gJGZpZWxkWzBdLmF0dHJpYnV0ZXM7XG4gICAgICAgIGlmICghaXNOZXcpIHtcbiAgICAgICAgICBmaWVsZC52YWx1ZXMgPSAkZmllbGQuY2hpbGRyZW4oKS5tYXAoKGluZGV4LCBlbGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBsYWJlbDogJChlbGVtKS50ZXh0KCksXG4gICAgICAgICAgICAgIHZhbHVlOiAkKGVsZW0pLmF0dHIoJ3ZhbHVlJyksXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiBCb29sZWFuKCQoZWxlbSkuYXR0cignc2VsZWN0ZWQnKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gYXR0cnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBmaWVsZFthdHRyc1tpXS5uYW1lXSA9IGF0dHJzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpZWxkID0gT2JqZWN0LmFzc2lnbih7fSwgJGZpZWxkKTtcbiAgICB9XG5cbiAgICBpZiAoIWZpZWxkLm5hbWUpIHtcbiAgICAgIGZpZWxkLm5hbWUgPSB1dGlscy5uYW1lQXR0cihmaWVsZCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTmV3ICYmIHV0aWxzLmluQXJyYXkoZmllbGQudHlwZSwgWyd0ZXh0JyxcbiAgICAgICdudW1iZXInLFxuICAgICAgJ2ZpbGUnLFxuICAgICAgJ2RhdGUnLFxuICAgICAgJ3NlbGVjdCcsXG4gICAgICAndGV4dGFyZWEnLFxuICAgICAgJ2F1dG9jb21wbGV0ZSdcbiAgICBdKSkge1xuICAgICAgZmllbGQuY2xhc3NOYW1lID0gZmllbGQuY2xhc3NOYW1lIHx8ICdmb3JtLWNvbnRyb2wnO1xuICAgIH1cblxuICAgIGxldCBtYXRjaCA9IC8oPzpefFxccylidG4tKC4qPykoPzpcXHN8JCkvZy5leGVjKGZpZWxkLmNsYXNzTmFtZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBmaWVsZC5zdHlsZSA9IG1hdGNoWzFdO1xuICAgIH1cblxuICAgIGFwcGVuZE5ld0ZpZWxkKGZpZWxkLCBpc05ldyk7XG5cbiAgICBpZiAoaXNOZXcpIHtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZpZWxkQWRkZWQpO1xuICAgIH1cblxuICAgIHN0YWdlV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdlbXB0eScpO1xuICB9O1xuXG4gIC8vIFBhcnNlIHNhdmVkIFhNTCB0ZW1wbGF0ZSBkYXRhXG4gIGxldCBsb2FkRmllbGRzID0gZnVuY3Rpb24oZm9ybURhdGEpIHtcbiAgICBmb3JtRGF0YSA9IGguZ2V0RGF0YShmb3JtRGF0YSk7XG4gICAgaWYgKGZvcm1EYXRhICYmIGZvcm1EYXRhLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZmllbGREYXRhID0gdXRpbHMudHJpbU9iaihmb3JtRGF0YVtpXSk7XG4gICAgICAgIHByZXBGaWVsZFZhcnMoZmllbGREYXRhKTtcbiAgICAgIH1cbiAgICAgIHN0YWdlV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdlbXB0eScpO1xuICAgIH0gZWxzZSBpZiAob3B0cy5kZWZhdWx0RmllbGRzICYmIG9wdHMuZGVmYXVsdEZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIC8vIExvYWQgZGVmYXVsdCBmaWVsZHMgaWYgbm9uZSBhcmUgc2V0XG4gICAgICBvcHRzLmRlZmF1bHRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiBwcmVwRmllbGRWYXJzKGZpZWxkKSk7XG4gICAgICBzdGFnZVdyYXAuY2xhc3NMaXN0LnJlbW92ZSgnZW1wdHknKTtcbiAgICB9IGVsc2UgaWYgKCFvcHRzLnByZXBlbmQgJiYgIW9wdHMuYXBwZW5kKSB7XG4gICAgICBzdGFnZVdyYXAuY2xhc3NMaXN0LmFkZCgnZW1wdHknKTtcbiAgICAgIHN0YWdlV3JhcC5kYXRhc2V0LmNvbnRlbnQgPSBpMThuLmdldFN0YXJ0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKG5vbkVkaXRhYmxlRmllbGRzKCkpIHtcbiAgICAgIHN0YWdlV3JhcC5jbGFzc0xpc3QucmVtb3ZlKCdlbXB0eScpO1xuICAgIH1cbiAgICBoLnNhdmUoKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkIGRhdGEgZm9yIGZpZWxkIHdpdGggb3B0aW9ucyBbc2VsZWN0LCBjaGVja2JveC1ncm91cCwgcmFkaW8tZ3JvdXBdXG4gICAqXG4gICAqIEB0b2RvICAgcmVmYWN0b3IgdGhpcyBuYXN0eSB+Y3JhcH4gY29kZSwgaXRzIGFjdHVhbGx5IHBhaW5mdWwgdG8gbG9vayBhdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGZpZWxkRGF0YVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IGZpZWxkIG9wdGlvbnMgbWFya3VwXG4gICAqL1xuICBsZXQgZmllbGRPcHRpb25zID0gZnVuY3Rpb24oZmllbGREYXRhKSB7XG4gICAgbGV0IHtcbiAgICAgIHR5cGUsIHZhbHVlcywgbmFtZVxuICAgIH0gPSBmaWVsZERhdGE7XG4gICAgbGV0IG9wdGlvbkFjdGlvbnMgPSBbXG4gICAgICB1dGlscy5tYXJrdXAoJ2EnLCBpMThuLmFkZE9wdGlvbiwge1xuICAgICAgICBjbGFzc05hbWU6ICdhZGQgYWRkLW9wdCdcbiAgICAgIH0pXG4gICAgXTtcbiAgICBsZXQgZmllbGRPcHRpb25zID0gW1xuICAgICAgYDxsYWJlbCBjbGFzcz1cImZhbHNlLWxhYmVsXCI+JHtpMThuLnNlbGVjdE9wdGlvbnN9PC9sYWJlbD5gXG4gICAgXTtcbiAgICBjb25zdCBpc011bHRpcGxlID0gZmllbGREYXRhLm11bHRpcGxlIHx8ICh0eXBlID09PSAnY2hlY2tib3gtZ3JvdXAnKTtcbiAgICBjb25zdCBvcHRpb25EYXRhVGVtcGxhdGUgPSBsYWJlbCA9PiB7XG4gICAgICBsZXQgb3B0aW9uRGF0YSA9IHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHZhbHVlOiB1dGlscy5oeXBoZW5DYXNlKGxhYmVsKVxuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGUgIT09ICdhdXRvY29tcGxldGUnKSB7XG4gICAgICAgIG9wdGlvbkRhdGEuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdGlvbkRhdGE7XG4gICAgfTtcblxuICAgIGlmICghdmFsdWVzIHx8ICF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICBsZXQgZGVmYXVsdE9wdENvdW50ID0gWzEsIDIsIDNdO1xuICAgICAgaWYgKHV0aWxzLmluQXJyYXkodHlwZSwgWydjaGVja2JveC1ncm91cCcsICdjaGVja2JveCddKSkge1xuICAgICAgICBkZWZhdWx0T3B0Q291bnQgPSBbMV07XG4gICAgICB9XG4gICAgICB2YWx1ZXMgPSBkZWZhdWx0T3B0Q291bnQubWFwKGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIGxldCBsYWJlbCA9IGAke2kxOG4ub3B0aW9ufSAke2luZGV4fWA7XG4gICAgICAgIHJldHVybiBvcHRpb25EYXRhVGVtcGxhdGUobGFiZWwpO1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBmaXJzdE9wdGlvbiA9IHZhbHVlc1swXTtcbiAgICAgIGlmIChmaXJzdE9wdGlvbi5oYXNPd25Qcm9wZXJ0eSgnc2VsZWN0ZWQnKSkge1xuICAgICAgICBmaXJzdE9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVuc3VyZSBvcHRpb24gZGF0YSBpcyBoYXMgYWxsIHJlcXVpcmVkIGtleXNcbiAgICAgIHZhbHVlcy5mb3JFYWNoKG9wdGlvbiA9PiBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgIHNlbGVjdGVkOiBmYWxzZVxuICAgICAgfSwgb3B0aW9uKSk7XG4gICAgfVxuXG4gICAgZmllbGRPcHRpb25zLnB1c2goJzxkaXYgY2xhc3M9XCJzb3J0YWJsZS1vcHRpb25zLXdyYXBcIj4nKTtcbiAgICBmaWVsZE9wdGlvbnMucHVzaCgnPG9sIGNsYXNzPVwic29ydGFibGUtb3B0aW9uc1wiPicpO1xuICAgIHV0aWxzLmZvckVhY2godmFsdWVzLCBpID0+IHtcbiAgICAgIGZpZWxkT3B0aW9ucy5wdXNoKHNlbGVjdEZpZWxkT3B0aW9ucyhuYW1lLCB2YWx1ZXNbaV0sIGlzTXVsdGlwbGUpKTtcbiAgICB9KTtcbiAgICBmaWVsZE9wdGlvbnMucHVzaCgnPC9vbD4nKTtcbiAgICBmaWVsZE9wdGlvbnMucHVzaCh1dGlscy5tYXJrdXAoJ2RpdicsIG9wdGlvbkFjdGlvbnMsIHtcbiAgICAgIGNsYXNzTmFtZTogJ29wdGlvbi1hY3Rpb25zJ1xuICAgIH0pLm91dGVySFRNTCk7XG4gICAgZmllbGRPcHRpb25zLnB1c2goJzwvZGl2PicpO1xuXG4gICAgcmV0dXJuIHV0aWxzLm1hcmt1cCgnZGl2JywgZmllbGRPcHRpb25zLmpvaW4oJycpLCB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWdyb3VwIGZpZWxkLW9wdGlvbnMnXG4gICAgfSkub3V0ZXJIVE1MO1xuICB9O1xuXG4gIGNvbnN0IGRlZmF1bHRGaWVsZEF0dHJzID0gdHlwZSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdEF0dHJzID0gW1xuICAgICAgJ3JlcXVpcmVkJyxcbiAgICAgICdsYWJlbCcsXG4gICAgICAnZGVzY3JpcHRpb24nLFxuICAgICAgJ3BsYWNlaG9sZGVyJyxcbiAgICAgICdjbGFzc05hbWUnLFxuICAgICAgJ25hbWUnLFxuICAgICAgJ2FjY2VzcycsXG4gICAgICAndmFsdWUnXG4gICAgXTtcbiAgICBsZXQgbm9WYWxGaWVsZHMgPSBbXG4gICAgICAnaGVhZGVyJyxcbiAgICAgICdwYXJhZ3JhcGgnLFxuICAgICAgJ2ZpbGUnLFxuICAgICAgJ2F1dG9jb21wbGV0ZSdcbiAgICBdLmNvbmNhdChkLm9wdGlvbkZpZWxkcyk7XG5cbiAgICBsZXQgdmFsdWVGaWVsZCA9ICF1dGlscy5pbkFycmF5KHR5cGUsIG5vVmFsRmllbGRzKTtcblxuICAgIGNvbnN0IHR5cGVBdHRyc01hcCA9IHtcbiAgICAgIGF1dG9jb21wbGV0ZTogZGVmYXVsdEF0dHJzLmNvbmNhdChbXG4gICAgICAgICdvcHRpb25zJyxcbiAgICAgIF0pLFxuICAgICAgYnV0dG9uOiBbXG4gICAgICAgICdsYWJlbCcsXG4gICAgICAgICdzdWJ0eXBlJyxcbiAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgJ2NsYXNzTmFtZScsXG4gICAgICAgICduYW1lJyxcbiAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgJ2FjY2VzcycsXG4gICAgICBdLFxuICAgICAgY2hlY2tib3g6IFtcbiAgICAgICAgJ3JlcXVpcmVkJyxcbiAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgJ2Rlc2NyaXB0aW9uJyxcbiAgICAgICAgJ3RvZ2dsZScsXG4gICAgICAgICdpbmxpbmUnLFxuICAgICAgICAnY2xhc3NOYW1lJyxcbiAgICAgICAgJ25hbWUnLFxuICAgICAgICAnYWNjZXNzJyxcbiAgICAgICAgJ290aGVyJyxcbiAgICAgICAgJ29wdGlvbnMnLFxuICAgICAgXSxcbiAgICAgIHRleHQ6IGRlZmF1bHRBdHRycy5jb25jYXQoW1xuICAgICAgICAnc3VidHlwZScsXG4gICAgICAgICdtYXhsZW5ndGgnLFxuICAgICAgXSksXG4gICAgICBkYXRlOiBkZWZhdWx0QXR0cnMsXG4gICAgICBmaWxlOiBkZWZhdWx0QXR0cnMuY29uY2F0KFtcbiAgICAgICAgJ3N1YnR5cGUnLFxuICAgICAgICAnbXVsdGlwbGUnXG4gICAgICBdKSxcbiAgICAgIGhlYWRlcjogW1xuICAgICAgICAnbGFiZWwnLFxuICAgICAgICAnc3VidHlwZScsXG4gICAgICAgICdjbGFzc05hbWUnLFxuICAgICAgICAnYWNjZXNzJyxcbiAgICAgIF0sXG4gICAgICBoaWRkZW46IFtcbiAgICAgICAgJ25hbWUnLFxuICAgICAgICAndmFsdWUnLFxuICAgICAgICAnYWNjZXNzJyxcbiAgICAgIF0sXG4gICAgICBwYXJhZ3JhcGg6IFtcbiAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgJ3N1YnR5cGUnLFxuICAgICAgICAnY2xhc3NOYW1lJyxcbiAgICAgICAgJ2FjY2VzcycsXG4gICAgICBdLFxuICAgICAgbnVtYmVyOiBkZWZhdWx0QXR0cnMuY29uY2F0KFtcbiAgICAgICAgJ21pbicsXG4gICAgICAgICdtYXgnLFxuICAgICAgICAnc3RlcCcsXG4gICAgICBdKSxcbiAgICAgIHNlbGVjdDogZGVmYXVsdEF0dHJzLmNvbmNhdChbXG4gICAgICAgICdtdWx0aXBsZScsXG4gICAgICAgICdvcHRpb25zJyxcbiAgICAgIF0pLFxuICAgICAgdGV4dGFyZWE6IGRlZmF1bHRBdHRycy5jb25jYXQoW1xuICAgICAgICAnc3VidHlwZScsXG4gICAgICAgICdtYXhsZW5ndGgnLFxuICAgICAgICAncm93cycsXG4gICAgICBdKSxcblxuICAgIH07XG5cbiAgICB0eXBlQXR0cnNNYXBbJ2NoZWNrYm94LWdyb3VwJ10gPSB0eXBlQXR0cnNNYXAuY2hlY2tib3g7XG4gICAgdHlwZUF0dHJzTWFwWydyYWRpby1ncm91cCddID0gdHlwZUF0dHJzTWFwLmNoZWNrYm94O1xuXG4gICAgbGV0IHR5cGVBdHRycyA9IHR5cGVBdHRyc01hcFt0eXBlXTtcblxuICAgIGlmICh0eXBlID09PSAncmFkaW8tZ3JvdXAnKSB7XG4gICAgICB1dGlscy5yZW1vdmUoJ3RvZ2dsZScsIHR5cGVBdHRycyk7XG4gICAgfVxuXG4gICAgLy8gSGVscCBUZXh0IC8gRGVzY3JpcHRpb24gRmllbGRcbiAgICBpZiAodXRpbHMuaW5BcnJheSh0eXBlLCBbJ2hlYWRlcicsICdwYXJhZ3JhcGgnLCAnYnV0dG9uJ10pKSB7XG4gICAgICB1dGlscy5yZW1vdmUoJ2Rlc2NyaXB0aW9uJywgdHlwZUF0dHJzKTtcbiAgICB9XG5cbiAgICBpZiAoIXZhbHVlRmllbGQpIHtcbiAgICAgIHV0aWxzLnJlbW92ZSgndmFsdWUnLCB0eXBlQXR0cnMpO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlQXR0cnMgfHwgZGVmYXVsdEF0dHJzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCdWlsZCB0aGUgZWRpdGFibGUgcHJvcGVydGllcyBmb3IgdGhlIGZpZWxkXG4gICAqIEBwYXJhbSAge29iamVjdH0gdmFsdWVzIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBhZHZhbmNlZCBmaWVsZHNcbiAgICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgbWFya3VwIGZvciBhZHZhbmNlZCBmaWVsZHNcbiAgICovXG4gIGxldCBhZHZGaWVsZHMgPSB2YWx1ZXMgPT4ge1xuICAgIGxldCB7XG4gICAgICB0eXBlXG4gICAgfSA9IHZhbHVlcztcbiAgICBsZXQgYWR2RmllbGRzID0gW107XG4gICAgbGV0IGZpZWxkQXR0cnMgPSBkZWZhdWx0RmllbGRBdHRycyh0eXBlKTtcbiAgICBjb25zdCBhZHZGaWVsZE1hcCA9IHtcbiAgICAgIHJlcXVpcmVkOiAoKSA9PiByZXF1aXJlZEZpZWxkKHZhbHVlcyksXG4gICAgICB0b2dnbGU6ICgpID0+IGJvb2xBdHRyaWJ1dGUoJ3RvZ2dsZScsIHZhbHVlcywge1xuICAgICAgICBmaXJzdDogaTE4bi50b2dnbGVcbiAgICAgIH0pLFxuICAgICAgaW5saW5lOiAoKSA9PiB7XG4gICAgICAgIGxldCBsYWJlbHMgPSB7XG4gICAgICAgICAgZmlyc3Q6IGkxOG4uaW5saW5lLFxuICAgICAgICAgIHNlY29uZDogbWkxOG4uZ2V0KCdpbmxpbmVEZXNjJywgdHlwZS5yZXBsYWNlKCctZ3JvdXAnLCAnJykpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGJvb2xBdHRyaWJ1dGUoJ2lubGluZScsIHZhbHVlcywgbGFiZWxzKTtcbiAgICAgIH0sXG4gICAgICBsYWJlbDogKCkgPT4gdGV4dEF0dHJpYnV0ZSgnbGFiZWwnLCB2YWx1ZXMpLFxuICAgICAgZGVzY3JpcHRpb246ICgpID0+IHRleHRBdHRyaWJ1dGUoJ2Rlc2NyaXB0aW9uJywgdmFsdWVzKSxcbiAgICAgIHN1YnR5cGU6ICgpID0+IHNlbGVjdEF0dHJpYnV0ZSgnc3VidHlwZScsIHZhbHVlcywgc3VidHlwZXNbdHlwZV0pLFxuICAgICAgc3R5bGU6ICgpID0+IGJ0blN0eWxlcyh2YWx1ZXMuc3R5bGUpLFxuICAgICAgcGxhY2Vob2xkZXI6ICgpID0+IHRleHRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgdmFsdWVzKSxcbiAgICAgIHJvd3M6ICgpID0+IG51bWJlckF0dHJpYnV0ZSgncm93cycsIHZhbHVlcyksXG4gICAgICBjbGFzc05hbWU6ICgpID0+IHRleHRBdHRyaWJ1dGUoJ2NsYXNzTmFtZScsIHZhbHVlcyksXG4gICAgICBuYW1lOiAoKSA9PiB0ZXh0QXR0cmlidXRlKCduYW1lJywgdmFsdWVzKSxcbiAgICAgIHZhbHVlOiAoKSA9PiB0ZXh0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlcyksXG4gICAgICBtYXhsZW5ndGg6ICgpID0+IG51bWJlckF0dHJpYnV0ZSgnbWF4bGVuZ3RoJywgdmFsdWVzKSxcbiAgICAgIGFjY2VzczogKCkgPT4ge1xuICAgICAgICBsZXQgcm9sZXNEaXNwbGF5ID0gdmFsdWVzLnJvbGUgPyAnc3R5bGU9XCJkaXNwbGF5OmJsb2NrXCInIDogJyc7XG4gICAgICAgIGxldCBhdmFpbGFibGVSb2xlcyA9IFtcbiAgICAgICAgICBgPGRpdiBjbGFzcz1cImF2YWlsYWJsZS1yb2xlc1wiICR7cm9sZXNEaXNwbGF5fT5gXG4gICAgICAgIF07XG4gICAgICAgIGZvciAoa2V5IGluIG9wdHMucm9sZXMpIHtcbiAgICAgICAgICBpZiAob3B0cy5yb2xlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBsZXQgcm9sZUlkID0gYGZsZC0ke2RhdGEubGFzdElEfS1yb2xlcy0ke2tleX1gO1xuICAgICAgICAgICAgbGV0IGNiQXR0cnMgPSB7XG4gICAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICAgIG5hbWU6ICdyb2xlc1tdJyxcbiAgICAgICAgICAgICAgdmFsdWU6IGtleSxcbiAgICAgICAgICAgICAgaWQ6IHJvbGVJZCxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncm9sZXMtZmllbGQnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHV0aWxzLmluQXJyYXkoa2V5LCByb2xlcykpIHtcbiAgICAgICAgICAgICAgY2JBdHRycy5jaGVja2VkID0gJ2NoZWNrZWQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdmFpbGFibGVSb2xlcy5wdXNoKGA8bGFiZWwgZm9yPVwiJHtyb2xlSWR9XCI+YCk7XG4gICAgICAgICAgICBhdmFpbGFibGVSb2xlcy5wdXNoKGguaW5wdXQoY2JBdHRycykub3V0ZXJIVE1MKTtcbiAgICAgICAgICAgIGF2YWlsYWJsZVJvbGVzLnB1c2goYCAke29wdHMucm9sZXNba2V5XX08L2xhYmVsPmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhdmFpbGFibGVSb2xlcy5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgbGV0IGFjY2Vzc0xhYmVscyA9IHtcbiAgICAgICAgICBmaXJzdDogaTE4bi5yb2xlcyxcbiAgICAgICAgICBzZWNvbmQ6IGkxOG4ubGltaXRSb2xlLFxuICAgICAgICAgIGNvbnRlbnQ6IGF2YWlsYWJsZVJvbGVzLmpvaW4oJycpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGJvb2xBdHRyaWJ1dGUoJ2FjY2VzcycsIHZhbHVlcywgYWNjZXNzTGFiZWxzKTtcbiAgICAgIH0sXG4gICAgICBvdGhlcjogKCkgPT4gYm9vbEF0dHJpYnV0ZSgnb3RoZXInLCB2YWx1ZXMsIHtcbiAgICAgICAgZmlyc3Q6IGkxOG4uZW5hYmxlT3RoZXIsXG4gICAgICAgIHNlY29uZDogaTE4bi5lbmFibGVPdGhlck1zZ1xuICAgICAgfSksXG4gICAgICBvcHRpb25zOiAoKSA9PiBmaWVsZE9wdGlvbnModmFsdWVzKVxuICAgIH07XG4gICAgbGV0IGtleTtcbiAgICBsZXQgcm9sZXMgPSB2YWx1ZXMucm9sZSAhPT0gdW5kZWZpbmVkID8gdmFsdWVzLnJvbGUuc3BsaXQoJywnKSA6IFtdO1xuICAgIGxldCBudW1BdHRycyA9IFsnbWluJywgJ21heCcsICdzdGVwJ107XG5cbiAgICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIG51bUF0dHJzLmZvckVhY2gobnVtQXR0ciA9PiB7XG4gICAgICAgIGFkdkZpZWxkTWFwW251bUF0dHJdID0gKCkgPT4gbnVtYmVyQXR0cmlidXRlKG51bUF0dHIsIHZhbHVlcyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICBhZHZGaWVsZE1hcFsnbXVsdGlwbGUnXSA9ICgpID0+IHtcbiAgICAgICAgbGV0IGxhYmVscyA9IHtcbiAgICAgICAgICBmaXJzdDogaTE4bi5tdWx0aXBsZUZpbGVzLFxuICAgICAgICAgIHNlY29uZDogaTE4bi5hbGxvd011bHRpcGxlRmlsZXNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJvb2xBdHRyaWJ1dGUoJ211bHRpcGxlJywgdmFsdWVzLCBsYWJlbHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIGFkdkZpZWxkTWFwWydtdWx0aXBsZSddID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gYm9vbEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCB2YWx1ZXMsIHtcbiAgICAgICAgICBmaXJzdDogJyAnLFxuICAgICAgICAgIHNlY29uZDogaTE4bi5zZWxlY3Rpb25zTWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoZmllbGRBdHRycykuZm9yRWFjaChpbmRleCA9PiB7XG4gICAgICBsZXQgYXR0ciA9IGZpZWxkQXR0cnNbaW5kZXhdO1xuICAgICAgbGV0IHVzZURlZmF1bHRBdHRyID0gW3RydWVdO1xuXG4gICAgICBpZiAob3B0cy50eXBlVXNlckRpc2FibGVkQXR0cnNbdHlwZV0pIHtcbiAgICAgICAgbGV0IHR5cGVEaXNhYmxlZEF0dHJzID0gb3B0cy50eXBlVXNlckRpc2FibGVkQXR0cnNbdHlwZV07XG4gICAgICAgIHVzZURlZmF1bHRBdHRyLnB1c2goIXV0aWxzLmluQXJyYXkoYXR0ciwgdHlwZURpc2FibGVkQXR0cnMpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMudHlwZVVzZXJBdHRyc1t0eXBlXSkge1xuICAgICAgICBsZXQgdXNlckF0dHJzID0gT2JqZWN0LmtleXMob3B0cy50eXBlVXNlckF0dHJzW3R5cGVdKTtcbiAgICAgICAgdXNlRGVmYXVsdEF0dHIucHVzaCghdXRpbHMuaW5BcnJheShhdHRyLCB1c2VyQXR0cnMpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmluQXJyYXkoYXR0ciwgb3B0cy5kaXNhYmxlZEF0dHJzKSkge1xuICAgICAgICB1c2VEZWZhdWx0QXR0ci5wdXNoKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHVzZURlZmF1bHRBdHRyLmV2ZXJ5KHVzZSA9PiB1c2UgPT09IHRydWUpKSB7XG4gICAgICAgIGFkdkZpZWxkcy5wdXNoKGFkdkZpZWxkTWFwW2F0dHJdKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQXBwZW5kIGN1c3RvbSBhdHRyaWJ1dGVzIGFzIGRlZmluZWQgaW4gdHlwZVVzZXJBdHRycyBvcHRpb25cbiAgICBpZiAob3B0cy50eXBlVXNlckF0dHJzW3R5cGVdKSB7XG4gICAgICBsZXQgY3VzdG9tQXR0ciA9IHByb2Nlc3NUeXBlVXNlckF0dHJzKG9wdHMudHlwZVVzZXJBdHRyc1t0eXBlXSxcbiAgICAgICAgdmFsdWVzKTtcbiAgICAgIGFkdkZpZWxkcy5wdXNoKGN1c3RvbUF0dHIpO1xuICAgIH1cblxuICAgIHJldHVybiBhZHZGaWVsZHMuam9pbignJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb2Nlc3NlcyB0eXBlVXNlckF0dHJzXG4gICAqIEBwYXJhbSAge09iamVjdH0gdHlwZVVzZXJBdHRyIG9wdGlvblxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHZhbHVlcyAgICAgICBmaWVsZCBhdHRyaWJ1dGVzXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICAgICAgIG1hcmt1cCBmb3IgY3VzdG9tIHVzZXIgYXR0cmlidXRlc1xuICAgKi9cbiAgZnVuY3Rpb24gcHJvY2Vzc1R5cGVVc2VyQXR0cnModHlwZVVzZXJBdHRyLCB2YWx1ZXMpIHtcbiAgICBsZXQgYWR2RmllbGQgPSBbXTtcblxuICAgIGZvciAobGV0IGF0dHJpYnV0ZSBpbiB0eXBlVXNlckF0dHIpIHtcbiAgICAgIGlmICh0eXBlVXNlckF0dHIuaGFzT3duUHJvcGVydHkoYXR0cmlidXRlKSkge1xuICAgICAgICBsZXQgb3JpZyA9IGkxOG5bYXR0cmlidXRlXTtcbiAgICAgICAgbGV0IHRVQSA9IHR5cGVVc2VyQXR0clthdHRyaWJ1dGVdO1xuICAgICAgICBsZXQgb3JpZ1ZhbHVlID0gdFVBLnZhbHVlO1xuICAgICAgICB0VUEudmFsdWUgPSAodmFsdWVzW2F0dHJpYnV0ZV0gIT09IHVuZGVmaW5lZCkgPyB2YWx1ZXNbYXR0cmlidXRlXSA6XG4gICAgICAgICAgKHRVQS52YWx1ZSAhPT0gdW5kZWZpbmVkID8gdFVBLnZhbHVlIDogJycpO1xuXG4gICAgICAgIGlmICh0VUEubGFiZWwpIHtcbiAgICAgICAgICBpMThuW2F0dHJpYnV0ZV0gPSB0VUEubGFiZWw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodFVBLnR5cGUgPT09ICdjaGVja2JveCcgJiYgdFVBLnZhbHVlID09PSB0cnVlKSB7XG4gICAgICAgICAgdFVBLmNoZWNrZWQgPSB0VUEudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHRVQS5jaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRVQS5vcHRpb25zKSB7XG4gICAgICAgICAgYWR2RmllbGQucHVzaChzZWxlY3RVc2VyQXR0cnMoYXR0cmlidXRlLCB0VUEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZHZGaWVsZC5wdXNoKGlucHV0VXNlckF0dHJzKGF0dHJpYnV0ZSwgdFVBKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpMThuW2F0dHJpYnV0ZV0gPSBvcmlnO1xuICAgICAgICB0VUEudmFsdWUgPSBvcmlnVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkdkZpZWxkLmpvaW4oJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRleHQgaW5wdXQgdmFsdWUgZm9yIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhdHRycyBhbHNvIGtub3duIGFzIHZhbHVlc1xuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgIGlucHV0IG1hcmt1cFxuICAgKi9cbiAgZnVuY3Rpb24gaW5wdXRVc2VyQXR0cnMobmFtZSwgYXR0cnMpIHtcbiAgICBsZXQgdGV4dEF0dHJzID0ge1xuICAgICAgaWQ6IG5hbWUgKyAnLScgKyBkYXRhLmxhc3RJRCxcbiAgICAgIHRpdGxlOiBhdHRycy5kZXNjcmlwdGlvbiB8fCBhdHRycy5sYWJlbCB8fCBuYW1lLnRvVXBwZXJDYXNlKCksXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgdHlwZTogYXR0cnMudHlwZSB8fCAndGV4dCcsXG4gICAgICBjbGFzc05hbWU6IFtgZmxkLSR7bmFtZX1gXVxuICAgIH07XG4gICAgbGV0IGxhYmVsID0gYDxsYWJlbCBmb3I9XCIke3RleHRBdHRycy5pZH1cIj4ke2kxOG5bbmFtZV19PC9sYWJlbD5gO1xuXG4gICAgbGV0IG9wdGlvbklucHV0cyA9IFtcbiAgICAgICdjaGVja2JveCcsXG4gICAgICAnY2hlY2tib3gtZ3JvdXAnLFxuICAgICAgJ3JhZGlvLWdyb3VwJ1xuICAgIF07XG4gICAgaWYgKCF1dGlscy5pbkFycmF5KHRleHRBdHRycy50eXBlLCBvcHRpb25JbnB1dHMpKSB7XG4gICAgICB0ZXh0QXR0cnMuY2xhc3NOYW1lLnB1c2goJ2Zvcm0tY29udHJvbCcpO1xuICAgIH1cblxuICAgIHRleHRBdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIGF0dHJzLCB0ZXh0QXR0cnMpO1xuICAgIGxldCB0ZXh0SW5wdXQgPSBgPGlucHV0ICR7dXRpbHMuYXR0clN0cmluZyh0ZXh0QXR0cnMpfT5gO1xuICAgIGxldCBpbnB1dFdyYXAgPSBgPGRpdiBjbGFzcz1cImlucHV0LXdyYXBcIj4ke3RleHRJbnB1dH08L2Rpdj5gO1xuICAgIHJldHVybiBgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgJHtuYW1lfS13cmFwXCI+JHtsYWJlbH0ke2lucHV0V3JhcH08L2Rpdj5gO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBpbnB1dCBmb3IgbXVsdGlwbGUgY2hvaWNlIHVzZXIgYXR0cmlidXRlc1xuICAgKiBAdG9kbyAgcmVwbGFjZSB3aXRoIHNlbGVjdEF0dHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSAge09iamVjdH0gZmllbGREYXRhXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICBzZWxlY3QgbWFya3VwXG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3RVc2VyQXR0cnMobmFtZSwgZmllbGREYXRhKSB7XG4gICAgbGV0IG9wdGlzID0gT2JqZWN0LmtleXMoZmllbGREYXRhLm9wdGlvbnMpLm1hcCh2YWwgPT4ge1xuICAgICAgbGV0IGF0dHJzID0ge1xuICAgICAgICB2YWx1ZTogdmFsXG4gICAgICB9O1xuICAgICAgaWYgKHZhbCA9PT0gZmllbGREYXRhLnZhbHVlKSB7XG4gICAgICAgIGF0dHJzLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtKCdvcHRpb24nLCBmaWVsZERhdGEub3B0aW9uc1t2YWxdLCBhdHRycykub3V0ZXJIVE1MO1xuICAgIH0pO1xuICAgIGxldCBzZWxlY3RBdHRycyA9IHtcbiAgICAgIGlkOiBuYW1lICsgJy0nICsgZGF0YS5sYXN0SUQsXG4gICAgICB0aXRsZTogZmllbGREYXRhLmRlc2NyaXB0aW9uIHx8IGZpZWxkRGF0YS5sYWJlbCB8fCBuYW1lLnRvVXBwZXJDYXNlKCksXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY2xhc3NOYW1lOiBgZmxkLSR7bmFtZX0gZm9ybS1jb250cm9sYFxuICAgIH07XG4gICAgbGV0IGxhYmVsID0gYDxsYWJlbCBmb3I9XCIke3NlbGVjdEF0dHJzLmlkfVwiPiR7aTE4bltuYW1lXX08L2xhYmVsPmA7XG5cbiAgICBPYmplY3Qua2V5cyhmaWVsZERhdGEpLmZpbHRlcihwcm9wID0+IHtcbiAgICAgIHJldHVybiAhdXRpbHMuaW5BcnJheShwcm9wLCBbJ3ZhbHVlJywgJ29wdGlvbnMnLCAnbGFiZWwnXSk7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbihhdHRyKSB7XG4gICAgICBzZWxlY3RBdHRyc1thdHRyXSA9IGZpZWxkRGF0YVthdHRyXTtcbiAgICB9KTtcblxuICAgIGxldCBzZWxlY3QgPSBtKCdzZWxlY3QnLCBvcHRpcywgc2VsZWN0QXR0cnMpLm91dGVySFRNTDtcbiAgICBsZXQgaW5wdXRXcmFwID0gYDxkaXYgY2xhc3M9XCJpbnB1dC13cmFwXCI+JHtzZWxlY3R9PC9kaXY+YDtcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwICR7bmFtZX0td3JhcFwiPiR7bGFiZWx9JHtpbnB1dFdyYXB9PC9kaXY+YDtcbiAgfVxuXG4gIGNvbnN0IGJvb2xBdHRyaWJ1dGUgPSAobmFtZSwgdmFsdWVzLCBsYWJlbHMpID0+IHtcbiAgICBsZXQgbGFiZWwgPSB0eHQgPT4gbSgnbGFiZWwnLCB0eHQsIHtcbiAgICAgIGZvcjogYCR7bmFtZX0tJHtkYXRhLmxhc3RJRH1gXG4gICAgfSkub3V0ZXJIVE1MO1xuICAgIGxldCBjYkF0dHJzID0ge1xuICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgIGNsYXNzTmFtZTogYGZsZC0ke25hbWV9YCxcbiAgICAgIG5hbWUsXG4gICAgICBpZDogYCR7bmFtZX0tJHtkYXRhLmxhc3RJRH1gXG4gICAgfTtcbiAgICBpZiAodmFsdWVzW25hbWVdKSB7XG4gICAgICBjYkF0dHJzLmNoZWNrZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgbGVmdCA9IFtdO1xuICAgIGxldCByaWdodCA9IFtcbiAgICAgIG0oJ2lucHV0JywgbnVsbCwgY2JBdHRycykub3V0ZXJIVE1MXG4gICAgXTtcblxuICAgIGlmIChsYWJlbHMuZmlyc3QpIHtcbiAgICAgIGxlZnQucHVzaChsYWJlbChsYWJlbHMuZmlyc3QpKTtcbiAgICB9XG5cbiAgICBpZiAobGFiZWxzLnNlY29uZCkge1xuICAgICAgcmlnaHQucHVzaCgnICcsIGxhYmVsKGxhYmVscy5zZWNvbmQpKTtcbiAgICB9XG4gICAgaWYgKGxhYmVscy5jb250ZW50KSB7XG4gICAgICByaWdodC5wdXNoKGxhYmVscy5jb250ZW50KTtcbiAgICB9XG5cbiAgICByaWdodCA9IG0oJ2RpdicsIHJpZ2h0LCB7XG4gICAgICBjbGFzc05hbWU6ICdpbnB1dC13cmFwJ1xuICAgIH0pLm91dGVySFRNTDtcblxuICAgIHJldHVybiBtKCdkaXYnLCBsZWZ0LmNvbmNhdChyaWdodCksIHtcbiAgICAgIGNsYXNzTmFtZTogYGZvcm0tZ3JvdXAgJHtuYW1lfS13cmFwYFxuICAgIH0pLm91dGVySFRNTDtcbiAgfTtcblxuICBjb25zdCBidG5TdHlsZXMgPSBzdHlsZSA9PiB7XG4gICAgbGV0IHN0eWxlRmllbGQgPSAnJztcblxuICAgIC8vIGNvcnJlY3RzIGlzc3VlIHdoZXJlICd1bmRlZmluZWQnIHdhcyBzYXZlZCB0byBmb3JtRGF0YVxuICAgIGlmIChzdHlsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0eWxlID0gJ2RlZmF1bHQnO1xuICAgIH1cblxuICAgIGxldCBzdHlsZUxhYmVsID0gYDxsYWJlbD4ke2kxOG4uc3R5bGV9PC9sYWJlbD5gO1xuICAgIHN0eWxlRmllbGQgKz0gaC5pbnB1dCh7XG4gICAgICB2YWx1ZTogc3R5bGUgfHwgJ2RlZmF1bHQnLFxuICAgICAgdHlwZTogJ2hpZGRlbicsXG4gICAgICBjbGFzc05hbWU6ICdidG4tc3R5bGUnXG4gICAgfSkub3V0ZXJIVE1MO1xuICAgIHN0eWxlRmllbGQgKz0gJzxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj4nO1xuXG4gICAgc3R5bGVzLmJ0bi5mb3JFYWNoKGJ0blN0eWxlID0+IHtcbiAgICAgIGxldCBjbGFzc0xpc3QgPSBbJ2J0bi14cycsICdidG4nLCBgYnRuLSR7YnRuU3R5bGV9YF07XG4gICAgICBpZiAoc3R5bGUgPT09IGJ0blN0eWxlKSB7XG4gICAgICAgIGNsYXNzTGlzdC5wdXNoKCdzZWxlY3RlZCcpO1xuICAgICAgfVxuICAgICAgbGV0IGJ0biA9IG0oJ2J1dHRvbicsIG1pMThuLmdldChgc3R5bGVzLmJ0bi4ke2J0blN0eWxlfWApLCB7XG4gICAgICAgIHZhbHVlOiBidG5TdHlsZSxcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NMaXN0LmpvaW4oJyAnKVxuICAgICAgfSkub3V0ZXJIVE1MO1xuXG4gICAgICBzdHlsZUZpZWxkICs9IGJ0bjtcbiAgICB9KTtcblxuICAgIHN0eWxlRmllbGQgKz0gJzwvZGl2Pic7XG5cbiAgICBzdHlsZUZpZWxkID0gbSgnZGl2JywgW3N0eWxlTGFiZWwsIHN0eWxlRmllbGRdLCB7XG4gICAgICBjbGFzc05hbWU6ICdmb3JtLWdyb3VwIHN0eWxlLXdyYXAnXG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3R5bGVGaWVsZC5vdXRlckhUTUw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIG51bWJlciBhdHRyaWJ1dGUgdG8gYSBmaWVsZC5cbiAgICogQHBhcmFtICB7U3RyaW5nfSBhdHRyaWJ1dGVcbiAgICogQHBhcmFtICB7T2JqZWN0fSB2YWx1ZXNcbiAgICogQHJldHVybiB7U3RyaW5nfSBtYXJrdXAgZm9yIG51bWJlciBhdHRyaWJ1dGVcbiAgICovXG4gIGNvbnN0IG51bWJlckF0dHJpYnV0ZSA9IChhdHRyaWJ1dGUsIHZhbHVlcykgPT4ge1xuICAgIGxldCBhdHRyVmFsID0gdmFsdWVzW2F0dHJpYnV0ZV07XG4gICAgbGV0IGF0dHJMYWJlbCA9IGkxOG5bYXR0cmlidXRlXSB8fCBhdHRyaWJ1dGU7XG4gICAgbGV0IHBsYWNlaG9sZGVyID0gaTE4bltgcGxhY2Vob2xkZXIuJHthdHRyaWJ1dGV9YF07XG4gICAgbGV0IGlucHV0Q29uZmlnID0ge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB2YWx1ZTogYXR0clZhbCxcbiAgICAgIG5hbWU6IGF0dHJpYnV0ZSxcbiAgICAgIG1pbjogJzAnLFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgY2xhc3NOYW1lOiBgZmxkLSR7YXR0cmlidXRlfSBmb3JtLWNvbnRyb2xgLFxuICAgICAgaWQ6IGAke2F0dHJpYnV0ZX0tJHtkYXRhLmxhc3RJRH1gXG4gICAgfTtcbiAgICBsZXQgbnVtYmVyQXR0cmlidXRlID0gaC5pbnB1dCh1dGlscy50cmltT2JqKGlucHV0Q29uZmlnKSkub3V0ZXJIVE1MO1xuICAgIGxldCBpbnB1dFdyYXAgPSBgPGRpdiBjbGFzcz1cImlucHV0LXdyYXBcIj4ke251bWJlckF0dHJpYnV0ZX08L2Rpdj5gO1xuICAgIGxldCBpbnB1dExhYmVsID0gYDxsYWJlbCBmb3I9XCIke2lucHV0Q29uZmlnLmlkfVwiPiR7YXR0ckxhYmVsfTwvbGFiZWw+YDtcblxuICAgIHJldHVybiBtKCdkaXYnLCBbaW5wdXRMYWJlbCwgaW5wdXRXcmFwXSwge1xuICAgICAgY2xhc3NOYW1lOiBgZm9ybS1ncm91cCAke2F0dHJpYnV0ZX0td3JhcGBcbiAgICB9KS5vdXRlckhUTUw7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNlbGVjdEF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGF0dHJpYnV0ZSAgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtICB7T2JqZWN0fSB2YWx1ZXMgICAgIGFrYSBhdHRyc1xuICAgKiBAcGFyYW0gIHtBcnJheX0gb3B0aW9uRGF0YSAgc2VsZWN0IGZpZWxkIG9wdGlvbiBkYXRhXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICAgICBzZWxlY3QgaW5wdXQgbWFrcnVwXG4gICAqL1xuICBjb25zdCBzZWxlY3RBdHRyaWJ1dGUgPSAoYXR0cmlidXRlLCB2YWx1ZXMsIG9wdGlvbkRhdGEpID0+IHtcbiAgICBsZXQgc2VsZWN0T3B0aW9ucyA9IG9wdGlvbkRhdGEubWFwKChvcHRpb24sIGkpID0+IHtcbiAgICAgIGxldCBvcHRpb25BdHRycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBsYWJlbDogYCR7aTE4bi5vcHRpb259ICR7aX1gLFxuICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICB9LCBvcHRpb24pO1xuICAgICAgaWYgKG9wdGlvbi52YWx1ZSA9PT0gdmFsdWVzW2F0dHJpYnV0ZV0pIHtcbiAgICAgICAgb3B0aW9uQXR0cnMuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3B0aW9uQXR0cnMgPSB1dGlscy50cmltT2JqKG9wdGlvbkF0dHJzKTtcbiAgICAgIHJldHVybiBtKCdvcHRpb24nLCBvcHRpb25BdHRycy5sYWJlbCwgb3B0aW9uQXR0cnMpO1xuICAgIH0pO1xuICAgIGxldCBzZWxlY3RBdHRycyA9IHtcbiAgICAgIGlkOiBhdHRyaWJ1dGUgKyAnLScgKyBkYXRhLmxhc3RJRCxcbiAgICAgIG5hbWU6IGF0dHJpYnV0ZSxcbiAgICAgIGNsYXNzTmFtZTogYGZsZC0ke2F0dHJpYnV0ZX0gZm9ybS1jb250cm9sYFxuICAgIH07XG4gICAgbGV0IGxhYmVsVGV4dCA9IGkxOG5bYXR0cmlidXRlXSB8fCB1dGlscy5jYXBpdGFsaXplKGF0dHJpYnV0ZSk7XG4gICAgbGV0IGxhYmVsID0gbSgnbGFiZWwnLCBsYWJlbFRleHQsIHtcbiAgICAgIGZvcjogc2VsZWN0QXR0cnMuaWRcbiAgICB9KTtcbiAgICBsZXQgc2VsZWN0ID0gbSgnc2VsZWN0Jywgc2VsZWN0T3B0aW9ucywgc2VsZWN0QXR0cnMpO1xuICAgIGxldCBpbnB1dFdyYXAgPSBtKCdkaXYnLCBzZWxlY3QsIHtcbiAgICAgIGNsYXNzTmFtZTogJ2lucHV0LXdyYXAnXG4gICAgfSk7XG4gICAgbGV0IGF0dHJXcmFwID0gbSgnZGl2JywgW2xhYmVsLCBpbnB1dFdyYXBdLCB7XG4gICAgICBjbGFzc05hbWU6IGBmb3JtLWdyb3VwICR7c2VsZWN0QXR0cnMubmFtZX0td3JhcGBcbiAgICB9KTtcblxuICAgIHJldHVybiBhdHRyV3JhcC5vdXRlckhUTUw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHNvbWUgdGV4dCBpbnB1dHMgZm9yIGZpZWxkIGF0dHJpYnV0ZXMsICoqd2lsbCBiZSByZXBsYWNlZCoqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gYXR0cmlidXRlXG4gICAqIEBwYXJhbSAge09iamVjdH0gdmFsdWVzXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGNvbnN0IHRleHRBdHRyaWJ1dGUgPSAoYXR0cmlidXRlLCB2YWx1ZXMpID0+IHtcbiAgICBsZXQgdGV4dEFyZWEgPSBbJ3BhcmFncmFwaCddO1xuXG4gICAgbGV0IGF0dHJWYWwgPSB2YWx1ZXNbYXR0cmlidXRlXSB8fCAnJztcbiAgICBsZXQgYXR0ckxhYmVsID0gaTE4blthdHRyaWJ1dGVdO1xuXG4gICAgaWYgKGF0dHJpYnV0ZSA9PT0gJ2xhYmVsJykge1xuICAgICAgaWYgKHV0aWxzLmluQXJyYXkodmFsdWVzLnR5cGUsIHRleHRBcmVhKSkge1xuICAgICAgICBhdHRyTGFiZWwgPSBpMThuLmNvbnRlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRyVmFsID0gdXRpbHMucGFyc2VkSHRtbCh2YWx1ZXNbYXR0cmlidXRlXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHBsYWNlaG9sZGVyID0gaTE4bltgcGxhY2Vob2xkZXIuJHthdHRyaWJ1dGV9YF0gfHwgJyc7XG4gICAgbGV0IGF0dHJpYnV0ZWZpZWxkID0gJyc7XG4gICAgbGV0IG5vTWFrZUF0dHIgPSBbXTtcblxuICAgIGlmICghbm9NYWtlQXR0ci5zb21lKGVsZW0gPT4gZWxlbSA9PT0gdHJ1ZSkpIHtcbiAgICAgIGxldCBpbnB1dENvbmZpZyA9IHtcbiAgICAgICAgbmFtZTogYXR0cmlidXRlLFxuICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgIGNsYXNzTmFtZTogYGZsZC0ke2F0dHJpYnV0ZX0gZm9ybS1jb250cm9sYCxcbiAgICAgICAgaWQ6IGAke2F0dHJpYnV0ZX0tJHtkYXRhLmxhc3RJRH1gXG4gICAgICB9O1xuICAgICAgbGV0IGF0dHJpYnV0ZUxhYmVsID0gbSgnbGFiZWwnLCBhdHRyTGFiZWwsIHtcbiAgICAgICAgZm9yOiBpbnB1dENvbmZpZy5pZFxuICAgICAgfSkub3V0ZXJIVE1MO1xuXG4gICAgICBpZiAoYXR0cmlidXRlID09PSAnbGFiZWwnKSB7XG4gICAgICAgIGlucHV0Q29uZmlnLmNvbnRlbnRlZGl0YWJsZSA9IHRydWU7XG4gICAgICAgIGF0dHJpYnV0ZWZpZWxkICs9IG0oJ2RpdicsIGF0dHJWYWwsIGlucHV0Q29uZmlnKS5vdXRlckhUTUw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dENvbmZpZy52YWx1ZSA9IGF0dHJWYWw7XG4gICAgICAgIGlucHV0Q29uZmlnLnR5cGUgPSAndGV4dCc7XG4gICAgICAgIGF0dHJpYnV0ZWZpZWxkICs9IGA8aW5wdXQgJHt1dGlscy5hdHRyU3RyaW5nKGlucHV0Q29uZmlnKX0+YDtcbiAgICAgIH1cblxuICAgICAgbGV0IGlucHV0V3JhcCA9IGA8ZGl2IGNsYXNzPVwiaW5wdXQtd3JhcFwiPiR7YXR0cmlidXRlZmllbGR9PC9kaXY+YDtcblxuICAgICAgbGV0IHZpc2liaWxpdHkgPSAnYmxvY2snO1xuICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gJ3ZhbHVlJykge1xuICAgICAgICB2aXNpYmlsaXR5ID0gdmFsdWVzLnN1YnR5cGUgJiYgdmFsdWVzLnN1YnR5cGUgPT09ICdxdWlsbCcgJiYgJ25vbmUnO1xuICAgICAgfVxuXG4gICAgICBhdHRyaWJ1dGVmaWVsZCA9IG0oJ2RpdicsIFthdHRyaWJ1dGVMYWJlbCwgaW5wdXRXcmFwXSwge1xuICAgICAgICBjbGFzc05hbWU6IGBmb3JtLWdyb3VwICR7YXR0cmlidXRlfS13cmFwYCxcbiAgICAgICAgc3R5bGU6IGBkaXNwbGF5OiAke3Zpc2liaWxpdHl9YFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZWZpZWxkLm91dGVySFRNTDtcbiAgfTtcblxuICBjb25zdCByZXF1aXJlZEZpZWxkID0gZmllbGREYXRhID0+IHtcbiAgICBsZXQge1xuICAgICAgdHlwZVxuICAgIH0gPSBmaWVsZERhdGE7XG4gICAgbGV0IG5vUmVxdWlyZSA9IFtcbiAgICAgICdoZWFkZXInLFxuICAgICAgJ3BhcmFncmFwaCcsXG4gICAgICAnYnV0dG9uJ1xuICAgIF07XG4gICAgbGV0IG5vTWFrZSA9IFtdO1xuICAgIGxldCByZXF1aXJlRmllbGQgPSAnJztcblxuICAgIGlmICh1dGlscy5pbkFycmF5KHR5cGUsIG5vUmVxdWlyZSkpIHtcbiAgICAgIG5vTWFrZS5wdXNoKHRydWUpO1xuICAgIH1cbiAgICBpZiAoIW5vTWFrZS5zb21lKGVsZW0gPT4gZWxlbSA9PT0gdHJ1ZSkpIHtcbiAgICAgIHJlcXVpcmVGaWVsZCA9IGJvb2xBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgZmllbGREYXRhLCB7XG4gICAgICAgIGZpcnN0OiBpMThuLnJlcXVpcmVkXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWlyZUZpZWxkO1xuICB9O1xuXG4gIC8vIEFwcGVuZCB0aGUgbmV3IGZpZWxkIHRvIHRoZSBlZGl0b3JcbiAgbGV0IGFwcGVuZE5ld0ZpZWxkID0gZnVuY3Rpb24odmFsdWVzLCBpc05ldyA9IHRydWUpIHtcbiAgICBsZXQgdHlwZSA9IHZhbHVlcy50eXBlIHx8ICd0ZXh0JztcbiAgICBsZXQgbGFiZWwgPSB2YWx1ZXMubGFiZWwgfHwgaTE4blt0eXBlXSB8fCBpMThuLmxhYmVsO1xuICAgIGxldCBkZWxCdG4gPSBtKCdhJywgaTE4bi5yZW1vdmUsIHtcbiAgICAgIGlkOiAnZGVsXycgKyBkYXRhLmxhc3RJRCxcbiAgICAgIGNsYXNzTmFtZTogJ2RlbC1idXR0b24gYnRuIGRlbGV0ZS1jb25maXJtJyxcbiAgICAgIHRpdGxlOiBpMThuLnJlbW92ZU1lc3NhZ2VcbiAgICB9KTtcbiAgICBsZXQgdG9nZ2xlQnRuID0gbSgnYScsIG51bGwsIHtcbiAgICAgIGlkOiBkYXRhLmxhc3RJRCArICctZWRpdCcsXG4gICAgICBjbGFzc05hbWU6ICd0b2dnbGUtZm9ybSBidG4gaWNvbi1wZW5jaWwnLFxuICAgICAgdGl0bGU6IGkxOG4uaGlkZVxuICAgIH0pO1xuICAgIGxldCBjb3B5QnRuID0gbSgnYScsIG51bGwsIHtcbiAgICAgIGlkOiBkYXRhLmxhc3RJRCArICctY29weScsXG4gICAgICBjbGFzc05hbWU6ICdjb3B5LWJ1dHRvbiBidG4gaWNvbi1jb3B5JyxcbiAgICAgIHRpdGxlOiBpMThuLmNvcHlCdXR0b25Ub29sdGlwXG4gICAgfSk7XG5cbiAgICBsZXQgbGlDb250ZW50cyA9IG0oXG4gICAgICAnZGl2JywgW3RvZ2dsZUJ0biwgY29weUJ0biwgZGVsQnRuXSwge1xuICAgICAgICBjbGFzc05hbWU6ICdmaWVsZC1hY3Rpb25zJ1xuICAgICAgfVxuICAgICkub3V0ZXJIVE1MO1xuXG4gICAgbGlDb250ZW50cyArPSBtKCdsYWJlbCcsIHV0aWxzLnBhcnNlZEh0bWwobGFiZWwpLCB7XG4gICAgICBjbGFzc05hbWU6ICdmaWVsZC1sYWJlbCdcbiAgICB9KS5vdXRlckhUTUw7XG4gICAgbGV0IHJlcXVpcmVkRGlzcGxheSA9IHZhbHVlcy5yZXF1aXJlZCA/ICdkaXNwbGF5OmlubGluZScgOiAnJztcbiAgICBsaUNvbnRlbnRzICs9IG0oJ3NwYW4nLCAnIConLCB7XG4gICAgICBjbGFzc05hbWU6ICdyZXF1aXJlZC1hc3RlcmlzaycsXG4gICAgICBzdHlsZTogcmVxdWlyZWREaXNwbGF5XG4gICAgfSkub3V0ZXJIVE1MO1xuXG4gICAgLy8gYWRkIHRoZSBoZWxwIGljb25cbiAgICBsZXQgZGVzY0F0dHJzID0ge1xuICAgICAgY2xhc3NOYW1lOiAndG9vbHRpcC1lbGVtZW50JyxcbiAgICAgIHRvb2x0aXA6IHZhbHVlcy5kZXNjcmlwdGlvbixcbiAgICAgIHN0eWxlOiB2YWx1ZXMuZGVzY3JpcHRpb24gPyAnZGlzcGxheTppbmxpbmUtYmxvY2snIDogJ2Rpc3BsYXk6bm9uZSdcbiAgICB9O1xuICAgIGxpQ29udGVudHMgKz0gYDxzcGFuICR7dXRpbHMuYXR0clN0cmluZyhkZXNjQXR0cnMpfT4/PC9zcGFuPmA7XG5cbiAgICBsaUNvbnRlbnRzICs9IG0oJ2RpdicsICcnLCB7XG4gICAgICBjbGFzc05hbWU6ICdwcmV2LWhvbGRlcidcbiAgICB9KS5vdXRlckhUTUw7XG4gICAgbGlDb250ZW50cyArPSBgPGRpdiBpZD1cIiR7ZGF0YS5sYXN0SUR9LWhvbGRlclwiIGNsYXNzPVwiZnJtLWhvbGRlclwiPmA7XG4gICAgbGlDb250ZW50cyArPSAnPGRpdiBjbGFzcz1cImZvcm0tZWxlbWVudHNcIj4nO1xuXG4gICAgbGlDb250ZW50cyArPSBhZHZGaWVsZHModmFsdWVzKTtcbiAgICBsaUNvbnRlbnRzICs9IG0oJ2EnLCBpMThuLmNsb3NlLCB7XG4gICAgICBjbGFzc05hbWU6ICdjbG9zZS1maWVsZCdcbiAgICB9KS5vdXRlckhUTUw7XG5cbiAgICBsaUNvbnRlbnRzICs9ICc8L2Rpdj4nO1xuICAgIGxpQ29udGVudHMgKz0gJzwvZGl2Pic7XG5cbiAgICB2YWx1ZXMuY2xhc3MgPSB2YWx1ZXMuY2xhc3MgfHwgJyc7XG5cbiAgICBsZXQgZmllbGQgPSBtKCdsaScsIGxpQ29udGVudHMsIHtcbiAgICAgICdjbGFzcyc6IHR5cGUgKyAnLWZpZWxkIGZvcm0tZmllbGQgJyArIHZhbHVlcy5jbGFzcyxcbiAgICAgICd0eXBlJzogdHlwZSxcbiAgICAgIGlkOiBkYXRhLmxhc3RJRFxuICAgIH0pO1xuICAgIGxldCAkbGkgPSAkKGZpZWxkKTtcblxuICAgICRsaS5kYXRhKCdmaWVsZERhdGEnLCB7XG4gICAgICBhdHRyczogdmFsdWVzXG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIGguc3RvcEluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgJCgnPiBsaScsIGQuc3RhZ2UpLmVxKGguc3RvcEluZGV4KS5iZWZvcmUoJGxpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHN0YWdlLmFwcGVuZCgkbGkpO1xuICAgIH1cblxuICAgICQoJy5zb3J0YWJsZS1vcHRpb25zJywgJGxpKVxuICAgICAgLnNvcnRhYmxlKHtcbiAgICAgICAgdXBkYXRlOiAoKSA9PiBoLnVwZGF0ZVByZXZpZXcoJGxpKVxuICAgICAgfSk7XG5cbiAgICAvLyBnZW5lcmF0ZSB0aGUgY29udHJvbCwgaW5zZXJ0IGl0IGludG8gdGhlIGxpc3QgaXRlbSAmIGFkZCBpdCB0byB0aGUgc3RhZ2VcbiAgICBoLnVwZGF0ZVByZXZpZXcoJGxpKTtcblxuICAgIGlmIChvcHRzLnR5cGVVc2VyRXZlbnRzW3R5cGVdICYmIG9wdHMudHlwZVVzZXJFdmVudHNbdHlwZV0ub25hZGQpIHtcbiAgICAgIG9wdHMudHlwZVVzZXJFdmVudHNbdHlwZV0ub25hZGQoZmllbGQpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVkaXRPbkFkZCAmJiBpc05ldykge1xuICAgICAgaC5jbG9zZUFsbEVkaXQoKTtcbiAgICAgIGgudG9nZ2xlRWRpdChkYXRhLmxhc3RJRCwgZmFsc2UpO1xuICAgICAgLy8gZmllbGQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICB9XG5cbiAgICBkYXRhLmxhc3RJRCA9IGguaW5jcmVtZW50SWQoZGF0YS5sYXN0SUQpO1xuICB9O1xuXG4gIC8vIFNlbGVjdCBmaWVsZCBodG1sLCBzaW5jZSB0aGVyZSBtYXkgYmUgbXVsdGlwbGVcbiAgbGV0IHNlbGVjdEZpZWxkT3B0aW9ucyA9IGZ1bmN0aW9uKG5hbWUsIG9wdGlvbkRhdGEsIG11bHRpcGxlU2VsZWN0KSB7XG4gICAgbGV0IG9wdGlvbklucHV0VHlwZSA9IHtcbiAgICAgIHNlbGVjdGVkOiAobXVsdGlwbGVTZWxlY3QgPyAnY2hlY2tib3gnIDogJ3JhZGlvJylcbiAgICB9O1xuICAgIGxldCBvcHRpb25EYXRhT3JkZXIgPSBbXG4gICAgICAndmFsdWUnLFxuICAgICAgJ2xhYmVsJyxcbiAgICAgICdzZWxlY3RlZCdcbiAgICBdO1xuICAgIGxldCBvcHRpb25JbnB1dHMgPSBbXTtcbiAgICBsZXQgb3B0aW9uVGVtcGxhdGUgPSB7XG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBsYWJlbDogJycsXG4gICAgICB2YWx1ZTogJydcbiAgICB9O1xuXG4gICAgb3B0aW9uRGF0YSA9IE9iamVjdC5hc3NpZ24ob3B0aW9uVGVtcGxhdGUsIG9wdGlvbkRhdGEpO1xuXG4gICAgZm9yIChsZXQgaSA9IG9wdGlvbkRhdGFPcmRlci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHByb3AgPSBvcHRpb25EYXRhT3JkZXJbaV07XG4gICAgICBpZiAob3B0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBsZXQgYXR0cnMgPSB7XG4gICAgICAgICAgdHlwZTogb3B0aW9uSW5wdXRUeXBlW3Byb3BdIHx8ICd0ZXh0JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdvcHRpb24tJyArIHByb3AsXG4gICAgICAgICAgdmFsdWU6IG9wdGlvbkRhdGFbcHJvcF0sXG4gICAgICAgICAgbmFtZTogbmFtZS5pbmNsdWRlcygnLW9wdGlvbicpID8gbmFtZSA6IG5hbWUgKyAnLW9wdGlvbidcbiAgICAgICAgfTtcblxuICAgICAgICBhdHRycy5wbGFjZWhvbGRlciA9IGkxOG5bYHBsYWNlaG9sZGVyLiR7cHJvcH1gXSB8fCAnJztcblxuICAgICAgICBpZiAocHJvcCA9PT0gJ3NlbGVjdGVkJyAmJiBvcHRpb25EYXRhLnNlbGVjdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgYXR0cnMuY2hlY2tlZCA9IG9wdGlvbkRhdGEuc2VsZWN0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25JbnB1dHMucHVzaChtKCdpbnB1dCcsIG51bGwsIGF0dHJzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJlbW92ZUF0dHJzID0ge1xuICAgICAgY2xhc3NOYW1lOiAncmVtb3ZlIGJ0bicsXG4gICAgICB0aXRsZTogaTE4bi5yZW1vdmVNZXNzYWdlXG4gICAgfTtcbiAgICBvcHRpb25JbnB1dHMucHVzaCh1dGlscy5tYXJrdXAoJ2EnLCBpMThuLnJlbW92ZSwgcmVtb3ZlQXR0cnMpKTtcblxuICAgIGxldCBmaWVsZCA9IHV0aWxzLm1hcmt1cCgnbGknLCBvcHRpb25JbnB1dHMpO1xuXG4gICAgcmV0dXJuIGZpZWxkLm91dGVySFRNTDtcbiAgfTtcblxuICBsZXQgY2xvbmVJdGVtID0gZnVuY3Rpb24gY2xvbmVJdGVtKGN1cnJlbnRJdGVtKSB7XG4gICAgbGV0IGN1cnJlbnRJZCA9IGN1cnJlbnRJdGVtLmF0dHIoJ2lkJyk7XG4gICAgbGV0IHR5cGUgPSBjdXJyZW50SXRlbS5hdHRyKCd0eXBlJyk7XG4gICAgbGV0IHRzID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgbGV0IGNsb25lTmFtZSA9IHR5cGUgKyAnLScgKyB0cztcbiAgICBsZXQgJGNsb25lID0gY3VycmVudEl0ZW0uY2xvbmUoKTtcblxuICAgICQoJy5mbGQtbmFtZScsICRjbG9uZSkudmFsKGNsb25lTmFtZSk7XG4gICAgJGNsb25lLmZpbmQoJ1tpZF0nKS5lYWNoKChpLCBlbGVtKSA9PiB7XG4gICAgICBlbGVtLmlkID0gZWxlbS5pZC5yZXBsYWNlKGN1cnJlbnRJZCwgZGF0YS5sYXN0SUQpO1xuICAgIH0pO1xuICAgICRjbG9uZS5maW5kKCdbZm9yXScpLmVhY2goKGluZGV4LCBlbGVtKSA9PiB7XG4gICAgICBsZXQgY3VySWQgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZm9yJyk7XG4gICAgICBsZXQgbmV3Rm9ySWQgPSBjdXJJZC5yZXBsYWNlKGN1cnJlbnRJZCwgZGF0YS5sYXN0SUQpO1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ2ZvcicsIG5ld0ZvcklkKTtcbiAgICB9KTtcblxuICAgICRjbG9uZS5hdHRyKCdpZCcsIGRhdGEubGFzdElEKTtcbiAgICAkY2xvbmUuYXR0cignbmFtZScsIGNsb25lTmFtZSk7XG4gICAgJGNsb25lLmFkZENsYXNzKCdjbG9uZWQnKTtcbiAgICAkKCcuc29ydGFibGUtb3B0aW9ucycsICRjbG9uZSkuc29ydGFibGUoKTtcblxuICAgIGlmIChvcHRzLnR5cGVVc2VyRXZlbnRzW3R5cGVdICYmIG9wdHMudHlwZVVzZXJFdmVudHNbdHlwZV0ub25jbG9uZSkge1xuICAgICAgb3B0cy50eXBlVXNlckV2ZW50c1t0eXBlXS5vbmNsb25lKCRjbG9uZVswXSk7XG4gICAgfVxuXG4gICAgZGF0YS5sYXN0SUQgPSBoLmluY3JlbWVudElkKGRhdGEubGFzdElEKTtcbiAgICByZXR1cm4gJGNsb25lO1xuICB9O1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVVRJTElUSUVTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuICAvLyBkZWxldGUgb3B0aW9uc1xuICAkc3RhZ2Uub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCAnLnJlbW92ZScsIGUgPT4ge1xuICAgIGxldCAkZmllbGQgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKCcuZm9ybS1maWVsZDplcSgwKScpO1xuICAgIGxldCBmaWVsZCA9ICRmaWVsZFswXTtcbiAgICBsZXQgdHlwZSA9IGZpZWxkLmdldEF0dHJpYnV0ZSgndHlwZScpO1xuICAgIGxldCAkb3B0aW9uID0gJChlLnRhcmdldC5wYXJlbnRFbGVtZW50KTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IG9wdGlvbnMgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuc29ydGFibGUtb3B0aW9ucycpO1xuICAgIGxldCBvcHRpb25zQ291bnQgPSBvcHRpb25zLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgIGlmIChvcHRpb25zQ291bnQgPD0gMiAmJiAhdHlwZS5pbmNsdWRlcygnY2hlY2tib3gnKSkge1xuICAgICAgb3B0cy5ub3RpZnkuZXJyb3IoJ0Vycm9yOiAnICsgaTE4bi5taW5PcHRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJG9wdGlvbi5zbGlkZVVwKCcyNTAnLCAoKSA9PiB7XG4gICAgICAgICRvcHRpb24ucmVtb3ZlKCk7XG4gICAgICAgIGgudXBkYXRlUHJldmlldygkZmllbGQpO1xuICAgICAgICBoLnNhdmUuY2FsbChoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdG91Y2ggZm9jdXNcbiAgJHN0YWdlLm9uKCd0b3VjaHN0YXJ0JywgJ2lucHV0JywgZSA9PiB7XG4gICAgbGV0ICRpbnB1dCA9ICQodGhpcyk7XG4gICAgaWYgKGUuaGFuZGxlZCAhPT0gdHJ1ZSkge1xuICAgICAgaWYgKCRpbnB1dC5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgJGlucHV0LnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgbGV0IGZpZWxkVmFsID0gJGlucHV0LnZhbCgpO1xuICAgICAgICAkaW5wdXQudmFsKGZpZWxkVmFsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdG9nZ2xlIGZpZWxkc1xuICAkc3RhZ2Uub24oJ2NsaWNrIHRvdWNoc3RhcnQnLCAnLnRvZ2dsZS1mb3JtLCAuY2xvc2UtZmllbGQnLCBmdW5jdGlvbihlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGUuaGFuZGxlZCAhPT0gdHJ1ZSkge1xuICAgICAgbGV0IHRhcmdldElEID0gJChlLnRhcmdldCkucGFyZW50cygnLmZvcm0tZmllbGQ6ZXEoMCknKS5hdHRyKCdpZCcpO1xuICAgICAgaC50b2dnbGVFZGl0KHRhcmdldElEKTtcbiAgICAgIGUuaGFuZGxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICAkc3RhZ2Uub24oJ2RibGNsaWNrJywgJ2xpLmZvcm0tZmllbGQsIC5maWVsZC1sYWJlbCcsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyB8fCBlLnRhcmdldC5jb250ZW50RWRpdGFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGUuaGFuZGxlZCAhPT0gdHJ1ZSkge1xuICAgICAgbGV0IHRhcmdldElEID0gZS50YXJnZXQudGFnTmFtZSA9PSAnbGknID8gJChlLnRhcmdldCkuYXR0cignaWQnKSA6ICQoXG4gICAgICAgIGUudGFyZ2V0KS5jbG9zZXN0KCdsaS5mb3JtLWZpZWxkJykuYXR0cignaWQnKTtcbiAgICAgIGgudG9nZ2xlRWRpdCh0YXJnZXRJRCk7XG4gICAgICBlLmhhbmRsZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgJHN0YWdlLm9uKCdjaGFuZ2UnLCAnW25hbWU9XCJzdWJ0eXBlXCJdJywgKGUpID0+IHtcbiAgICBjb25zdCAkZmllbGQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaS5mb3JtLWZpZWxkJyk7XG4gICAgY29uc3QgJHZhbFdyYXAgPSAkKCcudmFsdWUtd3JhcCcsICRmaWVsZCk7XG4gICAgJHZhbFdyYXAudG9nZ2xlKGUudGFyZ2V0LnZhbHVlICE9PSAncXVpbGwnKTtcbiAgfSk7XG5cbiAgbGV0IHN0YWdlT25DaGFuZ2VTZWxlY3RvcnMgPSBbXG4gICAgJy5wcmV2LWhvbGRlciBpbnB1dCcsXG4gICAgJy5wcmV2LWhvbGRlciBzZWxlY3QnLFxuICAgICcucHJldi1ob2xkZXIgdGV4dGFyZWEnXG4gIF07XG4gICRzdGFnZS5vbignY2hhbmdlJywgc3RhZ2VPbkNoYW5nZVNlbGVjdG9ycy5qb2luKCcsICcpLCBlID0+IHtcbiAgICBsZXQgcHJldk9wdGlvbnM7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3RoZXItb3B0aW9uJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZpZWxkID0gdXRpbHMuY2xvc2VzdChlLnRhcmdldCwgJy5mb3JtLWZpZWxkJyk7XG4gICAgbGV0IG9wdGlvblR5cGVzID0gWydzZWxlY3QnLCAnY2hlY2tib3gtZ3JvdXAnLCAncmFkaW8tZ3JvdXAnXTtcbiAgICBpZiAodXRpbHMuaW5BcnJheShmaWVsZC50eXBlLCBvcHRpb25UeXBlcykpIHtcbiAgICAgIGxldCBvcHRpb25zID0gZmllbGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnb3B0aW9uLXZhbHVlJyk7XG4gICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgdXRpbHMuZm9yRWFjaChvcHRpb25zLCBpID0+IHtcbiAgICAgICAgICBsZXQgc2VsZWN0ZWRPcHRpb24gPSBvcHRpb25zW2ldLnBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICBzZWxlY3RlZE9wdGlvbi5jaGVja2VkID0gZS50YXJnZXQudmFsdWUgPT09IG9wdGlvbnNbaV0udmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldk9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShlLnRhcmdldC5uYW1lKTtcbiAgICAgICAgdXRpbHMuZm9yRWFjaChwcmV2T3B0aW9ucywgaSA9PiB7XG4gICAgICAgICAgbGV0IHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc1tpXS5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgc2VsZWN0ZWRPcHRpb24uY2hlY2tlZCA9IHByZXZPcHRpb25zW2ldLmNoZWNrZWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZmllbGRWYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFsdWUtJyArIGZpZWxkLmlkKTtcbiAgICAgIGlmIChmaWVsZFZhbCkge1xuICAgICAgICBmaWVsZFZhbC52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGguc2F2ZS5jYWxsKGgpO1xuICB9KTtcblxuICAvLyB1cGRhdGUgcHJldmlldyB0byBsYWJlbFxuICB1dGlscy5hZGRFdmVudExpc3RlbmVycyhkLnN0YWdlLCAna2V5dXAgY2hhbmdlJywgZSA9PiB7XG4gICAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZsZC1sYWJlbCcpKSByZXR1cm47XG4gICAgbGV0IHZhbHVlID0gZS50YXJnZXQudmFsdWUgfHwgZS50YXJnZXQuaW5uZXJIVE1MO1xuICAgIGxldCBsYWJlbCA9IHV0aWxzLmNsb3Nlc3QoZS50YXJnZXQsICcuZm9ybS1maWVsZCcpXG4gICAgICAucXVlcnlTZWxlY3RvcignLmZpZWxkLWxhYmVsJyk7XG4gICAgbGFiZWwuaW5uZXJIVE1MID0gdXRpbHMucGFyc2VkSHRtbCh2YWx1ZSk7XG4gIH0pO1xuXG4gIC8vIHJlbW92ZSBlcnJvciBzdHlsaW5nIHdoZW4gdXNlcnMgdHJpZXMgdG8gY29ycmVjdCBtaXN0YWtlXG4gICRzdGFnZS5vbigna2V5dXAnLCAnaW5wdXQuZXJyb3InLCBmdW5jdGlvbihlKSB7XG4gICAgJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG4gIH0pO1xuXG4gIC8vIHVwZGF0ZSBwcmV2aWV3IGZvciBkZXNjcmlwdGlvblxuICAkc3RhZ2Uub24oJ2tleXVwJywgJ2lucHV0W25hbWU9XCJkZXNjcmlwdGlvblwiXScsIGZ1bmN0aW9uKGUpIHtcbiAgICBsZXQgJGZpZWxkID0gJChlLnRhcmdldCkucGFyZW50cygnLmZvcm0tZmllbGQ6ZXEoMCknKTtcbiAgICBsZXQgY2xvc2VzdFRvb2xUaXAgPSAkKCcudG9vbHRpcC1lbGVtZW50JywgJGZpZWxkKTtcbiAgICBsZXQgdHRWYWwgPSAkKGUudGFyZ2V0KS52YWwoKTtcbiAgICBpZiAodHRWYWwgIT09ICcnKSB7XG4gICAgICBpZiAoIWNsb3Nlc3RUb29sVGlwLmxlbmd0aCkge1xuICAgICAgICBsZXQgdHQgPVxuICAgICAgICAgIGA8c3BhbiBjbGFzcz1cInRvb2x0aXAtZWxlbWVudFwiIHRvb2x0aXA9XCIke3R0VmFsfVwiPj88L3NwYW4+YDtcbiAgICAgICAgJCgnLmZpZWxkLWxhYmVsJywgJGZpZWxkKS5hZnRlcih0dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZXN0VG9vbFRpcC5hdHRyKCd0b29sdGlwJywgdHRWYWwpLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNsb3Nlc3RUb29sVGlwLmxlbmd0aCkge1xuICAgICAgICBjbG9zZXN0VG9vbFRpcC5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBtdWx0aXBsZSBzZWxlY3Qgb3B0aW9uc1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGUgY2xpY2sgZXZlbnRcbiAgICogQHJldHVybiB7U3RyaW5nfSBuZXdUeXBlXG4gICAqL1xuICAkc3RhZ2Uub24oJ2NoYW5nZScsICcuZmxkLW11bHRpcGxlJywgZSA9PiB7XG4gICAgbGV0IG5ld1R5cGUgPSBlLnRhcmdldC5jaGVja2VkID8gJ2NoZWNrYm94JyA6ICdyYWRpbyc7XG4gICAgbGV0ICRvcHRpb25zID0gJCgnLm9wdGlvbi1zZWxlY3RlZCcsICQoZS50YXJnZXQpLmNsb3Nlc3QoXG4gICAgICAnLmZvcm0tZWxlbWVudHMnKSk7XG4gICAgJG9wdGlvbnMuZWFjaChpID0+ICRvcHRpb25zW2ldLnR5cGUgPSBuZXdUeXBlKTtcbiAgICByZXR1cm4gbmV3VHlwZTtcbiAgfSk7XG5cbiAgLy8gZm9ybWF0IG5hbWUgYXR0cmlidXRlXG4gICRzdGFnZS5vbignYmx1cicsICdpbnB1dC5mbGQtbmFtZScsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnRhcmdldC52YWx1ZSA9IHV0aWxzLnNhZmVuYW1lKGUudGFyZ2V0LnZhbHVlKTtcbiAgICBpZiAoZS50YXJnZXQudmFsdWUgPT09ICcnKSB7XG4gICAgICAkKGUudGFyZ2V0KVxuICAgICAgICAuYWRkQ2xhc3MoJ2ZpZWxkLWVycm9yJylcbiAgICAgICAgLmF0dHIoJ3BsYWNlaG9sZGVyJywgaTE4bi5jYW5ub3RCZUVtcHR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChlLnRhcmdldCkucmVtb3ZlQ2xhc3MoJ2ZpZWxkLWVycm9yJyk7XG4gICAgfVxuICB9KTtcblxuICAkc3RhZ2Uub24oJ2JsdXInLCAnaW5wdXQuZmxkLW1heGxlbmd0aCcsIGUgPT4ge1xuICAgIGUudGFyZ2V0LnZhbHVlID0gdXRpbHMuZm9yY2VOdW1iZXIoZS50YXJnZXQudmFsdWUpO1xuICB9KTtcblxuICAvLyBDb3B5IGZpZWxkXG4gICRzdGFnZS5vbignY2xpY2sgdG91Y2hzdGFydCcsICcuaWNvbi1jb3B5JywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgY3VycmVudEl0ZW0gPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5wYXJlbnQoJ2xpJyk7XG4gICAgbGV0ICRjbG9uZSA9IGNsb25lSXRlbShjdXJyZW50SXRlbSk7XG4gICAgJGNsb25lLmluc2VydEFmdGVyKGN1cnJlbnRJdGVtKTtcbiAgICBoLnVwZGF0ZVByZXZpZXcoJGNsb25lKTtcbiAgICBoLnNhdmUuY2FsbChoKTtcbiAgfSk7XG5cbiAgLy8gRGVsZXRlIGZpZWxkXG4gICRzdGFnZS5vbignY2xpY2sgdG91Y2hzdGFydCcsICcuZGVsZXRlLWNvbmZpcm0nLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBidXR0b25Qb3NpdGlvbiA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICBwYWdlWDogYnV0dG9uUG9zaXRpb24ubGVmdCArIChidXR0b25Qb3NpdGlvbi53aWR0aCAvIDIpLFxuICAgICAgcGFnZVk6IChidXR0b25Qb3NpdGlvbi50b3AgLSBib2R5UmVjdC50b3ApIC0gMTJcbiAgICB9O1xuXG4gICAgbGV0IGRlbGV0ZUlEID0gJChlLnRhcmdldCkucGFyZW50cygnLmZvcm0tZmllbGQ6ZXEoMCknKS5hdHRyKCdpZCcpO1xuICAgIGNvbnN0ICRmaWVsZCA9ICQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVsZXRlSUQpKTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vZGFsQ2xvc2VkJywgZnVuY3Rpb24oKSB7XG4gICAgICAkZmllbGQucmVtb3ZlQ2xhc3MoJ2RlbGV0aW5nJyk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBzdXJlIHRoZXkgd2FudCB0byByZW1vdmUgdGhlIGZpZWxkXG4gICAgaWYgKG9wdHMuZmllbGRSZW1vdmVXYXJuKSB7XG4gICAgICBsZXQgd2FybkgzID0gdXRpbHMubWFya3VwKCdoMycsIGkxOG4ud2FybmluZyk7XG4gICAgICBsZXQgd2Fybk1lc3NhZ2UgPSB1dGlscy5tYXJrdXAoJ3AnLCBpMThuLmZpZWxkUmVtb3ZlV2FybmluZyk7XG4gICAgICBoLmNvbmZpcm0oW3dhcm5IMywgd2Fybk1lc3NhZ2VdLCAoKSA9PlxuICAgICAgICBoLnJlbW92ZUZpZWxkKGRlbGV0ZUlEKSwgY29vcmRzKTtcbiAgICAgICRmaWVsZC5hZGRDbGFzcygnZGVsZXRpbmcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaC5yZW1vdmVGaWVsZChkZWxldGVJRCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBVcGRhdGUgYnV0dG9uIHN0eWxlIHNlbGVjdGlvblxuICAkc3RhZ2Uub24oJ2NsaWNrJywgJy5zdHlsZS13cmFwIGJ1dHRvbicsIGUgPT4ge1xuICAgIGNvbnN0ICRidXR0b24gPSAkKGUudGFyZ2V0KTtcbiAgICBsZXQgc3R5bGVWYWwgPSAkYnV0dG9uLnZhbCgpO1xuICAgIGxldCAkYnRuU3R5bGUgPSAkYnV0dG9uLnBhcmVudCgpLnByZXYoJy5idG4tc3R5bGUnKTtcbiAgICAkYnRuU3R5bGUudmFsKHN0eWxlVmFsKTtcbiAgICAkYnV0dG9uLnNpYmxpbmdzKCcuYnRuJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgJGJ1dHRvbi5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICBoLnVwZGF0ZVByZXZpZXcoJGJ0blN0eWxlLmNsb3Nlc3QoJy5mb3JtLWZpZWxkJykpO1xuICAgIGguc2F2ZS5jYWxsKGgpO1xuICB9KTtcblxuICAvLyBBdHRhY2ggYSBjYWxsYmFjayB0byB0b2dnbGUgcmVxdWlyZWQgYXN0ZXJpc2tcbiAgJHN0YWdlLm9uKCdjbGljaycsICcuZmxkLXJlcXVpcmVkJywgZSA9PiB7XG4gICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLmZvcm0tZmllbGQnKS5maW5kKCcucmVxdWlyZWQtYXN0ZXJpc2snKS50b2dnbGUoKTtcbiAgfSk7XG5cbiAgLy8gQXR0YWNoIGEgY2FsbGJhY2sgdG8gdG9nZ2xlIHJvbGVzIHZpc2liaWxpdHlcbiAgJHN0YWdlLm9uKCdjbGljaycsICdpbnB1dC5mbGQtYWNjZXNzJywgZnVuY3Rpb24oZSkge1xuICAgIGxldCByb2xlcyA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5mb3JtLWZpZWxkJykuZmluZCgnLmF2YWlsYWJsZS1yb2xlcycpO1xuICAgIGxldCBlbmFibGVSb2xlc0NCID0gJChlLnRhcmdldCk7XG4gICAgcm9sZXMuc2xpZGVUb2dnbGUoMjUwLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghZW5hYmxlUm9sZXNDQi5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAkKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLCByb2xlcykucmVtb3ZlQXR0cignY2hlY2tlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBBdHRhY2ggYSBjYWxsYmFjayB0byBhZGQgbmV3IG9wdGlvbnNcbiAgJHN0YWdlLm9uKCdjbGljaycsICcuYWRkLW9wdCcsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0ICRvcHRpb25XcmFwID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmZpZWxkLW9wdGlvbnMnKTtcbiAgICBsZXQgJG11bHRpcGxlID0gJCgnW25hbWU9XCJtdWx0aXBsZVwiXScsICRvcHRpb25XcmFwKTtcbiAgICBsZXQgJGZpcnN0T3B0aW9uID0gJCgnLm9wdGlvbi1zZWxlY3RlZDplcSgwKScsICRvcHRpb25XcmFwKTtcbiAgICBsZXQgaXNNdWx0aXBsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCRtdWx0aXBsZS5sZW5ndGgpIHtcbiAgICAgIGlzTXVsdGlwbGUgPSAkbXVsdGlwbGUucHJvcCgnY2hlY2tlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpc011bHRpcGxlID0gKCRmaXJzdE9wdGlvbi5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcpO1xuICAgIH1cblxuICAgIGxldCBuYW1lID0gJGZpcnN0T3B0aW9uLmF0dHIoJ25hbWUnKTtcblxuICAgICQoJy5zb3J0YWJsZS1vcHRpb25zJywgJG9wdGlvbldyYXApXG4gICAgICAuYXBwZW5kKHNlbGVjdEZpZWxkT3B0aW9ucyhuYW1lLCBmYWxzZSwgaXNNdWx0aXBsZSkpO1xuICB9KTtcblxuICAkc3RhZ2Uub24oJ21vdXNlb3ZlciBtb3VzZW91dCcsICcucmVtb3ZlLCAuZGVsLWJ1dHRvbicsIGUgPT5cbiAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpLnRvZ2dsZUNsYXNzKCdkZWxldGUnKSk7XG5cbiAgbG9hZEZpZWxkcygpO1xuXG4gICRzdGFnZS5jc3MoJ21pbi1oZWlnaHQnLCAkY2JVTC5oZWlnaHQoKSk7XG5cbiAgLy8gSWYgb3B0aW9uIHNldCwgY29udHJvbHMgd2lsbCByZW1haW4gaW4gdmlldyBpbiBlZGl0b3JcbiAgaWYgKG9wdHMuc3RpY2t5Q29udHJvbHMuZW5hYmxlKSB7XG4gICAgaC5zdGlja3lDb250cm9scygkc3RhZ2UpO1xuICB9XG5cbiAgaWYgKG9wdHMuZGlzYWJsZUluamVjdGVkU3R5bGUpIHtcbiAgICBjb25zdCBzdHlsZVRhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxuICAgICAgJ2Zvcm1CdWlsZGVyLWluamVjdGVkLXN0eWxlJyk7XG4gICAgdXRpbHMuZm9yRWFjaChzdHlsZVRhZ3MsIGkgPT4gcmVtb3ZlKHN0eWxlVGFnc1tpXSkpO1xuICB9XG5cbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMubG9hZGVkKTtcblxuICAvLyBNYWtlIGFjdGlvbnMgYWNjZXNzaWJsZVxuICBmb3JtQnVpbGRlci5hY3Rpb25zID0ge1xuICAgIGNsZWFyRmllbGRzOiBhbmltYXRlID0+IGgucmVtb3ZlQWxsRmllbGRzKGQuc3RhZ2UsIGFuaW1hdGUpLFxuICAgIHNob3dEYXRhOiBoLnNob3dEYXRhLmJpbmQoaCksXG4gICAgc2F2ZTogaC5zYXZlLmJpbmQoaCksXG4gICAgYWRkRmllbGQ6IChmaWVsZCwgaW5kZXgpID0+IHtcbiAgICAgIGguc3RvcEluZGV4ID0gZGF0YS5mb3JtRGF0YS5sZW5ndGggPyBpbmRleCA6IHVuZGVmaW5lZDtcbiAgICAgIHByZXBGaWVsZFZhcnMoZmllbGQpO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZmllbGRBZGRlZCk7XG4gICAgfSxcbiAgICByZW1vdmVGaWVsZDogaC5yZW1vdmVGaWVsZC5iaW5kKGgpLFxuICAgIGdldERhdGE6IGguZ2V0Rm9ybURhdGEuYmluZChoKSxcbiAgICBzZXREYXRhOiBmb3JtRGF0YSA9PiB7XG4gICAgICBoLnN0b3BJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgIGgucmVtb3ZlQWxsRmllbGRzKGQuc3RhZ2UsIGZhbHNlKTtcbiAgICAgIGxvYWRGaWVsZHMoZm9ybURhdGEpO1xuICAgICAgaC5zYXZlLmNhbGwoaCk7XG4gICAgfSxcbiAgICBzZXRMYW5nOiBhc3luYyBsb2NhbGUgPT4ge1xuICAgICAgYXdhaXQgbWkxOG4uc2V0Q3VycmVudC5jYWxsKG1pMThuLCBsb2NhbGUpO1xuICAgICAgZC5lbXB0eShlbGVtZW50KTtcbiAgICAgIGxldCBmb3JtQnVpbGRlciA9IG5ldyBGb3JtQnVpbGRlcihvcmlnaW5hbE9wdHMsIGVsZW1lbnQpO1xuICAgICAgJChlbGVtZW50KS5kYXRhKCdmb3JtQnVpbGRlcicsIGZvcm1CdWlsZGVyKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGZvcm1CdWlsZGVyO1xufTtcblxuXG4oZnVuY3Rpb24oJCkge1xuICAkLmZuLmZvcm1CdWlsZGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBsZXQgZWxlbXMgPSB0aGlzO1xuICAgIGxldCB7XG4gICAgICBpMThuLCAuLi5vcHRzXG4gICAgfSA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgdHJ1ZSk7XG4gICAgY29uZmlnLm9wdHMgPSBvcHRzO1xuICAgIGxldCBpMThuT3B0cyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0STE4biwgaTE4biwgdHJ1ZSk7XG4gICAgbGV0IGluc3RhbmNlID0ge1xuICAgICAgYWN0aW9uczoge1xuICAgICAgICBnZXREYXRhOiBudWxsLFxuICAgICAgICBzZXREYXRhOiBudWxsLFxuICAgICAgICBzYXZlOiBudWxsLFxuICAgICAgICBzaG93RGF0YTogbnVsbCxcbiAgICAgICAgc2V0TGFuZzogbnVsbCxcbiAgICAgICAgYWRkRmllbGQ6IG51bGwsXG4gICAgICAgIHJlbW92ZUZpZWxkOiBudWxsLFxuICAgICAgICBjbGVhckZpZWxkczogbnVsbFxuICAgICAgfSxcbiAgICAgIGdldCBmb3JtRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmFjdGlvbnMuZ2V0RGF0YSgnanNvbicpO1xuICAgICAgfSxcbiAgICAgIHByb21pc2U6IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBtaTE4bi5pbml0KGkxOG5PcHRzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBlbGVtcy5lYWNoKGkgPT4ge1xuICAgICAgICAgICAgbGV0IGZvcm1CdWlsZGVyID0gbmV3IEZvcm1CdWlsZGVyKG9wdHMsIGVsZW1zW2ldKTtcbiAgICAgICAgICAgICQoZWxlbXNbaV0pLmRhdGEoJ2Zvcm1CdWlsZGVyJywgZm9ybUJ1aWxkZXIpO1xuICAgICAgICAgICAgaW5zdGFuY2UuYWN0aW9ucyA9IGZvcm1CdWlsZGVyLmFjdGlvbnM7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGVsZXRlIGluc3RhbmNlLnByb21pc2U7XG4gICAgICAgICAgcmVzb2x2ZShpbnN0YW5jZSk7XG4gICAgICAgIH0pLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgfSlcbiAgICB9O1xuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xufSkoalF1ZXJ5KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvZm9ybS1idWlsZGVyLmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFHQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFEQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQWpCQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6QkE7QUFDQTtBQTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBREE7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFEQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFTQTtBQVlBO0FBSUE7QUFDQTtBQUlBO0FBTUE7QUFLQTtBQU1BO0FBS0E7QUFJQTtBQUNBO0FBN0RBO0FBQ0E7QUFtRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUE1REE7QUE4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUVBO0FBREE7QUFDQTtBQUlBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBakJBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/19:/* no static exports found *//* all exports used *//*!*********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/utils.js ***!
  \*********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar utils = {};\nwindow.fbLoaded = {\n  js: [],\n  css: []\n};\nwindow.fbEditors = {\n  quill: {},\n  tinymce: {}\n};\n\nutils.inArray = function (needle, haystack) {\n  return haystack.indexOf(needle) !== -1;\n};\n\nutils.trimObj = function (attrs) {\n  var xmlRemove = [null, undefined, \'\', false, \'false\'];\n  for (var attr in attrs) {\n    if (utils.inArray(attrs[attr], xmlRemove)) {\n      delete attrs[attr];\n    } else if (Array.isArray(attrs[attr])) {\n      if (!attrs[attr].length) {\n        delete attrs[attr];\n      }\n    }\n  }\n\n  return attrs;\n};\n\nutils.validAttr = function (attr) {\n  var invalid = [\'values\', \'enableOther\', \'other\', \'label\', \'subtype\'];\n  return !utils.inArray(attr, invalid);\n};\n\nutils.attrString = function (attrs) {\n  var attributes = [];\n\n  for (var attr in attrs) {\n    if (attrs.hasOwnProperty(attr) && utils.validAttr(attr)) {\n      attr = utils.safeAttr(attr, attrs[attr]);\n      attributes.push(attr.name + attr.value);\n    }\n  }\n  return attributes.join(\' \');\n};\n\nutils.safeAttr = function (name, value) {\n  name = utils.safeAttrName(name);\n  var valString = void 0;\n\n  if (value) {\n    if (Array.isArray(value)) {\n      valString = utils.escapeAttr(value.join(\' \'));\n    } else {\n      if (typeof value === \'boolean\') {\n        value = value.toString();\n      }\n      valString = utils.escapeAttr(value.replace(\',\', \' \').trim());\n    }\n  }\n\n  value = value ? \'="\' + valString + \'"\' : \'\';\n  return {\n    name: name,\n    value: value\n  };\n};\n\nutils.safeAttrName = function (name) {\n  var safeAttr = {\n    className: \'class\'\n  };\n\n  return safeAttr[name] || utils.hyphenCase(name);\n};\n\nutils.hyphenCase = function (str) {\n  str = str.replace(/[^\\w\\s\\-]/gi, \'\');\n  str = str.replace(/([A-Z])/g, function ($1) {\n    return \'-\' + $1.toLowerCase();\n  });\n\n  return str.replace(/\\s/g, \'-\').replace(/^-+/g, \'\');\n};\n\nutils.camelCase = function (str) {\n  return str.replace(/-([a-z])/g, function (m, w) {\n    return w.toUpperCase();\n  });\n};\n\nutils.contentType = function (content) {\n  var type = typeof content === \'undefined\' ? \'undefined\' : _typeof(content);\n  if (content instanceof Node || content instanceof HTMLElement) {\n    type = \'node\';\n  } else if (Array.isArray(content)) {\n    type = \'array\';\n  }\n\n  return type;\n};\n\nutils.bindEvents = function (element, events) {\n  if (events) {\n    var _loop = function _loop(event) {\n      if (events.hasOwnProperty(event)) {\n        element.addEventListener(event, function (evt) {\n          return events[event](evt);\n        });\n      }\n    };\n\n    for (var event in events) {\n      _loop(event);\n    }\n  }\n};\n\nutils.nameAttr = function (field) {\n  var epoch = new Date().getTime();\n  var prefix = field.type || utils.hyphenCase(field.label);\n  return prefix + \'-\' + epoch;\n};\n\nutils.markup = function (tag) {\n  var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'\';\n  var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var contentType = utils.contentType(content);\n\n  var events = attributes.events,\n      attrs = _objectWithoutProperties(attributes, [\'events\']);\n\n  var field = document.createElement(tag);\n\n  var appendContent = {\n    string: function string(content) {\n      field.innerHTML += content;\n    },\n    object: function object(config) {\n      var tag = config.tag,\n          content = config.content,\n          data = _objectWithoutProperties(config, [\'tag\', \'content\']);\n\n      return field.appendChild(utils.markup(tag, content, data));\n    },\n    node: function node(content) {\n      return field.appendChild(content);\n    },\n    array: function array(content) {\n      for (var i = 0; i < content.length; i++) {\n        contentType = utils.contentType(content[i]);\n        appendContent[contentType](content[i]);\n      }\n    },\n    function: function _function(content) {\n      content = content();\n      contentType = utils.contentType(content);\n      appendContent[contentType](content);\n    },\n    undefined: function undefined() {}\n  };\n\n  for (var attr in attrs) {\n    if (attrs.hasOwnProperty(attr)) {\n      var name = utils.safeAttrName(attr);\n      field.setAttribute(name, attrs[attr]);\n    }\n  }\n\n  if (content) {\n    appendContent[contentType].call(this, content);\n  }\n\n  utils.bindEvents(field, events);\n\n  return field;\n};\n\nutils.parseAttrs = function (elem) {\n  var attrs = elem.attributes;\n  var data = {};\n  utils.forEach(attrs, function (attr) {\n    var attrVal = attrs[attr].value || \'\';\n    if (attrVal.match(/false|true/g)) {\n      attrVal = attrVal === \'true\';\n    } else if (attrVal.match(/undefined/g)) {\n      attrVal = undefined;\n    }\n\n    if (attrVal) {\n      data[attrs[attr].name] = attrVal;\n    }\n  });\n\n  return data;\n};\n\nutils.parseOptions = function (options) {\n  var optionData = {};\n  var data = [];\n\n  for (var i = 0; i < options.length; i++) {\n    optionData = utils.parseAttrs(options[i]);\n    optionData.label = options[i].textContent;\n    data.push(optionData);\n  }\n\n  return data;\n};\n\nutils.parseXML = function (xmlString) {\n  var parser = new window.DOMParser();\n  var xml = parser.parseFromString(xmlString, \'text/xml\');\n  var formData = [];\n\n  if (xml) {\n    var fields = xml.getElementsByTagName(\'field\');\n    for (var i = 0; i < fields.length; i++) {\n      var fieldData = utils.parseAttrs(fields[i]);\n      var options = fields[i].getElementsByTagName(\'option\');\n\n      if (options && options.length) {\n        fieldData.values = utils.parseOptions(options);\n      }\n\n      formData.push(fieldData);\n    }\n  }\n\n  return formData;\n};\n\nutils.parsedHtml = function (html) {\n  var escapeElement = document.createElement(\'textarea\');\n  escapeElement.innerHTML = html;\n  return escapeElement.textContent;\n};\n\nutils.escapeHtml = function (html) {\n  var escapeElement = document.createElement(\'textarea\');\n  escapeElement.textContent = html;\n  return escapeElement.innerHTML;\n};\n\nutils.escapeAttr = function (str) {\n  var match = {\n    \'"\': \'&quot;\',\n    \'&\': \'&amp;\',\n    \'<\': \'&lt;\',\n    \'>\': \'&gt;\'\n  };\n\n  var replaceTag = function replaceTag(tag) {\n    return match[tag] || tag;\n  };\n\n  return typeof str === \'string\' ? str.replace(/["&<>]/g, replaceTag) : str;\n};\n\nutils.escapeAttrs = function (attrs) {\n  for (var attr in attrs) {\n    if (attrs.hasOwnProperty(attr)) {\n      attrs[attr] = utils.escapeAttr(attrs[attr]);\n    }\n  }\n\n  return attrs;\n};\n\nutils.forEach = function (array, callback, scope) {\n  for (var i = 0; i < array.length; i++) {\n    callback.call(scope, i, array[i]);\n  }\n};\n\nutils.unique = function (array) {\n  return array.filter(function (elem, pos, arr) {\n    return arr.indexOf(elem) === pos;\n  });\n};\n\nutils.remove = function (val, arr) {\n  var index = arr.indexOf(val);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\n\nutils.getScripts = function (scriptScr, path) {\n  var $ = jQuery;\n  var _arr = [];\n\n  if (!Array.isArray(scriptScr)) {\n    scriptScr = [scriptScr];\n  }\n\n  if (!utils.isCached(scriptScr)) {\n    _arr = $.map(scriptScr, function (src) {\n      var options = {\n        dataType: \'script\',\n        cache: true,\n        url: (path || \'\') + src\n      };\n      return $.ajax(options).done(function () {\n        return window.fbLoaded.js.push(src);\n      });\n    });\n  }\n\n  _arr.push($.Deferred(function (deferred) {\n    return $(deferred.resolve);\n  }));\n\n  return $.when.apply($, _arr);\n};\n\nutils.isCached = function (src) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'js\';\n\n  var isCached = false;\n  var cache = window.fbLoaded[type];\n  if (Array.isArray(src)) {\n    isCached = src.every(function (s) {\n      return utils.inArray(s, cache);\n    });\n  } else {\n    isCached = utils.inArray(src, cache);\n  }\n  return isCached;\n};\n\nutils.getStyles = function (scriptScr, path) {\n  if (!Array.isArray(scriptScr)) {\n    scriptScr = [scriptScr];\n  }\n  scriptScr.forEach(function (src) {\n    var type = \'href\';\n    var key = src;\n    var id = \'\';\n\n    if ((typeof src === \'undefined\' ? \'undefined\' : _typeof(src)) == \'object\') {\n      type = src.type || (src.style ? \'inline\' : \'href\');\n      id = src.id;\n      src = type == \'inline\' ? src.style : src.href;\n      key = id || src.href || src.style;\n    }\n\n    if (utils.isCached(key, \'css\')) {\n      return;\n    }\n\n    if (type == \'href\') {\n      var link = document.createElement(\'link\');\n      link.type = \'text/css\';\n      link.rel = \'stylesheet\';\n      link.href = (path || \'\') + src;\n      document.head.appendChild(link);\n    } else {\n      $(\'<style type="text/css">\' + src + \'</style>\').attr(\'id\', id).appendTo($(document.head));\n    }\n\n    window.fbLoaded.css.push(key);\n  });\n};\n\nutils.capitalize = function (str) {\n  return str.replace(/\\b\\w/g, function (m) {\n    return m.toUpperCase();\n  });\n};\n\nutils.merge = function (obj1, obj2) {\n  var mergedObj = Object.assign({}, obj1, obj2);\n  for (var prop in obj2) {\n    if (mergedObj.hasOwnProperty(prop)) {\n      if (Array.isArray(obj2[prop])) {\n        mergedObj[prop] = Array.isArray(obj1[prop]) ? utils.unique(obj1[prop].concat(obj2[prop])) : obj2[prop];\n      } else if (_typeof(obj2[prop]) === \'object\') {\n        mergedObj[prop] = utils.merge(obj1[prop], obj2[prop]);\n      } else {\n        mergedObj[prop] = obj2[prop];\n      }\n    }\n  }\n  return mergedObj;\n};\n\nutils.addEventListeners = function (el, evts, fn) {\n  return evts.split(\' \').forEach(function (e) {\n    return el.addEventListener(e, fn, false);\n  });\n};\n\nutils.closest = function (el, cls) {\n  var className = cls.replace(\'.\', \'\');\n  while ((el = el.parentElement) && !el.classList.contains(className)) {}\n  return el;\n};\n\nutils.noop = function () {\n  return null;\n};\n\nutils.debounce = function (func) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n  var immediate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var timeout = void 0;\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n\nutils.mobileClass = function () {\n  var mobileClass = \'\';\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) {\n      mobileClass = \' fb-mobile\';\n    }\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return mobileClass;\n};\n\nutils.makeClassName = function (str) {\n  return utils.hyphenCase(str.replace(/[^\\w\\s\\-]/gi, \'\'));\n};\n\nutils.safename = function (str) {\n  return str.replace(/\\s/g, \'-\').replace(/[^a-zA-Z0-9\\[\\]\\_-]/g, \'\').toLowerCase();\n};\n\nutils.forceNumber = function (str) {\n  return str.replace(/[^0-9]/g, \'\');\n};\n\nexports.default = utils;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL3V0aWxzLmpzPzNjOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcm9zcyBmaWxlIHV0aWxpdGllcyBmb3Igd29ya2luZyB3aXRoIGFycmF5cyxcbiAqIHNvcnRpbmcgYW5kIG90aGVyIGZ1biBzdHVmZlxuICogQHJldHVybiB7T2JqZWN0fSB1dGlsc1xuICovXG4gIGNvbnN0IHV0aWxzID0ge307XG4gIHdpbmRvdy5mYkxvYWRlZCA9IHtcbiAgICBqczogW10sXG4gICAgY3NzOiBbXVxuICB9O1xuICB3aW5kb3cuZmJFZGl0b3JzID0ge1xuICAgIHF1aWxsOiB7fSxcbiAgICB0aW55bWNlOiB7fVxuICB9O1xuXG4gIC8vIGNsZWFuZXIgc3ludGF4IGZvciB0ZXN0aW5nIGluZGV4T2YgZWxlbWVudFxuICB1dGlscy5pbkFycmF5ID0gZnVuY3Rpb24obmVlZGxlLCBoYXlzdGFjaykge1xuICAgIHJldHVybiBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSkgIT09IC0xO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgbnVsbCBvciB1bmRlZmluZWQgdmFsdWVzXG4gICAqIEBwYXJhbSAge09iamVjdH0gYXR0cnMge2F0dHJOYW1lOiBhdHRyVmFsdWV9XG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgT2JqZWN0IHRyaW1tZWQgb2YgbnVsbCBvciB1bmRlZmluZWQgdmFsdWVzXG4gICAqL1xuICB1dGlscy50cmltT2JqID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICBsZXQgeG1sUmVtb3ZlID0gW1xuICAgICAgbnVsbCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgICcnLFxuICAgICAgZmFsc2UsXG4gICAgICAnZmFsc2UnXG4gICAgXTtcbiAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJzKSB7XG4gICAgICBpZiAodXRpbHMuaW5BcnJheShhdHRyc1thdHRyXSwgeG1sUmVtb3ZlKSkge1xuICAgICAgICBkZWxldGUgYXR0cnNbYXR0cl07XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXR0cnNbYXR0cl0pKSB7XG4gICAgICAgIGlmICghYXR0cnNbYXR0cl0ubGVuZ3RoKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dHJzW2F0dHJdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUZXN0IGlmIGF0dHJpYnV0ZSBpcyBhIHZhbGlkIEhUTUwgYXR0cmlidXRlXG4gICAqIEBwYXJhbSAge1N0cmluZ30gYXR0clxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgdXRpbHMudmFsaWRBdHRyID0gZnVuY3Rpb24oYXR0cikge1xuICAgIGxldCBpbnZhbGlkID0gW1xuICAgICAgJ3ZhbHVlcycsXG4gICAgICAnZW5hYmxlT3RoZXInLFxuICAgICAgJ290aGVyJyxcbiAgICAgICdsYWJlbCcsXG4gICAgICAvLyAnc3R5bGUnLFxuICAgICAgJ3N1YnR5cGUnXG4gICAgXTtcbiAgICByZXR1cm4gIXV0aWxzLmluQXJyYXkoYXR0ciwgaW52YWxpZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYW4gYXR0cnMgb2JqZWN0IGludG8gYSBzdHJpbmdcbiAgICpcbiAgICogQHBhcmFtICB7T2JqZWN0fSBhdHRycyBvYmplY3Qgb2YgYXR0cmlidXRlcyBmb3IgbWFya3VwXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHV0aWxzLmF0dHJTdHJpbmcgPSBmdW5jdGlvbihhdHRycykge1xuICAgIGxldCBhdHRyaWJ1dGVzID0gW107XG5cbiAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0cikgJiYgdXRpbHMudmFsaWRBdHRyKGF0dHIpKSB7XG4gICAgICAgIGF0dHIgPSB1dGlscy5zYWZlQXR0cihhdHRyLCBhdHRyc1thdHRyXSk7XG4gICAgICAgIGF0dHJpYnV0ZXMucHVzaChhdHRyLm5hbWUgKyBhdHRyLnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXMuam9pbignICcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGF0dHJpYnV0ZXMgdG8gbWFya3VwIHNhZmUgc3RyaW5nc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIGF0dHJpYnV0ZSBuYW1lXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdmFsdWUgYXR0cmlidXRlIHZhbHVlXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAge2F0dHJOYW1lOiBhdHRyVmFsdWV9XG4gICAqL1xuICB1dGlscy5zYWZlQXR0ciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IHV0aWxzLnNhZmVBdHRyTmFtZShuYW1lKTtcbiAgICBsZXQgdmFsU3RyaW5nO1xuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsU3RyaW5nID0gdXRpbHMuZXNjYXBlQXR0cih2YWx1ZS5qb2luKCcgJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxTdHJpbmcgPSB1dGlscy5lc2NhcGVBdHRyKHZhbHVlLnJlcGxhY2UoJywnLCAnICcpLnRyaW0oKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFsdWUgPSB2YWx1ZSA/IGA9XCIke3ZhbFN0cmluZ31cImAgOiAnJztcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfTtcblxuICB1dGlscy5zYWZlQXR0ck5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbGV0IHNhZmVBdHRyID0ge1xuICAgICAgY2xhc3NOYW1lOiAnY2xhc3MnXG4gICAgfTtcblxuICAgIHJldHVybiBzYWZlQXR0cltuYW1lXSB8fCB1dGlscy5oeXBoZW5DYXNlKG5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IHN0cmluZ3MgaW50byBsb3dlcmNhc2UtaHlwaGVuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RyXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIHV0aWxzLmh5cGhlbkNhc2UgPSAoc3RyKSA9PiB7XG4gICAgc3RyID0gc3RyLnJlcGxhY2UoL1teXFx3XFxzXFwtXS9naSwgJycpO1xuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7XG4gICAgICByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxzL2csICctJykucmVwbGFjZSgvXi0rL2csICcnKTtcbiAgfTtcblxuICAvKipcbiAgICogY29udmVydCBhIGh5cGhlbmF0ZWQgc3RyaW5nIHRvIGNhbWVsQ2FzZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHN0clxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuICB1dGlscy5jYW1lbENhc2UgPSBzdHIgPT4gc3RyLnJlcGxhY2UoLy0oW2Etel0pL2csIChtLCB3KSA9PlxuICAgIHcudG9VcHBlckNhc2UoKSk7XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBjb250ZW50IHR5cGVcbiAgICogQHBhcmFtICB7Tm9kZSB8IFN0cmluZyB8IEFycmF5IHwgT2JqZWN0fSBjb250ZW50XG4gICAqIEByZXR1cm4ge1N0cmluZ30gICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGUgZm9yIG1hcHBpbmdcbiAgICovXG4gIHV0aWxzLmNvbnRlbnRUeXBlID0gY29udGVudCA9PiB7XG4gICAgbGV0IHR5cGUgPSB0eXBlb2YgY29udGVudDtcbiAgICBpZiAoY29udGVudCBpbnN0YW5jZW9mIE5vZGUgfHwgY29udGVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICB0eXBlID0gJ25vZGUnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50KSkge1xuICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnRzIHRvIGFuIGVsZW1lbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtZW50IERPTSBlbGVtZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnRzICBvYmplY3QgZnVsbCBvZiBldmVudHMgZWcuIHtjbGljazogZXZ0ID0+IGNhbGxiYWNrfVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdXRpbHMuYmluZEV2ZW50cyA9IChlbGVtZW50LCBldmVudHMpID0+IHtcbiAgICBpZiAoZXZlbnRzKSB7XG4gICAgICBmb3IgKGxldCBldmVudCBpbiBldmVudHMpIHtcbiAgICAgICAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2dCA9PiBldmVudHNbZXZlbnRdKGV2dCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIG5hbWUgYXR0cmlidXRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IGZpZWxkXG4gKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgIG5hbWVcbiAqL1xuICB1dGlscy5uYW1lQXR0ciA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgbGV0IGVwb2NoID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgbGV0IHByZWZpeCA9IGZpZWxkLnR5cGUgfHwgdXRpbHMuaHlwaGVuQ2FzZShmaWVsZC5sYWJlbCk7XG4gICAgcmV0dXJuIHByZWZpeCArICctJyArIGVwb2NoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBtYXJrdXAgd3JhcHBlciB3aGVyZSBuZWVkZWRcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICAgdGFnXG4gICAqIEBwYXJhbSAge1N0cmluZ3xBcnJheXxPYmplY3R9IGNvbnRlbnQgd2Ugd3JhcCB0aGlzXG4gICAqIEBwYXJhbSAge09iamVjdH0gICAgICAgICAgICAgIGF0dHJpYnV0ZXNcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gRWxlbWVudFxuICAgKi9cbiAgdXRpbHMubWFya3VwID0gZnVuY3Rpb24odGFnLCBjb250ZW50ID0gJycsIGF0dHJpYnV0ZXMgPSB7fSkge1xuICAgIGxldCBjb250ZW50VHlwZSA9IHV0aWxzLmNvbnRlbnRUeXBlKGNvbnRlbnQpO1xuICAgIGxldCB7ZXZlbnRzLCAuLi5hdHRyc30gPSBhdHRyaWJ1dGVzO1xuICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXG4gICAgY29uc3QgYXBwZW5kQ29udGVudCA9IHtcbiAgICAgIHN0cmluZzogY29udGVudCA9PiB7XG4gICAgICAgIGZpZWxkLmlubmVySFRNTCArPSBjb250ZW50O1xuICAgICAgfSxcbiAgICAgIG9iamVjdDogY29uZmlnID0+IHtcbiAgICAgICAgbGV0IHt0YWcsIGNvbnRlbnQsIC4uLmRhdGF9ID0gY29uZmlnO1xuICAgICAgICByZXR1cm4gZmllbGQuYXBwZW5kQ2hpbGQodXRpbHMubWFya3VwKHRhZywgY29udGVudCwgZGF0YSkpO1xuICAgICAgfSxcbiAgICAgIG5vZGU6IGNvbnRlbnQgPT4ge1xuICAgICAgICByZXR1cm4gZmllbGQuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICB9LFxuICAgICAgYXJyYXk6IGNvbnRlbnQgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb250ZW50VHlwZSA9IHV0aWxzLmNvbnRlbnRUeXBlKGNvbnRlbnRbaV0pO1xuICAgICAgICAgIGFwcGVuZENvbnRlbnRbY29udGVudFR5cGVdKGNvbnRlbnRbaV0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb246IGNvbnRlbnQgPT4ge1xuICAgICAgICBjb250ZW50ID0gY29udGVudCgpO1xuICAgICAgICBjb250ZW50VHlwZSA9IHV0aWxzLmNvbnRlbnRUeXBlKGNvbnRlbnQpO1xuICAgICAgICBhcHBlbmRDb250ZW50W2NvbnRlbnRUeXBlXShjb250ZW50KTtcbiAgICAgIH0sXG4gICAgICB1bmRlZmluZWQ6ICgpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5lcnJvcih0YWcsIGNvbnRlbnQsIGF0dHJpYnV0ZXMpO1xuICAgICAgfSxcbiAgICB9O1xuXG4gICAgZm9yIChsZXQgYXR0ciBpbiBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgIGxldCBuYW1lID0gdXRpbHMuc2FmZUF0dHJOYW1lKGF0dHIpO1xuICAgICAgICBmaWVsZC5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cnNbYXR0cl0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb250ZW50KSB7XG4gICAgICBhcHBlbmRDb250ZW50W2NvbnRlbnRUeXBlXS5jYWxsKHRoaXMsIGNvbnRlbnQpO1xuICAgIH1cblxuICAgIHV0aWxzLmJpbmRFdmVudHMoZmllbGQsIGV2ZW50cyk7XG5cbiAgICByZXR1cm4gZmllbGQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgaHRtbCBlbGVtZW50IGF0dHJpYnV0ZXMgdG8ga2V5L3ZhbHVlIG9iamVjdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gRE9NIGVsZW1lbnRcbiAgICogQHJldHVybiB7T2JqZWN0fSBleDoge2F0dHJOYW1lOiBhdHRyVmFsdWV9XG4gICAqL1xuICB1dGlscy5wYXJzZUF0dHJzID0gZWxlbSA9PiB7XG4gICAgbGV0IGF0dHJzID0gZWxlbS5hdHRyaWJ1dGVzO1xuICAgIGxldCBkYXRhID0ge307XG4gICAgdXRpbHMuZm9yRWFjaChhdHRycywgYXR0ciA9PiB7XG4gICAgICBsZXQgYXR0clZhbCA9IGF0dHJzW2F0dHJdLnZhbHVlIHx8ICcnO1xuICAgICAgaWYgKGF0dHJWYWwubWF0Y2goL2ZhbHNlfHRydWUvZykpIHtcbiAgICAgICAgYXR0clZhbCA9IChhdHRyVmFsID09PSAndHJ1ZScpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyVmFsLm1hdGNoKC91bmRlZmluZWQvZykpIHtcbiAgICAgICAgYXR0clZhbCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJWYWwpIHtcbiAgICAgICAgZGF0YVthdHRyc1thdHRyXS5uYW1lXSA9IGF0dHJWYWw7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydCBmaWVsZCBvcHRpb25zIHRvIG9wdGlvbkRhdGFcbiAgICogQHBhcmFtICB7Tm9kZUxpc3R9IG9wdGlvbnMgIERPTSBlbGVtZW50c1xuICAgKiBAcmV0dXJuIHtBcnJheX0gb3B0aW9uRGF0YSBhcnJheVxuICAgKi9cbiAgdXRpbHMucGFyc2VPcHRpb25zID0gb3B0aW9ucyA9PiB7XG4gICAgbGV0IG9wdGlvbkRhdGEgPSB7fTtcbiAgICBsZXQgZGF0YSA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvcHRpb25EYXRhID0gdXRpbHMucGFyc2VBdHRycyhvcHRpb25zW2ldKTtcbiAgICAgIG9wdGlvbkRhdGEubGFiZWwgPSBvcHRpb25zW2ldLnRleHRDb250ZW50O1xuICAgICAgZGF0YS5wdXNoKG9wdGlvbkRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZSBYTUwgZm9ybURhdGFcbiAgICogQHBhcmFtICB7U3RyaW5nfSB4bWxTdHJpbmdcbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgZm9ybURhdGEgYXJyYXlcbiAgICovXG4gIHV0aWxzLnBhcnNlWE1MID0geG1sU3RyaW5nID0+IHtcbiAgICBjb25zdCBwYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xuICAgIGxldCB4bWwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbFN0cmluZywgJ3RleHQveG1sJyk7XG4gICAgbGV0IGZvcm1EYXRhID0gW107XG5cbiAgICBpZiAoeG1sKSB7XG4gICAgICBsZXQgZmllbGRzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmaWVsZCcpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGZpZWxkRGF0YSA9IHV0aWxzLnBhcnNlQXR0cnMoZmllbGRzW2ldKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGZpZWxkc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnb3B0aW9uJyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBmaWVsZERhdGEudmFsdWVzID0gdXRpbHMucGFyc2VPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybURhdGEucHVzaChmaWVsZERhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb3JtRGF0YTtcbiAgfTtcblxuICAvKipcbiAgICogQ29udmVydHMgZXNjYXBlZCBIVE1MIGludG8gdXNhYmxlIEhUTUxcbiAgICogQHBhcmFtICB7U3RyaW5nfSBodG1sIGVzY2FwZWQgSFRNTFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgcGFyc2VkIEhUTUxcbiAgICovXG4gIHV0aWxzLnBhcnNlZEh0bWwgPSBodG1sID0+IHtcbiAgICBsZXQgZXNjYXBlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgZXNjYXBlRWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBlc2NhcGVFbGVtZW50LnRleHRDb250ZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBFc2NhcGUgbWFya3VwIHNvIGl0IGNhbiBiZSBkaXNwbGF5ZWQgcmF0aGVyIHRoYW4gcmVuZGVyZWRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBodG1sIG1hcmt1cFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgZXNjYXBlZCBodG1sXG4gICAqL1xuICB1dGlscy5lc2NhcGVIdG1sID0gaHRtbCA9PiB7XG4gICAgbGV0IGVzY2FwZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIGVzY2FwZUVsZW1lbnQudGV4dENvbnRlbnQgPSBodG1sO1xuICAgIHJldHVybiBlc2NhcGVFbGVtZW50LmlubmVySFRNTDtcbiAgfTtcblxuICAvLyBFc2NhcGUgYW4gYXR0cmlidXRlXG4gIHV0aWxzLmVzY2FwZUF0dHIgPSBzdHIgPT4ge1xuICAgIGxldCBtYXRjaCA9IHtcbiAgICAgICdcIic6ICcmcXVvdDsnLFxuICAgICAgJyYnOiAnJmFtcDsnLFxuICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAnPic6ICcmZ3Q7J1xuICAgIH07XG5cbiAgICBjb25zdCByZXBsYWNlVGFnID0gdGFnID0+IG1hdGNoW3RhZ10gfHwgdGFnO1xuXG4gICAgcmV0dXJuICh0eXBlb2Ygc3RyID09PSAnc3RyaW5nJykgPyBzdHIucmVwbGFjZSgvW1wiJjw+XS9nLCByZXBsYWNlVGFnKSA6IHN0cjtcbiAgfTtcblxuICAvLyBFc2NhcGUgYXR0cmlidXRlc1xuICB1dGlscy5lc2NhcGVBdHRycyA9IGF0dHJzID0+IHtcbiAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgYXR0cnNbYXR0cl0gPSB1dGlscy5lc2NhcGVBdHRyKGF0dHJzW2F0dHJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cnM7XG4gIH07XG5cbiAgLy8gZm9yRWFjaCB0aGF0IGNhbiBiZSB1c2VkIG9uIG5vZGVMaXN0XG4gIHV0aWxzLmZvckVhY2ggPSBmdW5jdGlvbihhcnJheSwgY2FsbGJhY2ssIHNjb3BlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2suY2FsbChzY29wZSwgaSwgYXJyYXlbaV0pOyAvLyBwYXNzZXMgYmFjayBzdHVmZiB3ZSBuZWVkXG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5IG9mIGVsZW1lbnRzXG4gICAqIEBwYXJhbSAge0FycmF5fSBhcnJheSAgYXJyYXkgd2l0aCBwb3NzaWJsZSBkdXBsaWNhdGVzXG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgYXJyYXkgd2l0aCBvbmx5IHVuaXF1ZSB2YWx1ZXNcbiAgICovXG4gIHV0aWxzLnVuaXF1ZSA9IGFycmF5ID0+IHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKChlbGVtLCBwb3MsIGFycikgPT5cbiAgICAgIChhcnIuaW5kZXhPZihlbGVtKSA9PT0gcG9zKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIGFuIGFycmF5XG4gICAqIEBwYXJhbSAge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICAgKiBAcGFyYW0gIHtBcnJheX0gYXJyXG4gICAqL1xuICB1dGlscy5yZW1vdmUgPSAodmFsLCBhcnIpID0+IHtcbiAgICBsZXQgaW5kZXggPSBhcnIuaW5kZXhPZih2YWwpO1xuXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWRzIGFuIGFycmF5IG9mIHNjcmlwdHMgdXNpbmcgalF1ZXJ5J3MgYGdldFNjcmlwdGBcbiAgICogQHBhcmFtICB7QXJyYXl8U3RyaW5nfSAgc2NyaXB0U2NyICAgIHNjcmlwdHNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwYXRoICAgb3B0aW9uYWwgdG8gbG9hZCBmb3JtXG4gICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgIGEgcHJvbWlzZVxuICAgKi9cbiAgdXRpbHMuZ2V0U2NyaXB0cyA9IChzY3JpcHRTY3IsIHBhdGgpID0+IHtcbiAgICBjb25zdCAkID0galF1ZXJ5O1xuICAgIGxldCBfYXJyID0gW107XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NyaXB0U2NyKSkge1xuICAgICAgc2NyaXB0U2NyID0gW3NjcmlwdFNjcl07XG4gICAgfVxuXG4gICAgaWYgKCF1dGlscy5pc0NhY2hlZChzY3JpcHRTY3IpKSB7XG4gICAgICBfYXJyID0gJC5tYXAoc2NyaXB0U2NyLCBzcmMgPT4ge1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgICBkYXRhVHlwZTogJ3NjcmlwdCcsXG4gICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgdXJsOiAocGF0aCB8fCAnJykgKyBzcmNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICQuYWpheChvcHRpb25zKS5kb25lKCgpID0+IHdpbmRvdy5mYkxvYWRlZC5qcy5wdXNoKHNyYykpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2Fyci5wdXNoKCQuRGVmZXJyZWQoIGRlZmVycmVkID0+ICQoIGRlZmVycmVkLnJlc29sdmUgKSkpO1xuXG4gICAgcmV0dXJuICQud2hlbiguLi5fYXJyKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHJlbW90ZSByZXNvdXJjZSBpcyBhbHJlYWR5IGxvYWRlZFxuICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IHNyYyAgdXJsIG9mIHJlbW90ZSBzY3JpcHQgb3IgY3NzXG4gICAqIEBwYXJhbSAge1N0cmluZ30gICAgICAgdHlwZSAgICAgICAnanMnIG9yICdjc3MnXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgaXNDYWNoZWRcbiAgICovXG4gIHV0aWxzLmlzQ2FjaGVkID0gKHNyYywgdHlwZSA9ICdqcycpID0+IHtcbiAgICBsZXQgaXNDYWNoZWQgPSBmYWxzZTtcbiAgICBjb25zdCBjYWNoZSA9IHdpbmRvdy5mYkxvYWRlZFt0eXBlXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzcmMpKSB7XG4gICAgICBpc0NhY2hlZCA9IHNyYy5ldmVyeShzID0+IHV0aWxzLmluQXJyYXkocywgY2FjaGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNDYWNoZWQgPSB1dGlscy5pbkFycmF5KHNyYywgY2FjaGUpO1xuICAgIH1cbiAgICByZXR1cm4gaXNDYWNoZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgc3R5bGVzaGVldHMgdG8gdGhlIGhlYWRcbiAgICogQHBhcmFtICB7QXJyYXl9IHNjcmlwdFNjclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHBhdGhcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHV0aWxzLmdldFN0eWxlcyA9IChzY3JpcHRTY3IsIHBhdGgpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NyaXB0U2NyKSkge1xuICAgICAgc2NyaXB0U2NyID0gW3NjcmlwdFNjcl07XG4gICAgfVxuICAgIHNjcmlwdFNjci5mb3JFYWNoKHNyYyA9PiB7XG4gICAgICAvLyBpZiBhIHN0cmluZyBpcyBwYXNzZWQsIGFzc3VtZSBhIGhyZWYgVVJMXG4gICAgICBsZXQgdHlwZSA9ICdocmVmJztcbiAgICAgIGxldCBrZXkgPSBzcmM7XG4gICAgICBsZXQgaWQgPSAnJztcblxuICAgICAgLy8gaWYgYW4gb2JqZWN0IGlzIHBhc3NlZCwgd29yayBvdXQgZGV0YWlscyBmcm9tIGl0J3MgcHJvcGVydGllc1xuICAgICAgaWYgKHR5cGVvZiBzcmMgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdHlwZSA9IHNyYy50eXBlIHx8IChzcmMuc3R5bGUgPyAnaW5saW5lJyA6ICdocmVmJyk7XG4gICAgICAgIGlkID0gc3JjLmlkO1xuICAgICAgICBzcmMgPSB0eXBlID09ICdpbmxpbmUnID8gc3JjLnN0eWxlIDogc3JjLmhyZWY7XG4gICAgICAgIGtleSA9IGlkIHx8IHNyYy5ocmVmIHx8IHNyYy5zdHlsZTtcbiAgICAgIH1cblxuICAgICAgLy8gY2hlY2sgd2UgaGF2ZW4ndCBhbHJlYWR5IGxvYWRlZCB0aGlzIGNzc1xuICAgICAgaWYgKHV0aWxzLmlzQ2FjaGVkKGtleSwgJ2NzcycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwZW5kIHRoZSBzdHlsZSBpbnRvIHRoZSBoZWFkXG4gICAgICBpZiAodHlwZSA9PSAnaHJlZicpIHtcbiAgICAgICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgIGxpbmsudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgICAgICBsaW5rLmhyZWYgPSAocGF0aCB8fCAnJykgKyBzcmM7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGA8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JHtzcmN9PC9zdHlsZT5gKVxuICAgICAgICAgIC5hdHRyKCdpZCcsIGlkKVxuICAgICAgICAgIC5hcHBlbmRUbygkKGRvY3VtZW50LmhlYWQpKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVjb3JkIHRoaXMgaXMgY2FjaGVkXG4gICAgICB3aW5kb3cuZmJMb2FkZWQuY3NzLnB1c2goa2V5KTtcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBDYXBpdGFsaXplcyBhIHN0cmluZ1xuICogQHBhcmFtICB7U3RyaW5nfSBzdHIgdW5jYXBpdGFsaXplZCBzdHJpbmdcbiAqIEByZXR1cm4ge1N0cmluZ30gc3RyIGNhcGl0YWxpemVkIHN0cmluZ1xuICovXG51dGlscy5jYXBpdGFsaXplID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgZnVuY3Rpb24obSkge1xuICAgICAgcmV0dXJuIG0udG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbn07XG5cblxudXRpbHMubWVyZ2UgPSAob2JqMSwgb2JqMikgPT4ge1xuICBsZXQgbWVyZ2VkT2JqID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqMSwgb2JqMik7XG4gIGZvciAobGV0IHByb3AgaW4gb2JqMikge1xuICAgIGlmIChtZXJnZWRPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iajJbcHJvcF0pKSB7XG4gICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IEFycmF5LmlzQXJyYXkob2JqMVtwcm9wXSkgPyB1dGlscy51bmlxdWUob2JqMVtwcm9wXS5jb25jYXQob2JqMltwcm9wXSkpIDogb2JqMltwcm9wXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iajJbcHJvcF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IHV0aWxzLm1lcmdlKG9iajFbcHJvcF0sIG9iajJbcHJvcF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVyZ2VkT2JqW3Byb3BdID0gb2JqMltwcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1lcmdlZE9iajtcbn07XG5cbnV0aWxzLmFkZEV2ZW50TGlzdGVuZXJzID0gKGVsLCBldnRzLCBmbikgPT4ge1xuICByZXR1cm4gZXZ0cy5zcGxpdCgnICcpLmZvckVhY2goZSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGZuLCBmYWxzZSkpO1xufTtcblxuLyoqXG4gKiBGaW5kIHRoZSBjbG9zZXN0IHBhcmVudCBieSBjbGFzc1xuICogQHBhcmFtICB7T2JqZWN0fSBlbCAgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSAge1N0cmluZ30gY2xzIGNsYXNzXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICBET00gRWxlbWVudFxuICovXG51dGlscy5jbG9zZXN0ID0gKGVsLCBjbHMpID0+IHtcbiAgbGV0IGNsYXNzTmFtZSA9IGNscy5yZXBsYWNlKCcuJywgJycpO1xuICB3aGlsZSAoKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKTtcbiAgcmV0dXJuIGVsO1xufTtcblxudXRpbHMubm9vcCA9ICgpID0+IG51bGw7XG5cbi8qKlxuICogRGVib3VuY2Ugb2Z0ZW4gY2FsbGVkIGZ1bmN0aW9ucywgbGlrZSBzYXZlXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gIGZ1bmNcbiAqIEBwYXJhbSAge051bWJlcn0gIHdhaXRcbiAqIEBwYXJhbSAge0Jvb2xlYW59IGltbWVkaWF0ZVxuICogQHJldHVybiB7RnVuY3Rpb259IGRlYm91bmNlXG4gKi9cbnV0aWxzLmRlYm91bmNlID0gKGZ1bmMsIHdhaXQgPSAyNTAsIGltbWVkaWF0ZSA9IGZhbHNlKSA9PiB7XG4gIGxldCB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XG4gICAgbGV0IGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBsZXQgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIGlmIChjYWxsTm93KSB7XG4gICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQWRkIGEgbW9iaWxlIGNsYXNzXG4gKiBAdG9kbyBmaW5kIGNzcyBvbmx5IHNvbHV0aW9uXG4gKiBAcmV0dXJuIHtTdHJpbmd9IE1vYmlsZSBjbGFzcyBhZGRlZCB0byBmb3JtQnVpbGRlclxuICovXG51dGlscy5tb2JpbGVDbGFzcyA9ICgpID0+IHtcbiAgbGV0IG1vYmlsZUNsYXNzID0gJyc7XG4gIChhID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIHtcbiAgICAgIG1vYmlsZUNsYXNzID0gJyBmYi1tb2JpbGUnO1xuICAgIH1cbiAgfSkobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gIHJldHVybiBtb2JpbGVDbGFzcztcbn07XG5cbi8qKlxuICogQ29udmVydCBjb252ZXJ0cyBtZXNzeSBgY2wjc3NOYW1lc2AgaW50byB2YWxpZCBgY2xhc3MtbmFtZXNgXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ30gaHlwaGVuYXRlZCBzdHJpbmdcbiAqL1xudXRpbHMubWFrZUNsYXNzTmFtZSA9IHN0ciA9PiB7XG4gIHJldHVybiB1dGlscy5oeXBoZW5DYXNlKHN0ci5yZXBsYWNlKC9bXlxcd1xcc1xcLV0vZ2ksICcnKSk7XG59O1xuXG4vKipcbiAqIE1ha2Ugc3RyaW5ncyBzYWZlIHRvIGJlIHVzZWQgYXMgY2xhc3Nlc1xuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gc3RyIHN0cmluZyB0byBiZSBjb252ZXJ0ZWRcbiAqIEByZXR1cm4ge1N0cmluZ30gICAgIGNvbnZlcnRlciBzdHJpbmdcbiAqL1xudXRpbHMuc2FmZW5hbWUgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccy9nLCAnLScpXG4gIC5yZXBsYWNlKC9bXmEtekEtWjAtOVxcW1xcXVxcXy1dL2csICcnKS50b0xvd2VyQ2FzZSgpO1xufTtcblxuLyoqXG4gKiBTdHJpcHMgbm9uLW51bWJlcnMgZnJvbSBhIG51bWJlciBvbmx5IGlucHV0XG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBzdHIgc3RyaW5nIHdpdGggcG9zc2libGUgbnVtYmVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgICBzdHJpbmcgd2l0aG91dCBudW1iZXJzXG4gKi9cbnV0aWxzLmZvcmNlTnVtYmVyID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXjAtOV0vZywgJycpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgdXRpbHM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3V0aWxzLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUpBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFRQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/26:/* no static exports found *//* all exports used *//*!*******************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/~/mi18n/dist/mi18n.min.js ***!
  \*******************************************************************************//***/function(module,exports){eval('/*!\n * mi18n - https://github.com/Draggable/mi18n\n * Version: 0.3.4\n * Author: Kevin Chappell <kevin.b.chappell@gmail.com> (http://kevin-chappell.com)\n */\nmodule.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,u){try{var i=e[o](u),a=i.value}catch(t){return void n(t)}return i.done?void t(a):Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var n,r=0;r<e.length;r++)n=e[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=this;r(this,t);var n={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",preloaded:{}};this.init=function(t){return e.config=Object.assign({},n,t),e.langs=Object.assign({},e.config.preloaded),e.locale=e.config.locale||e.config.langs[0],e.setCurrent(e.locale)}}return t.prototype.getValue=function(t){return this.current&&this.current[t]||t},t.prototype.makeSafe=function(t){var e={"{":"\\\\{","}":"\\\\}","|":"\\\\|"};return t=t.replace(/\\{|\\}|\\|/g,function(t){return e[t]}),new RegExp(t,"g")},t.prototype.put=function(t,e){return this.current[t]=e},t.prototype.get=function(t,e){var n,r=this,u=this.getValue(t),i=u.match(/\\{[^\\}]+?\\}/g);if(e&&i)if("object"===(void 0===e?"undefined":o(e)))for(var a=0;a<i.length;a++)n=i[a].substring(1,i[a].length-1),u=u.replace(r.makeSafe(i[a]),e[n]||"");else u=u.replace(/\\{[^\\}]+?\\}/g,e);return u},t.prototype.fromFile=function(t){for(var e,n=t.split("\\n"),r={},o=0;o<n.length;o++)if(e=n[o].match(/^(.+?) *?= *?([^\\n]+)/)){var u=e[2].replace(/^\\s+|\\s+$/,"");r[e[1]]=u}return r},t.prototype.processFile=function(t){var e=t.replace(/\\n\\n/g,"\\n");return this.fromFile(e)},t.prototype.loadLang=function(t){var e=this;return new Promise(function(n,r){if(e.langs[t])n(e.langs[t]);else{var o=new XMLHttpRequest,u=e.config.location+t+e.config.extension;o.open("GET",u,!0),o.onload=function(){if(304>=this.status){var u=e.processFile(o.responseText);e.langs[t]=u,n(u)}else r({status:this.status,statusText:o.statusText})},o.onerror=function(){r({status:this.status,statusText:o.statusText})},o.send()}})},t.prototype.setCurrent=function(){var t=n(regeneratorRuntime.mark(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-US";return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadLang(e);case 2:return this.locale=e,this.current=this.langs[e],t.abrupt("return",this.current);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),u(t,[{key:"getLangs",get:function(){return this.config.langs}}]),t}();e.default=new i}]);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL20wY3MvRG9jdW1lbnRzL2VYcGFuZC9naXQvZm9ybS1idWlsZGVyL34vbWkxOG4vZGlzdC9taTE4bi5taW4uanM/Njg5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIG1pMThuIC0gaHR0cHM6Ly9naXRodWIuY29tL0RyYWdnYWJsZS9taTE4blxuICogVmVyc2lvbjogMC4zLjRcbiAqIEF1dGhvcjogS2V2aW4gQ2hhcHBlbGwgPGtldmluLmIuY2hhcHBlbGxAZ21haWwuY29tPiAoaHR0cDovL2tldmluLWNoYXBwZWxsLmNvbSlcbiAqL1xubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIG89bltyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sPSEwLG8uZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5pPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxlLmQ9ZnVuY3Rpb24odCxuLHIpe2Uubyh0LG4pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxlLm49ZnVuY3Rpb24odCl7dmFyIG49dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChuLFwiYVwiLG4pLG59LGUubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sZS5wPVwiXCIsZShlLnM9MCl9KFtmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcihvLHUpe3RyeXt2YXIgaT1lW29dKHUpLGE9aS52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBuKHQpfXJldHVybiBpLmRvbmU/dm9pZCB0KGEpOlByb21pc2UucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uKHQpe3IoXCJuZXh0XCIsdCl9LGZ1bmN0aW9uKHQpe3IoXCJ0aHJvd1wiLHQpfSl9cmV0dXJuIHIoXCJuZXh0XCIpfSl9fWZ1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuLHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sbi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztyKHRoaXMsdCk7dmFyIG49e2V4dGVuc2lvbjpcIi5sYW5nXCIsbG9jYXRpb246XCJhc3NldHMvbGFuZy9cIixsYW5nczpbXCJlbi1VU1wiXSxsb2NhbGU6XCJlbi1VU1wiLHByZWxvYWRlZDp7fX07dGhpcy5pbml0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbmZpZz1PYmplY3QuYXNzaWduKHt9LG4sdCksZS5sYW5ncz1PYmplY3QuYXNzaWduKHt9LGUuY29uZmlnLnByZWxvYWRlZCksZS5sb2NhbGU9ZS5jb25maWcubG9jYWxlfHxlLmNvbmZpZy5sYW5nc1swXSxlLnNldEN1cnJlbnQoZS5sb2NhbGUpfX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudCYmdGhpcy5jdXJyZW50W3RdfHx0fSx0LnByb3RvdHlwZS5tYWtlU2FmZT1mdW5jdGlvbih0KXt2YXIgZT17XCJ7XCI6XCJcXFxce1wiLFwifVwiOlwiXFxcXH1cIixcInxcIjpcIlxcXFx8XCJ9O3JldHVybiB0PXQucmVwbGFjZSgvXFx7fFxcfXxcXHwvZyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pLG5ldyBSZWdFeHAodCxcImdcIil9LHQucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRbdF09ZX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLHU9dGhpcy5nZXRWYWx1ZSh0KSxpPXUubWF0Y2goL1xce1teXFx9XSs/XFx9L2cpO2lmKGUmJmkpaWYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6byhlKSkpZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspbj1pW2FdLnN1YnN0cmluZygxLGlbYV0ubGVuZ3RoLTEpLHU9dS5yZXBsYWNlKHIubWFrZVNhZmUoaVthXSksZVtuXXx8XCJcIik7ZWxzZSB1PXUucmVwbGFjZSgvXFx7W15cXH1dKz9cXH0vZyxlKTtyZXR1cm4gdX0sdC5wcm90b3R5cGUuZnJvbUZpbGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5zcGxpdChcIlxcblwiKSxyPXt9LG89MDtvPG4ubGVuZ3RoO28rKylpZihlPW5bb10ubWF0Y2goL14oLis/KSAqPz0gKj8oW15cXG5dKykvKSl7dmFyIHU9ZVsyXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sXCJcIik7cltlWzFdXT11fXJldHVybiByfSx0LnByb3RvdHlwZS5wcm9jZXNzRmlsZT1mdW5jdGlvbih0KXt2YXIgZT10LnJlcGxhY2UoL1xcblxcbi9nLFwiXFxuXCIpO3JldHVybiB0aGlzLmZyb21GaWxlKGUpfSx0LnByb3RvdHlwZS5sb2FkTGFuZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLHIpe2lmKGUubGFuZ3NbdF0pbihlLmxhbmdzW3RdKTtlbHNle3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdCx1PWUuY29uZmlnLmxvY2F0aW9uK3QrZS5jb25maWcuZXh0ZW5zaW9uO28ub3BlbihcIkdFVFwiLHUsITApLG8ub25sb2FkPWZ1bmN0aW9uKCl7aWYoMzA0Pj10aGlzLnN0YXR1cyl7dmFyIHU9ZS5wcm9jZXNzRmlsZShvLnJlc3BvbnNlVGV4dCk7ZS5sYW5nc1t0XT11LG4odSl9ZWxzZSByKHtzdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDpvLnN0YXR1c1RleHR9KX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7cih7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6by5zdGF0dXNUZXh0fSl9LG8uc2VuZCgpfX0pfSx0LnByb3RvdHlwZS5zZXRDdXJyZW50PWZ1bmN0aW9uKCl7dmFyIHQ9bihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB0KCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiZW4tVVNcIjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQubmV4dD0yLHRoaXMubG9hZExhbmcoZSk7Y2FzZSAyOnJldHVybiB0aGlzLmxvY2FsZT1lLHRoaXMuY3VycmVudD10aGlzLmxhbmdzW2VdLHQuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5jdXJyZW50KTtjYXNlIDU6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0sdCx0aGlzKX0pKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLHUodCxbe2tleTpcImdldExhbmdzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmxhbmdzfX1dKSx0fSgpO2UuZGVmYXVsdD1uZXcgaX1dKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvbTBjcy9Eb2N1bWVudHMvZVhwYW5kL2dpdC9mb3JtLWJ1aWxkZXIvfi9taTE4bi9kaXN0L21pMThuLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/325:/* no static exports found *//* all exports used *//*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/~/css-loader?{"minimize":true,"sourceMaps":true}!/Users/m0cs/Documents/eXpand/git/form-builder/~/postcss-loader?{"plugins":[null]}!/Users/m0cs/Documents/eXpand/git/form-builder/~/sass-loader/lib/loader.js?{"sourceMaps":true}!/Users/m0cs/Documents/eXpand/git/form-builder/src/sass/form-builder.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************//***/function(module,exports){eval('throw new Error("Module build failed: Error: Missing binding /Users/m0cs/Documents/eXpand/git/form-builder/node_modules/node-sass/vendor/darwin-x64-48/binding.node\\nNode Sass could not find a binding for your current environment: OS X 64-bit with Node.js 6.x\\n\\nFound bindings for the following environments:\\n  - Linux 64-bit with Node.js 6.x\\n\\nThis usually happens because your environment has changed since running `npm install`.\\nRun `npm rebuild node-sass --force` to build the binding for your current environment.\\n    at module.exports (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/node-sass/lib/binding.js:15:13)\\n    at Object.<anonymous> (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/node-sass/lib/index.js:14:35)\\n    at Module._compile (module.js:541:32)\\n    at Module._extensions..js (module.js:550:10)\\n    at Object.require.extensions.(anonymous function) [as .js] (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/babel-register/lib/node.js:152:7)\\n    at Module.load (module.js:458:32)\\n    at tryModuleLoad (module.js:417:12)\\n    at Function.Module._load (module.js:409:3)\\n    at Module.require (module.js:468:17)\\n    at require (internal/module.js:20:19)\\n    at Object.<anonymous> (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/sass-loader/lib/loader.js:3:14)\\n    at Module._compile (module.js:541:32)\\n    at Module._extensions..js (module.js:550:10)\\n    at Object.require.extensions.(anonymous function) [as .js] (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/babel-register/lib/node.js:152:7)\\n    at Module.load (module.js:458:32)\\n    at tryModuleLoad (module.js:417:12)\\n    at Function.Module._load (module.js:409:3)\\n    at Module.require (module.js:468:17)\\n    at require (internal/module.js:20:19)\\n    at loadLoader (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/loadLoader.js:13:17)\\n    at iteratePitchingLoaders (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:173:18\\n    at loadLoader (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/loadLoader.js:36:3)\\n    at iteratePitchingLoaders (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at iteratePitchingLoaders (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\\n    at /Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:173:18\\n    at loadLoader (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/loadLoader.js:36:3)\\n    at iteratePitchingLoaders (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\\n    at runLoaders (/Users/m0cs/Documents/eXpand/git/form-builder/node_modules/loader-runner/lib/LoaderRunner.js:362:2)");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI1LmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9')},/***/34:/* no static exports found *//* all exports used *//*!******************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/custom.js ***!
  \******************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 26);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlCustom = function (_control) {\n  _inherits(controlCustom, _control);\n\n  function controlCustom() {\n    _classCallCheck(this, controlCustom);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlCustom.register = function register() {\n    var templates = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (!controlCustom.def) {\n      controlCustom.def = {\n        icon: {},\n        i18n: {}\n      };\n    }\n\n    controlCustom.templates = templates;\n\n    var locale = _mi18n2.default.locale;\n    if (!controlCustom.def.i18n[locale]) {\n      controlCustom.def.i18n[locale] = {};\n    }\n\n    _control3.default.register(Object.keys(templates), controlCustom);\n\n    for (var _iterator = fields, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var field = _ref;\n\n      var type = field.type;\n      field.attrs = field.attrs || {};\n      if (!type) {\n        if (!field.attrs.type) {\n          this.error(\'Ignoring invalid custom field definition. Please specify a type property.\');\n          continue;\n        }\n        type = field.attrs.type;\n      }\n\n      var lookup = field.subtype || type;\n\n      if (!templates[type]) {\n        var controlClass = _control3.default.getClass(type, field.subtype);\n        if (!controlClass) {\n          this.error(\'Error while registering custom field: \' + type + (field.subtype ? \':\' + field.subtype : \'\') + \'. Unable to find any existing defined control or template for rendering.\');\n          continue;\n        }\n\n        lookup = type + \'-\' + Math.floor(Math.random() * 9000 + 1000);\n        controlCustom.customRegister[lookup] = $.extend(field, {\n          type: type,\n          class: controlClass\n        });\n      }\n\n      controlCustom.def.i18n[locale][lookup] = field.label;\n      controlCustom.def.icon[lookup] = field.icon;\n    }\n  };\n\n  controlCustom.getRegistered = function getRegistered() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (type) {\n      return _control3.default.getRegistered(type);\n    }\n    return Object.keys(controlCustom.customRegister);\n  };\n\n  controlCustom.lookup = function lookup(_lookup) {\n    return controlCustom.customRegister[_lookup];\n  };\n\n  controlCustom.prototype.build = function build() {\n    var custom = controlCustom.templates[this.type];\n    if (!custom) {\n      return this.error(\'Invalid custom control type. Please ensure you have registered it correctly as a template option.\');\n    }\n\n    var fieldData = Object.assign(this.config);\n    var properties = [\'label\', \'description\', \'subtype\', \'id\', \'isPreview\', \'required\', \'title\', \'aria-required\', \'type\'];\n    for (var _iterator2 = properties, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var prop = _ref2;\n\n      fieldData[prop] = this.config[prop] || this[prop];\n    }\n\n    custom = custom.bind(this);\n    custom = custom(fieldData);\n\n    if (custom.js) {\n      this.js = custom.js;\n    }\n    if (custom.css) {\n      this.css = custom.css;\n    }\n\n    this.onRender = custom.onRender;\n    return {\n      field: custom.field,\n      layout: custom.layout\n    };\n  };\n\n  _createClass(controlCustom, null, [{\n    key: \'definition\',\n    get: function get() {\n      return controlCustom.def;\n    }\n  }]);\n\n  return controlCustom;\n}(_control3.default);\n\nexports.default = controlCustom;\n\ncontrolCustom.customRegister = {};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvY3VzdG9tLmpzP2UwM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgbWkxOG4gZnJvbSAnbWkxOG4nO1xuXG4vKipcbiAqIFN1cHBvcnQgZm9yIGN1c3RvbSBjb250cm9sc1xuICogSW1wbGVtZW50aW5nIHN1cHBvcnQgZm9yIGN1c3RvbSB0ZW1wbGF0ZXMgYmVpbmcgcGFzc2VkIGFzIG9wdGlvbnMgdG8gZm9ybUJ1aWxkZXIvUmVuZGVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbnRyb2xDdXN0b20gZXh0ZW5kcyBjb250cm9sIHtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhlIHJlZ2lzdGVyIG1ldGhvZCB0byBhbGxvdyBwYXNzaW5nICd0ZW1wbGF0ZXMnIGNvbmZpZ3VyYXRpb24gZGF0YVxuICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVzIGFuIG9iamVjdC9oYXNoIG9mIHRlbXBsYXRlIGRhdGEgYXMgZGVmaW5lZCBodHRwOi8vZm9ybWJ1aWxkZXIucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L2Zvcm1CdWlsZGVyL29wdGlvbnMvdGVtcGxhdGVzL1xuICAgKiBAcGFyYW0ge0FycmF5fSBmaWVsZHNcbiAgICovXG4gIHN0YXRpYyByZWdpc3Rlcih0ZW1wbGF0ZXMgPSB7fSwgZmllbGRzID0gW10pIHtcbiAgICBpZiAoIWNvbnRyb2xDdXN0b20uZGVmKSB7XG4gICAgICBjb250cm9sQ3VzdG9tLmRlZiA9IHtcbiAgICAgICAgaWNvbjoge30sXG4gICAgICAgIGkxOG46IHt9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHN0b3JlIHRoZSB0ZW1wbGF0ZSBkYXRhIGFnYWluc3QgYSBzdGF0aWMgcHJvcGVydHlcbiAgICBjb250cm9sQ3VzdG9tLnRlbXBsYXRlcyA9IHRlbXBsYXRlcztcblxuICAgIC8vIHByZXBhcmUgaTE4biBsb2NhbGUgZGVmaW5pdGlvblxuICAgIGxldCBsb2NhbGUgPSBtaTE4bi5sb2NhbGU7XG4gICAgaWYgKCFjb250cm9sQ3VzdG9tLmRlZi5pMThuW2xvY2FsZV0pIHtcbiAgICAgIGNvbnRyb2xDdXN0b20uZGVmLmkxOG5bbG9jYWxlXSA9IHt9O1xuICAgIH1cblxuICAgIC8vIHJlZ2lzdGVyIGVhY2ggZGVmaW5lZCB0ZW1wbGF0ZSBhZ2FpbnN0IHRoaXMgY2xhc3NcbiAgICBjb250cm9sLnJlZ2lzdGVyKE9iamVjdC5rZXlzKHRlbXBsYXRlcyksIGNvbnRyb2xDdXN0b20pO1xuXG4gICAgLy8gYnVpbGQgdGhlIGNvbnRyb2wgbGFiZWwgJiBpY29uIGRlZmluaXRpb25zXG4gICAgZm9yIChsZXQgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICBsZXQgdHlwZSA9IGZpZWxkLnR5cGU7XG4gICAgICBmaWVsZC5hdHRycyA9IGZpZWxkLmF0dHJzIHx8IHt9O1xuICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgIGlmICghZmllbGQuYXR0cnMudHlwZSkge1xuICAgICAgICAgIHRoaXMuZXJyb3IoJ0lnbm9yaW5nIGludmFsaWQgY3VzdG9tIGZpZWxkIGRlZmluaXRpb24uIFBsZWFzZSBzcGVjaWZ5IGEgdHlwZSBwcm9wZXJ0eS4nKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0eXBlID0gZmllbGQuYXR0cnMudHlwZTtcbiAgICAgIH1cblxuICAgICAgLy8gZGVmYXVsdCBpY29uICYgbGFiZWwgbG9va3VwXG4gICAgICBsZXQgbG9va3VwID0gZmllbGQuc3VidHlwZSB8fCB0eXBlO1xuXG4gICAgICAvLyBpZiB0aGVyZSBpcyBubyB0ZW1wbGF0ZSBkZWZpbmVkIGZvciB0aGlzIHR5cGUsIGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGlzIHR5cGUvc3VidHlwZSByZWdpc3RlcmVkXG4gICAgICBpZiAoIXRlbXBsYXRlc1t0eXBlXSkge1xuICAgICAgICAvLyBjaGVjayB0aGF0IHRoaXMgdHlwZSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcbiAgICAgICAgbGV0IGNvbnRyb2xDbGFzcyA9IGNvbnRyb2wuZ2V0Q2xhc3ModHlwZSwgZmllbGQuc3VidHlwZSk7XG4gICAgICAgIGlmICghY29udHJvbENsYXNzKSB7XG4gICAgICAgICAgdGhpcy5lcnJvcignRXJyb3Igd2hpbGUgcmVnaXN0ZXJpbmcgY3VzdG9tIGZpZWxkOiAnICsgdHlwZSArIChmaWVsZC5zdWJ0eXBlID8gJzonICsgZmllbGQuc3VidHlwZSA6ICcnKSArICcuIFVuYWJsZSB0byBmaW5kIGFueSBleGlzdGluZyBkZWZpbmVkIGNvbnRyb2wgb3IgdGVtcGxhdGUgZm9yIHJlbmRlcmluZy4nKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGEgcmFuZG9tIGtleSAmIG1hcCB0aGUgc2V0dGluZ3MgYWdhaW5zdCBpdFxuICAgICAgICBsb29rdXAgPSBgJHt0eXBlfS0ke01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiA5MDAwKSArIDEwMDApfWA7XG4gICAgICAgIGNvbnRyb2xDdXN0b20uY3VzdG9tUmVnaXN0ZXJbbG9va3VwXSA9ICQuZXh0ZW5kKGZpZWxkLCB7XG4gICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICBjbGFzczogY29udHJvbENsYXNzXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBtYXAgbGFiZWwgJiBpY29uXG4gICAgICBjb250cm9sQ3VzdG9tLmRlZi5pMThuW2xvY2FsZV1bbG9va3VwXSA9IGZpZWxkLmxhYmVsO1xuICAgICAgY29udHJvbEN1c3RvbS5kZWYuaWNvbltsb29rdXBdID0gZmllbGQuaWNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbnkgY3VzdG9tIGZpZWxkcyB0aGF0IG1hcCB0byBhbiBleGlzdGluZyB0eXBlL3N1YnR5cGUgY29tYmluYXRpb25cbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIG9wdGlvbmFsIHR5cGUgb2YgY29udHJvbCB3ZSB3YW50IHRvIGxvb2sgdXBcbiAgICogc3VidHlwZXMgb2YuIElmIG5vdCBzcGVjaWZpZWQgd2lsbCByZXR1cm4gYWxsIHR5cGVzXG4gICAqIEByZXR1cm4ge0FycmF5fSByZWdpc3RlcmVkIGN1c3RvbSBsb29rdXAga2V5c1xuICAgKi9cbiAgc3RhdGljIGdldFJlZ2lzdGVyZWQodHlwZT1mYWxzZSkge1xuICAgIGlmICh0eXBlKSB7XG4gICAgICByZXR1cm4gY29udHJvbC5nZXRSZWdpc3RlcmVkKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoY29udHJvbEN1c3RvbS5jdXN0b21SZWdpc3Rlcik7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgdGhlIGNsYXNzIGZvciBhIHNwZWNpZmllZCBjb250cm9sIHR5cGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxvb2t1cCAtIGN1c3RvbSBjb250cm9sIGxvb2t1cCB0byBjaGVjayBmb3JcbiAgICogQHJldHVybiB7Q2xhc3N9IGNvbnRyb2wgc3ViY2xhc3MgYXMgZGVmaW5lZCBpbiB0aGUgY2FsbCB0byByZWdpc3RlclxuICAgKi9cbiAgc3RhdGljIGxvb2t1cChsb29rdXApIHtcbiAgICByZXR1cm4gY29udHJvbEN1c3RvbS5jdXN0b21SZWdpc3Rlcltsb29rdXBdO1xuICB9XG5cbiAgLyoqXG4gICAqIENsYXNzIGNvbmZpZ3VyYXRpb24gLSByZXR1cm4gdGhlIGljb25zICYgbGFiZWwgdHJhbnNsYXRpb25zIGRlZmluZWQgaW4gcmVnaXN0ZXJcbiAgICogQHJldHVybiB7Q2xhc3N9IGRlZmluaXRpb24gb2JqZWN0XG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmluaXRpb24oKSB7XG4gICAgcmV0dXJuIGNvbnRyb2xDdXN0b20uZGVmO1xuICB9XG5cbiAgLyoqXG4gICAqIGJ1aWxkIGEgY3VzdG9tIGNvbnRyb2wgZGVmaW5lZCBpbiB0aGUgdGVtcGxhdGVzIG9wdGlvblxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBFbGVtZW50IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZvcm0uXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBsZXQgY3VzdG9tID0gY29udHJvbEN1c3RvbS50ZW1wbGF0ZXNbdGhpcy50eXBlXTtcbiAgICBpZiAoIWN1c3RvbSkge1xuICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoJ0ludmFsaWQgY3VzdG9tIGNvbnRyb2wgdHlwZS4gUGxlYXNlIGVuc3VyZSB5b3UgaGF2ZSByZWdpc3RlcmVkIGl0IGNvcnJlY3RseSBhcyBhIHRlbXBsYXRlIG9wdGlvbi4nKTtcbiAgICB9XG5cbiAgICAvLyByZW5kZXIgdGhlIGN1c3RvbSB0ZW1wbGF0ZVxuICAgIC8vIHJlc3RvcmUgZmllbGREYXRhIGNvbmZpZyBzdHJ1Y3R1cmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgbGV0IGZpZWxkRGF0YSA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcpO1xuICAgIGxldCBwcm9wZXJ0aWVzID0gWydsYWJlbCcsICdkZXNjcmlwdGlvbicsICdzdWJ0eXBlJywgJ2lkJywgJ2lzUHJldmlldycsICdyZXF1aXJlZCcsICd0aXRsZScsICdhcmlhLXJlcXVpcmVkJywgJ3R5cGUnXTtcbiAgICBmb3IgKGxldCBwcm9wIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgIGZpZWxkRGF0YVtwcm9wXSA9IHRoaXMuY29uZmlnW3Byb3BdIHx8IHRoaXNbcHJvcF07XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgJiByZXRyaWV2ZSBlbGVtZW50IHNldHRpbmdzXG4gICAgY3VzdG9tID0gY3VzdG9tLmJpbmQodGhpcyk7XG4gICAgY3VzdG9tID0gY3VzdG9tKGZpZWxkRGF0YSk7XG5cbiAgICAvLyBjaGVjayBmb3IgQ1NTIG9yIEpTIHRvIGJlIGluamVjdGVkXG4gICAgaWYgKGN1c3RvbS5qcykge1xuICAgICAgdGhpcy5qcyA9IGN1c3RvbS5qcztcbiAgICB9XG4gICAgaWYgKGN1c3RvbS5jc3MpIHtcbiAgICAgIHRoaXMuY3NzID0gY3VzdG9tLmNzcztcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgb25yZW5kZXIgZXZlbnRzICYgcmV0dXJuXG4gICAgdGhpcy5vblJlbmRlciA9IGN1c3RvbS5vblJlbmRlcjtcbiAgICByZXR1cm4ge1xuICAgICAgZmllbGQ6IGN1c3RvbS5maWVsZCxcbiAgICAgIGxheW91dDogY3VzdG9tLmxheW91dFxuICAgIH07XG4gIH1cbn1cbmNvbnRyb2xDdXN0b20uY3VzdG9tUmVnaXN0ZXIgPSB7fTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29udHJvbC9jdXN0b20uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFLQTs7Ozs7Ozs7O0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBOzs7QUF6Q0E7QUFDQTtBQUNBOzs7Ozs7QUE3RkE7QUFDQTtBQW9JQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/35:/* no static exports found *//* all exports used *//*!********************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/textarea.js ***!
  \********************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlTextarea = function (_control) {\n  _inherits(controlTextarea, _control);\n\n  function controlTextarea() {\n    _classCallCheck(this, controlTextarea);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlTextarea.prototype.build = function build() {\n    var _config = this.config,\n        _config$value = _config.value,\n        value = _config$value === undefined ? \'\' : _config$value,\n        attrs = _objectWithoutProperties(_config, [\'value\']);\n\n    this.field = this.markup(\'textarea\', this.parsedHtml(value), attrs);\n    return this.field;\n  };\n\n  controlTextarea.prototype.on = function on(eventType) {\n    var _this2 = this;\n\n    if (eventType == \'prerender\' && this.preview) {\n      return function (element) {\n        if (_this2.field) {\n          element = _this2.field;\n        }\n\n        $(element).on(\'mousedown\', function (e) {\n          e.stopPropagation();\n        });\n      };\n    }\n    return _control.prototype.on.call(this, eventType);\n  };\n\n  _createClass(controlTextarea, null, [{\n    key: \'definition\',\n    get: function get() {\n      return {\n        mi18n: {\n          textarea: \'textArea\'\n        }\n      };\n    }\n  }]);\n\n  return controlTextarea;\n}(_control3.default);\n\nexports.default = controlTextarea;\n\n_control3.default.register(\'textarea\', controlTextarea);\n_control3.default.register(\'textarea\', controlTextarea, \'textarea\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvdGV4dGFyZWEuanM/Njk5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29udHJvbCBmcm9tICcuLi9jb250cm9sJztcblxuLyoqXG4gKiBUZXh0IGlucHV0IGNsYXNzXG4gKiBPdXRwdXQgYSA8aW5wdXQgdHlwZT1cInRleHRcIiAuLi4gLz4gZm9ybSBlbGVtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbnRyb2xUZXh0YXJlYSBleHRlbmRzIGNvbnRyb2wge1xuXG4gIC8qKlxuICAgKiBjbGFzcyBjb25maWd1cmF0aW9uXG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmluaXRpb24oKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgLy8gbWkxOG4gY3VzdG9tIG1hcHBpbmdzIChkZWZhdWx0cyB0byBjYW1lbENhc2UgdHlwZSlcbiAgICAgIG1pMThuOiB7XG4gICAgICAgIHRleHRhcmVhOiAndGV4dEFyZWEnXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBidWlsZCBhIHRleHQgRE9NIGVsZW1lbnQsIHN1cHBvcnRpbmcgb3RoZXIganF1ZXJ5IHRleHQgZm9ybS1jb250cm9sJ3NcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gRWxlbWVudCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmb3JtLlxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgbGV0IHt2YWx1ZSA9ICcnLCAuLi5hdHRyc30gPSB0aGlzLmNvbmZpZztcbiAgICB0aGlzLmZpZWxkID0gdGhpcy5tYXJrdXAoJ3RleHRhcmVhJywgdGhpcy5wYXJzZWRIdG1sKHZhbHVlKSwgYXR0cnMpO1xuICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICB9XG5cbiAgLyoqXG4gICAqIGV4dGVuZCB0aGUgZGVmYXVsdCBldmVudHMgdG8gYWRkIGEgcHJlcmVuZGVyIGZvciB0ZXh0YXJlYXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gcHJlcmVuZGVyIGZ1bmN0aW9uXG4gICAqL1xuICBvbihldmVudFR5cGUpIHtcbiAgICBpZiAoZXZlbnRUeXBlID09ICdwcmVyZW5kZXInICYmIHRoaXMucHJldmlldykge1xuICAgICAgcmV0dXJuIChlbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkKSB7XG4gICAgICAgICAgZWxlbWVudCA9IHRoaXMuZmllbGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcHJldmlldywgc3RvcCBldmVudHMgYnViYmxpbmcgdXAgc28gdGhlIGVkaXRvciBwcmV2aWV3IGlzIGNsaWNrYWJsZSAoYW5kIG5vdCBkcmFnZ2FibGUpXG4gICAgICAgICQoZWxlbWVudCkub24oJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIub24oZXZlbnRUeXBlKTtcbiAgfVxufVxuXG4vLyByZWdpc3RlciB0aGUgZm9sbG93aW5nIGNvbnRyb2xzXG5jb250cm9sLnJlZ2lzdGVyKCd0ZXh0YXJlYScsIGNvbnRyb2xUZXh0YXJlYSk7XG5jb250cm9sLnJlZ2lzdGVyKCd0ZXh0YXJlYScsIGNvbnRyb2xUZXh0YXJlYSwgJ3RleHRhcmVhJyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbnRyb2wvdGV4dGFyZWEuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQUtBOzs7Ozs7Ozs7QUFtQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUF4Q0E7QUFDQTtBQUdBO0FBQ0E7QUFEQTtBQUhBO0FBT0E7Ozs7OztBQWJBO0FBQ0E7QUErQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/50:/* no static exports found *//* all exports used *//*!*******************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/dom.js ***!
  \*******************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar instanceDom = exports.instanceDom = {};\nvar defaultSubtypes = exports.defaultSubtypes = {\n  text: [\'text\', \'password\', \'email\', \'color\', \'tel\'],\n  header: [\'h1\', \'h2\', \'h3\'],\n  button: [\'button\', \'submit\', \'reset\'],\n  paragraph: [\'p\', \'address\', \'blockquote\', \'canvas\', \'output\'],\n  textarea: [\'textarea\', \'quill\']\n};\n\nvar remove = exports.remove = function remove(element) {\n  if (element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n};\n\nvar empty = exports.empty = function empty(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n  return element;\n};\n\nvar filter = exports.filter = function filter(elems, term) {\n  var show = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  var filteredElems = [];\n  var toggle = [\'none\', \'block\'];\n\n  if (show) {\n    toggle = toggle.reverse();\n  }\n\n  for (var i = elems.length - 1; i >= 0; i--) {\n    var txt = elems[i].textContent.toLowerCase();\n    if (txt.indexOf(term.toLowerCase()) !== -1) {\n      elems[i].style.display = toggle[0];\n      filteredElems.push(elems[i]);\n    } else {\n      elems[i].style.display = toggle[1];\n    }\n  }\n\n  return filteredElems;\n};\n\nvar optionFields = exports.optionFields = [\'select\', \'checkbox-group\', \'checkbox\', \'radio-group\', \'autocomplete\'];\n\nvar optionFieldsRegEx = exports.optionFieldsRegEx = new RegExp(\'(\' + optionFields.join(\'|\') + \')\');\n\nvar Dom = function Dom(formID) {\n  _classCallCheck(this, Dom);\n\n  this.optionFields = optionFields;\n  this.optionFieldsRegEx = optionFieldsRegEx;\n\n  this.subtypes = defaultSubtypes;\n\n  this.empty = empty;\n\n  this.filter = filter;\n\n  instanceDom[formID] = this;\n  return instanceDom[formID];\n};\n\nexports.default = Dom;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2RvbS5qcz80ZjE0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNvbnN0IGluc3RhbmNlRG9tID0ge307XG5leHBvcnQgY29uc3QgZGVmYXVsdFN1YnR5cGVzID0ge1xuICAgICAgdGV4dDogWyd0ZXh0JywgJ3Bhc3N3b3JkJywgJ2VtYWlsJywgJ2NvbG9yJywgJ3RlbCddLFxuICAgICAgaGVhZGVyOiBbJ2gxJywgJ2gyJywgJ2gzJ10sXG4gICAgICBidXR0b246IFsnYnV0dG9uJywgJ3N1Ym1pdCcsICdyZXNldCddLFxuICAgICAgcGFyYWdyYXBoOiBbJ3AnLCAnYWRkcmVzcycsICdibG9ja3F1b3RlJywgJ2NhbnZhcycsICdvdXRwdXQnXSxcbiAgICAgIHRleHRhcmVhOiBbJ3RleHRhcmVhJywgJ3F1aWxsJ11cbiAgICB9O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBkb20gbm9kZVxuICogQHBhcmFtICB7T2JqZWN0fSBlbGVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmUgPSBlbGVtZW50ID0+IHtcbiAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVtcHR5ID0gZWxlbWVudCA9PiB7XG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgZmlsdGVyID0gKGVsZW1zLCB0ZXJtLCBzaG93ID0gdHJ1ZSkgPT4ge1xuICBsZXQgZmlsdGVyZWRFbGVtcyA9IFtdO1xuICBsZXQgdG9nZ2xlID0gWydub25lJywgJ2Jsb2NrJ107XG5cbiAgaWYgKHNob3cpIHtcbiAgICB0b2dnbGUgPSB0b2dnbGUucmV2ZXJzZSgpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IGVsZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IHR4dCA9IGVsZW1zW2ldLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHR4dC5pbmRleE9mKHRlcm0udG9Mb3dlckNhc2UoKSkgIT09IC0xKSB7XG4gICAgICBlbGVtc1tpXS5zdHlsZS5kaXNwbGF5ID0gdG9nZ2xlWzBdO1xuICAgICAgZmlsdGVyZWRFbGVtcy5wdXNoKGVsZW1zW2ldKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbXNbaV0uc3R5bGUuZGlzcGxheSA9IHRvZ2dsZVsxXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmlsdGVyZWRFbGVtcztcbn07XG5cbmV4cG9ydCBjb25zdCBvcHRpb25GaWVsZHMgPSBbXG4gICAgICAnc2VsZWN0JyxcbiAgICAgICdjaGVja2JveC1ncm91cCcsXG4gICAgICAnY2hlY2tib3gnLFxuICAgICAgJ3JhZGlvLWdyb3VwJyxcbiAgICAgICdhdXRvY29tcGxldGUnXG4gICAgXTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvbkZpZWxkc1JlZ0V4ID0gbmV3IFJlZ0V4cChgKCR7b3B0aW9uRmllbGRzLmpvaW4oJ3wnKX0pYCk7XG4vKipcbiAqIERvbSBjbGFzcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9tIHtcbiAgLyoqXG4gICAqIFNldCBkZWZhdWx0c1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZvcm1JRCBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge09iamVjdH0gRG9tIEluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihmb3JtSUQpIHtcbiAgICB0aGlzLm9wdGlvbkZpZWxkcyA9IG9wdGlvbkZpZWxkcztcbiAgICB0aGlzLm9wdGlvbkZpZWxkc1JlZ0V4ID0gb3B0aW9uRmllbGRzUmVnRXg7XG5cbiAgICB0aGlzLnN1YnR5cGVzID0gZGVmYXVsdFN1YnR5cGVzO1xuXG4gICAgLyoqXG4gICAgICogVXRpbCB0byByZW1vdmUgY29udGVudHMgb2YgRE9NIE9iamVjdFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gZWxlbWVudCB3aXRoIGl0cyBjaGlsZHJlbiByZW1vdmVkXG4gICAgICovXG4gICAgdGhpcy5lbXB0eSA9IGVtcHR5O1xuXG4gICAgLyoqXG4gICAgICogSGlkZSBvciBzaG93IGFuIEFycmF5IG9yIEhUTUxDb2xsZWN0aW9uIG9mIGVsZW1lbnRzXG4gICAgICogQHBhcmFtICB7QXJyYXl9ICAgZWxlbXNcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICB0ZXJtICBtYXRjaCB0ZXh0Q29udGVudCB0byB0aGlzIHRlcm1cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBzaG93ICBvciBoaWRlIGVsZW1lbnRzXG4gICAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgZmlsdGVyZWQgZWxlbWVudHNcbiAgICAgKi9cbiAgICB0aGlzLmZpbHRlciA9IGZpbHRlcjtcblxuICAgIGluc3RhbmNlRG9tW2Zvcm1JRF0gPSB0aGlzO1xuICAgIHJldHVybiBpbnN0YW5jZURvbVtmb3JtSURdO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2RvbS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUdBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0JBIiwic291cmNlUm9vdCI6IiJ9')},/***/51:/* no static exports found *//* all exports used *//*!**********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/config.js ***!
  \**********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nvar defaultOptions = exports.defaultOptions = {\n  controlPosition: \'right\',\n  append: false,\n  actionButtons: [],\n  controlOrder: [\'autocomplete\', \'button\', \'checkbox\', \'checkbox-group\', \'date\', \'file\', \'header\', \'hidden\', \'paragraph\', \'number\', \'radio-group\', \'select\', \'text\', \'textarea\'],\n  dataType: \'json\',\n\n  disableFields: [],\n  disabledAttrs: [],\n  disabledActionButtons: [],\n  editOnAdd: false,\n\n  defaultFields: [],\n  fields: [],\n  fieldRemoveWarn: false,\n  inputSets: [],\n  roles: {\n    1: \'Administrator\'\n  },\n  notify: {\n    error: function error(message) {\n      return console.error(message);\n    },\n    success: function success(message) {\n      return console.log(message);\n    },\n    warning: function warning(message) {\n      return console.warn(message);\n    }\n  },\n  onSave: function onSave(evt, formData) {\n    return null;\n  },\n  onClearAll: function onClearAll() {\n    return null;\n  },\n  prepend: false,\n  sortableControls: false,\n  stickyControls: {\n    enable: true,\n    offset: {\n      top: 5,\n      bottom: \'auto\',\n      right: \'auto\'\n    }\n  },\n  templates: {},\n  showActionButtons: true,\n  typeUserDisabledAttrs: {},\n  typeUserAttrs: {},\n  typeUserEvents: {},\n  prefix: \'form-builder-\'\n};\n\nvar styles = exports.styles = {\n  btn: [\'default\', \'danger\', \'info\', \'primary\', \'success\', \'warning\']\n};\n\nvar defaultI18n = exports.defaultI18n = {\n  location: \'https://formbuilder.online/assets/lang/\',\n  langs: [\'en-US\'],\n  preloaded: {\n    \'en-US\': {\n      addOption: \'Add Option +\',\n      allFieldsRemoved: \'All fields were removed.\',\n      allowMultipleFiles: \'Allow users to upload multiple files\',\n      autocomplete: \'Autocomplete\',\n      button: \'Button\',\n      cannotBeEmpty: \'This field cannot be empty\',\n      checkboxGroup: \'Checkbox Group\',\n      checkbox: \'Checkbox\',\n      checkboxes: \'Checkboxes\',\n      className: \'Class\',\n      clearAllMessage: \'Are you sure you want to clear all fields?\',\n      clear: \'Clear\',\n      close: \'Close\',\n      content: \'Content\',\n      copy: \'Copy To Clipboard\',\n      copyButton: \'&#43;\',\n      copyButtonTooltip: \'Copy\',\n      dateField: \'Date Field\',\n      description: \'Help Text\',\n      descriptionField: \'Description\',\n      devMode: \'Developer Mode\',\n      editNames: \'Edit Names\',\n      editorTitle: \'Form Elements\',\n      editXML: \'Edit XML\',\n      enableOther: \'Enable &quot;Other&quot;\',\n      enableOtherMsg: \'Let users to enter an unlisted option\',\n      fieldNonEditable: \'This field cannot be edited.\',\n      fieldRemoveWarning: \'Are you sure you want to remove this field?\',\n      fileUpload: \'File Upload\',\n      formUpdated: \'Form Updated\',\n      getStarted: \'Drag a field from the right to this area\',\n      header: \'Header\',\n      hide: \'Edit\',\n      hidden: \'Hidden Input\',\n      inline: \'Inline\',\n      inlineDesc: \'Display {type} inline\',\n      label: \'Label\',\n      labelEmpty: \'Field Label cannot be empty\',\n      limitRole: \'Limit access to one or more of the following roles:\',\n      mandatory: \'Mandatory\',\n      maxlength: \'Max Length\',\n      minOptionMessage: \'This field requires a minimum of 2 options\',\n      minSelectionRequired: \'Minimum {min} selections required\',\n      multipleFiles: \'Multiple Files\',\n      name: \'Name\',\n      no: \'No\',\n      noFieldsToClear: \'There are no fields to clear\',\n      number: \'Number\',\n      off: \'Off\',\n      on: \'On\',\n      option: \'Option\',\n      options: \'Options\',\n      optional: \'optional\',\n      optionLabelPlaceholder: \'Label\',\n      optionValuePlaceholder: \'Value\',\n      optionEmpty: \'Option value required\',\n      other: \'Other\',\n      paragraph: \'Paragraph\',\n      placeholder: \'Placeholder\',\n      \'placeholder.value\': \'Value\',\n      \'placeholder.label\': \'Label\',\n      \'placeholder.text\': \'\',\n      \'placeholder.textarea\': \'\',\n      \'placeholder.email\': \'Enter you email\',\n      \'placeholder.placeholder\': \'\',\n      \'placeholder.className\': \'space separated classes\',\n      \'placeholder.password\': \'Enter your password\',\n      preview: \'Preview\',\n      radioGroup: \'Radio Group\',\n      radio: \'Radio\',\n      removeMessage: \'Remove Element\',\n      removeOption: \'Remove Option\',\n      remove: \'&#215;\',\n      required: \'Required\',\n      richText: \'Rich Text Editor\',\n      roles: \'Access\',\n      rows: \'Rows\',\n      save: \'Save\',\n      selectOptions: \'Options\',\n      select: \'Select\',\n      selectColor: \'Select Color\',\n      selectionsMessage: \'Allow Multiple Selections\',\n      size: \'Size\',\n      \'size.xs\': \'Extra Small\',\n      \'size.sm\': \'Small\',\n      \'size.m\': \'Default\',\n      \'size.lg\': \'Large\',\n      style: \'Style\',\n      \'styles.btn.default\': \'Default\',\n      \'styles.btn.danger\': \'Danger\',\n      \'styles.btn.info\': \'Info\',\n      \'styles.btn.primary\': \'Primary\',\n      \'styles.btn.success\': \'Success\',\n      \'styles.btn.warning\': \'Warning\',\n      subtype: \'Type\',\n      text: \'Text Field\',\n      textArea: \'Text Area\',\n      toggle: \'Toggle\',\n      warning: \'Warning!\',\n      value: \'Value\',\n      viewJSON: \'{  }\',\n      viewXML: \'&lt;/&gt;\',\n      yes: \'Yes\'\n    }\n  }\n};\n\nvar config = exports.config = {};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbmZpZy5qcz8wNzFhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgY29udHJvbFBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgYXBwZW5kOiBmYWxzZSxcbiAgICAgIGFjdGlvbkJ1dHRvbnM6IFtdLFxuICAgICAgY29udHJvbE9yZGVyOiBbXG4gICAgICAgICdhdXRvY29tcGxldGUnLFxuICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgJ2NoZWNrYm94JyxcbiAgICAgICAgJ2NoZWNrYm94LWdyb3VwJyxcbiAgICAgICAgJ2RhdGUnLFxuICAgICAgICAnZmlsZScsXG4gICAgICAgICdoZWFkZXInLFxuICAgICAgICAnaGlkZGVuJyxcbiAgICAgICAgJ3BhcmFncmFwaCcsXG4gICAgICAgICdudW1iZXInLFxuICAgICAgICAncmFkaW8tZ3JvdXAnLFxuICAgICAgICAnc2VsZWN0JyxcbiAgICAgICAgJ3RleHQnLFxuICAgICAgICAndGV4dGFyZWEnXG4gICAgICBdLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIC8vIEFycmF5IG9mIGZpZWxkcyB0byBkaXNhYmxlXG4gICAgICBkaXNhYmxlRmllbGRzOiBbXSxcbiAgICAgIGRpc2FibGVkQXR0cnM6IFtdLFxuICAgICAgZGlzYWJsZWRBY3Rpb25CdXR0b25zOiBbXSxcbiAgICAgIGVkaXRPbkFkZDogZmFsc2UsXG4gICAgICAvLyBVbmVkaXRhYmxlIGZpZWxkcyBvciBvdGhlciBjb250ZW50IHlvdSB3b3VsZCBsaWtlIHRvIGFwcGVhclxuICAgICAgLy8gYmVmb3JlIGFuZCBhZnRlciByZWd1bGFyIGZpZWxkczpcbiAgICAgIC8vIGFycmF5IG9mIG9iamVjdHMgd2l0aCBmaWVsZHMgdmFsdWVzXG4gICAgICAvLyBleDpcbiAgICAgIC8vIGRlZmF1bHRGaWVsZHM6IFt7XG4gICAgICAvLyAgIGxhYmVsOiAnRmlyc3QgTmFtZScsXG4gICAgICAvLyAgIG5hbWU6ICdmaXJzdC1uYW1lJyxcbiAgICAgIC8vICAgcmVxdWlyZWQ6ICd0cnVlJyxcbiAgICAgIC8vICAgZGVzY3JpcHRpb246ICdZb3VyIGZpcnN0IG5hbWUnLFxuICAgICAgLy8gICB0eXBlOiAndGV4dCdcbiAgICAgIC8vIH0sIHtcbiAgICAgIC8vICAgbGFiZWw6ICdQaG9uZScsXG4gICAgICAvLyAgIG5hbWU6ICdwaG9uZScsXG4gICAgICAvLyAgIGRlc2NyaXB0aW9uOiAnSG93IGNhbiB3ZSByZWFjaCB5b3U/JyxcbiAgICAgIC8vICAgdHlwZTogJ3RleHQnXG4gICAgICAvLyB9XSxcbiAgICAgIGRlZmF1bHRGaWVsZHM6IFtdLFxuICAgICAgZmllbGRzOiBbXSxcbiAgICAgIGZpZWxkUmVtb3ZlV2FybjogZmFsc2UsXG4gICAgICBpbnB1dFNldHM6IFtdLFxuICAgICAgcm9sZXM6IHtcbiAgICAgICAgMTogJ0FkbWluaXN0cmF0b3InXG4gICAgICB9LFxuICAgICAgbm90aWZ5OiB7XG4gICAgICAgIGVycm9yOiBtZXNzYWdlID0+IGNvbnNvbGUuZXJyb3IobWVzc2FnZSksXG4gICAgICAgIHN1Y2Nlc3M6IG1lc3NhZ2UgPT4gY29uc29sZS5sb2cobWVzc2FnZSksXG4gICAgICAgIHdhcm5pbmc6IG1lc3NhZ2UgPT4gY29uc29sZS53YXJuKG1lc3NhZ2UpXG4gICAgICB9LFxuICAgICAgb25TYXZlOiAoZXZ0LCBmb3JtRGF0YSkgPT4gbnVsbCxcbiAgICAgIG9uQ2xlYXJBbGw6ICgpID0+IG51bGwsXG4gICAgICBwcmVwZW5kOiBmYWxzZSxcbiAgICAgIHNvcnRhYmxlQ29udHJvbHM6IGZhbHNlLFxuICAgICAgc3RpY2t5Q29udHJvbHM6IHtcbiAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgYm90dG9tOiAnYXV0bycsXG4gICAgICAgICAgcmlnaHQ6ICdhdXRvJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGVtcGxhdGVzOiB7fSxcbiAgICAgIHNob3dBY3Rpb25CdXR0b25zOiB0cnVlLFxuICAgICAgdHlwZVVzZXJEaXNhYmxlZEF0dHJzOiB7fSxcbiAgICAgIHR5cGVVc2VyQXR0cnM6IHt9LFxuICAgICAgdHlwZVVzZXJFdmVudHM6IHt9LFxuICAgICAgcHJlZml4OiAnZm9ybS1idWlsZGVyLSdcbiAgICB9O1xuXG5cbmV4cG9ydCBjb25zdCBzdHlsZXMgPSB7XG4gIGJ0bjogW1xuICAgICdkZWZhdWx0JyxcbiAgICAnZGFuZ2VyJyxcbiAgICAnaW5mbycsXG4gICAgJ3ByaW1hcnknLFxuICAgICdzdWNjZXNzJyxcbiAgICAnd2FybmluZydcbiAgXVxufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRJMThuID0ge1xuICAgICAgbG9jYXRpb246ICdodHRwczovL2Zvcm1idWlsZGVyLm9ubGluZS9hc3NldHMvbGFuZy8nLFxuICAgICAgbGFuZ3M6IFtcbiAgICAgICAgJ2VuLVVTJ1xuICAgICAgXSxcbiAgICAgIHByZWxvYWRlZDoge1xuICAgICAgICAnZW4tVVMnOiB7XG4gICAgICAgICAgYWRkT3B0aW9uOiAnQWRkIE9wdGlvbiArJyxcbiAgICAgICAgICBhbGxGaWVsZHNSZW1vdmVkOiAnQWxsIGZpZWxkcyB3ZXJlIHJlbW92ZWQuJyxcbiAgICAgICAgICBhbGxvd011bHRpcGxlRmlsZXM6ICdBbGxvdyB1c2VycyB0byB1cGxvYWQgbXVsdGlwbGUgZmlsZXMnLFxuICAgICAgICAgIGF1dG9jb21wbGV0ZTogJ0F1dG9jb21wbGV0ZScsXG4gICAgICAgICAgYnV0dG9uOiAnQnV0dG9uJyxcbiAgICAgICAgICBjYW5ub3RCZUVtcHR5OiAnVGhpcyBmaWVsZCBjYW5ub3QgYmUgZW1wdHknLFxuICAgICAgICAgIGNoZWNrYm94R3JvdXA6ICdDaGVja2JveCBHcm91cCcsXG4gICAgICAgICAgY2hlY2tib3g6ICdDaGVja2JveCcsXG4gICAgICAgICAgY2hlY2tib3hlczogJ0NoZWNrYm94ZXMnLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ0NsYXNzJyxcbiAgICAgICAgICBjbGVhckFsbE1lc3NhZ2U6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgYWxsIGZpZWxkcz8nLFxuICAgICAgICAgIGNsZWFyOiAnQ2xlYXInLFxuICAgICAgICAgIGNsb3NlOiAnQ2xvc2UnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdDb250ZW50JyxcbiAgICAgICAgICBjb3B5OiAnQ29weSBUbyBDbGlwYm9hcmQnLFxuICAgICAgICAgIGNvcHlCdXR0b246ICcmIzQzOycsXG4gICAgICAgICAgY29weUJ1dHRvblRvb2x0aXA6ICdDb3B5JyxcbiAgICAgICAgICBkYXRlRmllbGQ6ICdEYXRlIEZpZWxkJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0hlbHAgVGV4dCcsXG4gICAgICAgICAgZGVzY3JpcHRpb25GaWVsZDogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgICAgICBkZXZNb2RlOiAnRGV2ZWxvcGVyIE1vZGUnLFxuICAgICAgICAgIGVkaXROYW1lczogJ0VkaXQgTmFtZXMnLFxuICAgICAgICAgIGVkaXRvclRpdGxlOiAnRm9ybSBFbGVtZW50cycsXG4gICAgICAgICAgZWRpdFhNTDogJ0VkaXQgWE1MJyxcbiAgICAgICAgICBlbmFibGVPdGhlcjogJ0VuYWJsZSAmcXVvdDtPdGhlciZxdW90OycsXG4gICAgICAgICAgZW5hYmxlT3RoZXJNc2c6ICdMZXQgdXNlcnMgdG8gZW50ZXIgYW4gdW5saXN0ZWQgb3B0aW9uJyxcbiAgICAgICAgICBmaWVsZE5vbkVkaXRhYmxlOiAnVGhpcyBmaWVsZCBjYW5ub3QgYmUgZWRpdGVkLicsXG4gICAgICAgICAgZmllbGRSZW1vdmVXYXJuaW5nOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIGZpZWxkPycsXG4gICAgICAgICAgZmlsZVVwbG9hZDogJ0ZpbGUgVXBsb2FkJyxcbiAgICAgICAgICBmb3JtVXBkYXRlZDogJ0Zvcm0gVXBkYXRlZCcsXG4gICAgICAgICAgZ2V0U3RhcnRlZDogJ0RyYWcgYSBmaWVsZCBmcm9tIHRoZSByaWdodCB0byB0aGlzIGFyZWEnLFxuICAgICAgICAgIGhlYWRlcjogJ0hlYWRlcicsXG4gICAgICAgICAgaGlkZTogJ0VkaXQnLFxuICAgICAgICAgIGhpZGRlbjogJ0hpZGRlbiBJbnB1dCcsXG4gICAgICAgICAgaW5saW5lOiAnSW5saW5lJyxcbiAgICAgICAgICBpbmxpbmVEZXNjOiAnRGlzcGxheSB7dHlwZX0gaW5saW5lJyxcbiAgICAgICAgICBsYWJlbDogJ0xhYmVsJyxcbiAgICAgICAgICBsYWJlbEVtcHR5OiAnRmllbGQgTGFiZWwgY2Fubm90IGJlIGVtcHR5JyxcbiAgICAgICAgICBsaW1pdFJvbGU6ICdMaW1pdCBhY2Nlc3MgdG8gb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyByb2xlczonLFxuICAgICAgICAgIG1hbmRhdG9yeTogJ01hbmRhdG9yeScsXG4gICAgICAgICAgbWF4bGVuZ3RoOiAnTWF4IExlbmd0aCcsXG4gICAgICAgICAgbWluT3B0aW9uTWVzc2FnZTogJ1RoaXMgZmllbGQgcmVxdWlyZXMgYSBtaW5pbXVtIG9mIDIgb3B0aW9ucycsXG4gICAgICAgICAgbWluU2VsZWN0aW9uUmVxdWlyZWQ6ICdNaW5pbXVtIHttaW59IHNlbGVjdGlvbnMgcmVxdWlyZWQnLFxuICAgICAgICAgIG11bHRpcGxlRmlsZXM6ICdNdWx0aXBsZSBGaWxlcycsXG4gICAgICAgICAgbmFtZTogJ05hbWUnLFxuICAgICAgICAgIG5vOiAnTm8nLFxuICAgICAgICAgIG5vRmllbGRzVG9DbGVhcjogJ1RoZXJlIGFyZSBubyBmaWVsZHMgdG8gY2xlYXInLFxuICAgICAgICAgIG51bWJlcjogJ051bWJlcicsXG4gICAgICAgICAgb2ZmOiAnT2ZmJyxcbiAgICAgICAgICBvbjogJ09uJyxcbiAgICAgICAgICBvcHRpb246ICdPcHRpb24nLFxuICAgICAgICAgIG9wdGlvbnM6ICdPcHRpb25zJyxcbiAgICAgICAgICBvcHRpb25hbDogJ29wdGlvbmFsJyxcbiAgICAgICAgICBvcHRpb25MYWJlbFBsYWNlaG9sZGVyOiAnTGFiZWwnLFxuICAgICAgICAgIG9wdGlvblZhbHVlUGxhY2Vob2xkZXI6ICdWYWx1ZScsXG4gICAgICAgICAgb3B0aW9uRW1wdHk6ICdPcHRpb24gdmFsdWUgcmVxdWlyZWQnLFxuICAgICAgICAgIG90aGVyOiAnT3RoZXInLFxuICAgICAgICAgIHBhcmFncmFwaDogJ1BhcmFncmFwaCcsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6ICdQbGFjZWhvbGRlcicsXG4gICAgICAgICAgJ3BsYWNlaG9sZGVyLnZhbHVlJzogJ1ZhbHVlJyxcbiAgICAgICAgICAncGxhY2Vob2xkZXIubGFiZWwnOiAnTGFiZWwnLFxuICAgICAgICAgICdwbGFjZWhvbGRlci50ZXh0JzogJycsXG4gICAgICAgICAgJ3BsYWNlaG9sZGVyLnRleHRhcmVhJzogJycsXG4gICAgICAgICAgJ3BsYWNlaG9sZGVyLmVtYWlsJzogJ0VudGVyIHlvdSBlbWFpbCcsXG4gICAgICAgICAgJ3BsYWNlaG9sZGVyLnBsYWNlaG9sZGVyJzogJycsXG4gICAgICAgICAgJ3BsYWNlaG9sZGVyLmNsYXNzTmFtZSc6ICdzcGFjZSBzZXBhcmF0ZWQgY2xhc3NlcycsXG4gICAgICAgICAgJ3BsYWNlaG9sZGVyLnBhc3N3b3JkJzogJ0VudGVyIHlvdXIgcGFzc3dvcmQnLFxuICAgICAgICAgIHByZXZpZXc6ICdQcmV2aWV3JyxcbiAgICAgICAgICByYWRpb0dyb3VwOiAnUmFkaW8gR3JvdXAnLFxuICAgICAgICAgIHJhZGlvOiAnUmFkaW8nLFxuICAgICAgICAgIHJlbW92ZU1lc3NhZ2U6ICdSZW1vdmUgRWxlbWVudCcsXG4gICAgICAgICAgcmVtb3ZlT3B0aW9uOiAnUmVtb3ZlIE9wdGlvbicsXG4gICAgICAgICAgcmVtb3ZlOiAnJiMyMTU7JyxcbiAgICAgICAgICByZXF1aXJlZDogJ1JlcXVpcmVkJyxcbiAgICAgICAgICByaWNoVGV4dDogJ1JpY2ggVGV4dCBFZGl0b3InLFxuICAgICAgICAgIHJvbGVzOiAnQWNjZXNzJyxcbiAgICAgICAgICByb3dzOiAnUm93cycsXG4gICAgICAgICAgc2F2ZTogJ1NhdmUnLFxuICAgICAgICAgIHNlbGVjdE9wdGlvbnM6ICdPcHRpb25zJyxcbiAgICAgICAgICBzZWxlY3Q6ICdTZWxlY3QnLFxuICAgICAgICAgIHNlbGVjdENvbG9yOiAnU2VsZWN0IENvbG9yJyxcbiAgICAgICAgICBzZWxlY3Rpb25zTWVzc2FnZTogJ0FsbG93IE11bHRpcGxlIFNlbGVjdGlvbnMnLFxuICAgICAgICAgIHNpemU6ICdTaXplJyxcbiAgICAgICAgICAnc2l6ZS54cyc6ICdFeHRyYSBTbWFsbCcsXG4gICAgICAgICAgJ3NpemUuc20nOiAnU21hbGwnLFxuICAgICAgICAgICdzaXplLm0nOiAnRGVmYXVsdCcsXG4gICAgICAgICAgJ3NpemUubGcnOiAnTGFyZ2UnLFxuICAgICAgICAgIHN0eWxlOiAnU3R5bGUnLFxuICAgICAgICAgICdzdHlsZXMuYnRuLmRlZmF1bHQnOiAnRGVmYXVsdCcsXG4gICAgICAgICAgJ3N0eWxlcy5idG4uZGFuZ2VyJzogJ0RhbmdlcicsXG4gICAgICAgICAgJ3N0eWxlcy5idG4uaW5mbyc6ICdJbmZvJyxcbiAgICAgICAgICAnc3R5bGVzLmJ0bi5wcmltYXJ5JzogJ1ByaW1hcnknLFxuICAgICAgICAgICdzdHlsZXMuYnRuLnN1Y2Nlc3MnOiAnU3VjY2VzcycsXG4gICAgICAgICAgJ3N0eWxlcy5idG4ud2FybmluZyc6ICdXYXJuaW5nJyxcbiAgICAgICAgICBzdWJ0eXBlOiAnVHlwZScsXG4gICAgICAgICAgdGV4dDogJ1RleHQgRmllbGQnLFxuICAgICAgICAgIHRleHRBcmVhOiAnVGV4dCBBcmVhJyxcbiAgICAgICAgICB0b2dnbGU6ICdUb2dnbGUnLFxuICAgICAgICAgIHdhcm5pbmc6ICdXYXJuaW5nIScsXG4gICAgICAgICAgdmFsdWU6ICdWYWx1ZScsXG4gICAgICAgICAgdmlld0pTT046ICd7ICB9JyxcbiAgICAgICAgICB2aWV3WE1MOiAnJmx0Oy8mZ3Q7JyxcbiAgICAgICAgICB5ZXM6ICdZZXMnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge307XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbmZpZy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUZBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkVBO0FBQ0E7QUEwRUE7QUFDQTtBQURBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF2R0E7QUFEQTtBQUxBO0FBQ0E7QUFpSEEiLCJzb3VyY2VSb290IjoiIn0=')},/***/52:/* no static exports found *//* all exports used *//*!**********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/events.js ***!
  \**********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction createNewEvent(eventName) {\n  var event = void 0;\n  if (typeof Event === \'function\') {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\'Event\');\n    event.initEvent(eventName, true, true);\n  }\n\n  return event;\n}\n\nvar events = {\n  loaded: createNewEvent(\'loaded\'),\n  viewData: createNewEvent(\'viewData\'),\n  userDeclined: createNewEvent(\'userDeclined\'),\n  modalClosed: createNewEvent(\'modalClosed\'),\n  modalOpened: createNewEvent(\'modalOpened\'),\n  formSaved: createNewEvent(\'formSaved\'),\n  fieldAdded: createNewEvent(\'fieldAdded\'),\n  fieldRemoved: createNewEvent(\'fieldRemoved\'),\n  fieldRendered: createNewEvent(\'fieldRendered\')\n};\n\nexports.default = events;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2V2ZW50cy5qcz84OTAxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRm9ybSBCdWlsZGVyIGV2ZW50c1xuICogQHJldHVybiB7T2JqZWN0fSB2YXJpb3VzIGV2ZW50cyB0byBiZSB0cmlnZ2VyXG4gKi9cblxuLyoqXG4gKiBXcmFwcGVyIHRvIGRlYWwgd2l0aCBpZTExXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lXG4gKiBAcmV0dXJuIHtFdmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTmV3RXZlbnQoZXZlbnROYW1lKSB7XG4gIGxldCBldmVudDtcbiAgaWYgKHR5cGVvZiBFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50ID0gbmV3IEV2ZW50KGV2ZW50TmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldmVudC5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCB0cnVlKTtcbiAgfVxuXG4gIHJldHVybiBldmVudDtcbn1cblxuY29uc3QgZXZlbnRzID0ge1xuICBsb2FkZWQ6IGNyZWF0ZU5ld0V2ZW50KCdsb2FkZWQnKSxcbiAgdmlld0RhdGE6IGNyZWF0ZU5ld0V2ZW50KCd2aWV3RGF0YScpLFxuICB1c2VyRGVjbGluZWQ6IGNyZWF0ZU5ld0V2ZW50KCd1c2VyRGVjbGluZWQnKSxcbiAgbW9kYWxDbG9zZWQ6IGNyZWF0ZU5ld0V2ZW50KCdtb2RhbENsb3NlZCcpLFxuICBtb2RhbE9wZW5lZDogY3JlYXRlTmV3RXZlbnQoJ21vZGFsT3BlbmVkJyksXG4gIGZvcm1TYXZlZDogY3JlYXRlTmV3RXZlbnQoJ2Zvcm1TYXZlZCcpLFxuICBmaWVsZEFkZGVkOiBjcmVhdGVOZXdFdmVudCgnZmllbGRBZGRlZCcpLFxuICBmaWVsZFJlbW92ZWQ6IGNyZWF0ZU5ld0V2ZW50KCdmaWVsZFJlbW92ZWQnKSxcbiAgZmllbGRSZW5kZXJlZDogY3JlYXRlTmV3RXZlbnQoJ2ZpZWxkUmVuZGVyZWQnKVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZXZlbnRzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9ldmVudHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVEE7QUFDQTtBQVdBIiwic291cmNlUm9vdCI6IiJ9')},/***/53:/* no static exports found *//* all exports used *//*!****************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/text.js ***!
  \****************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlText = function (_control) {\n  _inherits(controlText, _control);\n\n  function controlText() {\n    _classCallCheck(this, controlText);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlText.prototype.build = function build() {\n    return this.markup(\'input\', null, this.config);\n  };\n\n  _createClass(controlText, null, [{\n    key: \'definition\',\n    get: function get() {\n      return {\n        mi18n: {\n          date: \'dateField\',\n          file: \'fileUpload\'\n        }\n      };\n    }\n  }]);\n\n  return controlText;\n}(_control3.default);\n\nexports.default = controlText;\n\n_control3.default.register([\'text\', \'file\', \'date\', \'number\'], controlText);\n_control3.default.register([\'text\', \'password\', \'email\', \'color\', \'tel\'], controlText, \'text\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvdGV4dC5qcz82YWI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb250cm9sIGZyb20gJy4uL2NvbnRyb2wnO1xuXG4vKipcbiAqIFRleHQgaW5wdXQgY2xhc3NcbiAqIE91dHB1dCBhIDxpbnB1dCB0eXBlPVwidGV4dFwiIC4uLiAvPiBmb3JtIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgY29udHJvbFRleHQgZXh0ZW5kcyBjb250cm9sIHtcblxuICAvKipcbiAgICogY2xhc3MgY29uZmlndXJhdGlvblxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZpbml0aW9uKCkge1xuICAgIHJldHVybiB7XG5cbiAgICAgIC8vIG1pMThuIGN1c3RvbSBtYXBwaW5ncyAoZGVmYXVsdHMgdG8gY2FtZWxDYXNlIHR5cGUpXG4gICAgICBtaTE4bjoge1xuICAgICAgICBkYXRlOiAnZGF0ZUZpZWxkJyxcbiAgICAgICAgZmlsZTogJ2ZpbGVVcGxvYWQnXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBidWlsZCBhIHRleHQgRE9NIGVsZW1lbnQsIHN1cHBvcnRpbmcgb3RoZXIganF1ZXJ5IHRleHQgZm9ybS1jb250cm9sJ3NcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gRWxlbWVudCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmb3JtLlxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFya3VwKCdpbnB1dCcsIG51bGwsIHRoaXMuY29uZmlnKTtcbiAgfVxufVxuXG4vLyByZWdpc3RlciB0aGlzIGNvbnRyb2wgZm9yIHRoZSBmb2xsb3dpbmcgdHlwZXMgJiB0ZXh0IHN1YnR5cGVzXG5jb250cm9sLnJlZ2lzdGVyKFsndGV4dCcsICdmaWxlJywgJ2RhdGUnLCAnbnVtYmVyJ10sIGNvbnRyb2xUZXh0KTtcbmNvbnRyb2wucmVnaXN0ZXIoWyd0ZXh0JywgJ3Bhc3N3b3JkJywgJ2VtYWlsJywgJ2NvbG9yJywgJ3RlbCddLCBjb250cm9sVGV4dCwgJ3RleHQnKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29udHJvbC90ZXh0LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBS0E7Ozs7Ozs7OztBQW9CQTtBQUNBO0FBQ0E7QUFDQTs7O0FBbEJBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBUUE7Ozs7OztBQWRBO0FBQ0E7QUF5QkE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/57:/* no static exports found *//* all exports used *//*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************//***/function(module,exports){eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==')},/***/58:/* no static exports found *//* all exports used *//*!*****************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/index.js ***!
  \*****************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _autocomplete = __webpack_require__(/*! ./autocomplete */ 72);\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _button = __webpack_require__(/*! ./button */ 73);\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _custom = __webpack_require__(/*! ./custom */ 34);\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nvar _hidden = __webpack_require__(/*! ./hidden */ 75);\n\nvar _hidden2 = _interopRequireDefault(_hidden);\n\nvar _paragraph = __webpack_require__(/*! ./paragraph */ 76);\n\nvar _paragraph2 = _interopRequireDefault(_paragraph);\n\nvar _select = __webpack_require__(/*! ./select */ 77);\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _text = __webpack_require__(/*! ./text */ 53);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _file = __webpack_require__(/*! ./file.fineuploader */ 74);\n\nvar _file2 = _interopRequireDefault(_file);\n\nvar _textarea = __webpack_require__(/*! ./textarea */ 35);\n\nvar _textarea2 = _interopRequireDefault(_textarea);\n\nvar _textarea3 = __webpack_require__(/*! ./textarea.tinymce */ 79);\n\nvar _textarea4 = _interopRequireDefault(_textarea3);\n\nvar _textarea5 = __webpack_require__(/*! ./textarea.quill */ 78);\n\nvar _textarea6 = _interopRequireDefault(_textarea5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  controlAutocomplete: _autocomplete2.default,\n  controlButton: _button2.default,\n  controlCustom: _custom2.default,\n  controlHidden: _hidden2.default,\n  controlParagraph: _paragraph2.default,\n  controlSelect: _select2.default,\n  controlText: _text2.default,\n  controlFineUploader: _file2.default,\n  controlTextarea: _textarea2.default,\n  controlTinymce: _textarea4.default,\n  controlQuill: _textarea6.default\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvaW5kZXguanM/ODNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29udHJvbEF1dG9jb21wbGV0ZSBmcm9tICcuL2F1dG9jb21wbGV0ZSc7XG5pbXBvcnQgY29udHJvbEJ1dHRvbiBmcm9tICcuL2J1dHRvbic7XG5pbXBvcnQgY29udHJvbEN1c3RvbSBmcm9tICcuL2N1c3RvbSc7XG5pbXBvcnQgY29udHJvbEhpZGRlbiBmcm9tICcuL2hpZGRlbic7XG5pbXBvcnQgY29udHJvbFBhcmFncmFwaCBmcm9tICcuL3BhcmFncmFwaCc7XG5pbXBvcnQgY29udHJvbFNlbGVjdCBmcm9tICcuL3NlbGVjdCc7XG5pbXBvcnQgY29udHJvbFRleHQgZnJvbSAnLi90ZXh0JztcbmltcG9ydCBjb250cm9sRmluZVVwbG9hZGVyIGZyb20gJy4vZmlsZS5maW5ldXBsb2FkZXInO1xuaW1wb3J0IGNvbnRyb2xUZXh0YXJlYSBmcm9tICcuL3RleHRhcmVhJztcbmltcG9ydCBjb250cm9sVGlueW1jZSBmcm9tICcuL3RleHRhcmVhLnRpbnltY2UnO1xuaW1wb3J0IGNvbnRyb2xRdWlsbCBmcm9tICcuL3RleHRhcmVhLnF1aWxsJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb250cm9sQXV0b2NvbXBsZXRlLFxuICBjb250cm9sQnV0dG9uLFxuICBjb250cm9sQ3VzdG9tLFxuICBjb250cm9sSGlkZGVuLFxuICBjb250cm9sUGFyYWdyYXBoLFxuICBjb250cm9sU2VsZWN0LFxuICBjb250cm9sVGV4dCxcbiAgY29udHJvbEZpbmVVcGxvYWRlcixcbiAgY29udHJvbFRleHRhcmVhLFxuICBjb250cm9sVGlueW1jZSxcbiAgY29udHJvbFF1aWxsXG59O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbnRyb2wvaW5kZXguanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEEiLCJzb3VyY2VSb290IjoiIn0=')},/***/59:/* no static exports found *//* all exports used *//*!**********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/layout.js ***!
  \**********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _utils = __webpack_require__(/*! ./utils */ 19);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar layout = function () {\n  function layout(templates, preview) {\n    var _this = this;\n\n    _classCallCheck(this, layout);\n\n    this.preview = preview;\n\n    this.templates = {\n      label: null,\n      help: null,\n      default: function _default(field, label, help, data) {\n        if (help) {\n          label.append(help);\n        }\n\n        var className = data.id ? \'fb-\' + data.type + \' form-group field-\' + data.id : \'\';\n        return _this.markup(\'div\', [label, field], {\n          className: className\n        });\n      },\n      noLabel: function noLabel(field, label, help, data) {\n        var className = data.id ? \'fb-\' + data.type + \' form-group field-\' + data.id : \'\';\n        return _this.markup(\'div\', field, {\n          className: className\n        });\n      },\n      hidden: function hidden(field, label, help, data) {\n        return field;\n      }\n    };\n\n    if (templates) {\n      this.templates = $.extend(this.templates, templates);\n    }\n    this.configure();\n  }\n\n  layout.prototype.configure = function configure() {};\n\n  layout.prototype.build = function build(renderControl, data, forceTemplate) {\n    if (this.preview) {\n      if (data.name) {\n        data.name = data.name + \'-preview\';\n      } else {\n        data.name = _utils2.default.nameAttr(data) + \'-preview\';\n      }\n    }\n    data.id = data.name;\n    this.data = $.extend({}, data);\n\n    var control = new renderControl(data, this.preview);\n    var field = control.build();\n    if ((typeof field === \'undefined\' ? \'undefined\' : _typeof(field)) !== \'object\' || !field.field) {\n      field = { field: field };\n    }\n\n    var label = this.label();\n    var help = this.help();\n\n    var elementTemplate = void 0;\n    if (forceTemplate && this.isTemplate(forceTemplate)) {\n      elementTemplate = forceTemplate;\n    } else {\n      elementTemplate = this.isTemplate(field.layout) ? field.layout : \'default\';\n    }\n    var element = this.processTemplate(elementTemplate, field.field, label, help);\n\n    control.on(\'prerender\')(element);\n\n    element.addEventListener(\'fieldRendered\', control.on(\'render\'));\n    return element;\n  };\n\n  layout.prototype.label = function label() {\n    var label = this.data.label || \'\';\n    var labelText = _utils2.default.parsedHtml(label);\n    var labelContents = [labelText];\n    if (this.data.required) {\n      labelContents.push(this.markup(\'span\', \'*\', { className: \'fb-required\' }));\n    }\n\n    if (this.isTemplate(\'label\')) {\n      return this.processTemplate(\'label\', labelContents);\n    }\n\n    return this.markup(\'label\', labelContents, {\n      for: this.data.id,\n      className: \'fb-\' + this.data.type + \'-label\'\n    });\n  };\n\n  layout.prototype.help = function help() {\n    if (!this.data.description) {\n      return null;\n    }\n\n    if (this.isTemplate(\'help\')) {\n      return this.processTemplate(\'help\', this.data.description);\n    }\n\n    return this.markup(\'span\', \'?\', {\n      className: \'tooltip-element\',\n      tooltip: this.data.description\n    });\n  };\n\n  layout.prototype.isTemplate = function isTemplate(template) {\n    return typeof this.templates[template] === \'function\';\n  };\n\n  layout.prototype.processTemplate = function processTemplate(template) {\n    var _templates;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var processed = (_templates = this.templates)[template].apply(_templates, args.concat([this.data]));\n    if (processed.jquery) {\n      processed = processed[0];\n    }\n    return processed;\n  };\n\n  layout.prototype.markup = function markup(tag) {\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'\';\n    var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    return _utils2.default.markup(tag, content, attributes);\n  };\n\n  return layout;\n}();\n\nexports.default = layout;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2xheW91dC5qcz84Nzc5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIExBWU9VVC5KU1xuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGNvbnRyb2xsaW5nIHRoZSBsYXlvdXQgb2YgZWFjaCAncm93JyBvbiB0aGUgZm9ybVxuICogQ2FuIGJlIGV4dGVuZGVkICYgY3VzdG9taXNlZCB3aXRoIHRoZSBuZXcgb2JqZWN0IGJlaW5nIHBhc3NlZCB0byBGb3JtUmVuZGVyIGFzIHRoZSBuZXcgbGF5b3V0IG9iamVjdFxuICogQ29udHJvbHMgdGhpbmdzIGxpa2UgdGhlIGxhYmVsLCBoZWxwIHRleHQsIGFuZCBob3cgdGhleSBmaXQgdG9nZXRoZXIgd2l0aCB0aGUgY29udHJvbCBpdHNlbGZcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbGF5b3V0IHtcblxuICAvKipcbiAgICogUHJlcGFyZSB0aGUgdGVtcGxhdGVzIGZvciBsYXlvdXRcbiAgICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlcyBvYmplY3QgY29udGFpbmluZyBjdXN0b20gb3Igb3ZlcndyaXRlIHRlbXBsYXRlc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHByZXZpZXcgLSBhcmUgd2UgcmVuZGVyaW5nIGEgcHJldmlldyBmb3IgdGhlIGZvcm1CdWlsZGVyIHN0YWdlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZXMsIHByZXZpZXcpIHtcbiAgICB0aGlzLnByZXZpZXcgPSBwcmV2aWV3O1xuXG4gICAgLy8gc3VwcG9ydGVkIHRlbXBsYXRlcyBmb3Igb3V0cHV0dGluZyBhIGZpZWxkXG4gICAgLy8gcHJlZmVycmVkIGxheW91dCB0ZW1wbGF0ZSBjYW4gYmUgaW5kaWNhdGVkIGJ5IHNwZWNpZnlpbmcgYSAnbGF5b3V0JyBpbiB0aGUgcmV0dXJuIG9iamVjdCBvZiBjb250cm9sOjpidWlsZFxuICAgIHRoaXMudGVtcGxhdGVzID0ge1xuICAgICAgbGFiZWw6IG51bGwsIC8vIGNhbiBiZSBvdmVycmlkZGVuIHdpdGggYSBmdW5jdGlvbihsYWJlbERPTUVsZW1lbnRzLCBkYXRhKSB0byBnZW5lcmF0ZSB0aGUgbGFiZWwgZWxlbWVudCAtIHJldHVybnMgYSBET00gZWxlbWVudFxuICAgICAgaGVscDogbnVsbCwgLy8gY2FuIGJlIG92ZXJyaWRkZW4gd2l0aCBhIGZ1bmN0aW9uKGhlbHBUZXh0LCBkYXRhKSB0byBnZW5lcmF0ZSB0aGUgaGVscCBlbGVtZW50IC0gcmV0dXJucyBhIERPTSBlbGVtZW50XG4gICAgICBkZWZhdWx0OiAoZmllbGQsIGxhYmVsLCBoZWxwLCBkYXRhKSA9PiB7XG4gICAgICAgIC8vIGFwcGVuZCBoZWxwIGludG8gdGhlIGxhYmVsXG4gICAgICAgIGlmIChoZWxwKSB7XG4gICAgICAgICAgbGFiZWwuYXBwZW5kKGhlbHApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd3JhcCB0aGUgb3V0cHV0IGluIGEgZm9ybS1ncm91cCBkaXYgJiByZXR1cm5cbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGRhdGEuaWQgPyBgZmItJHtkYXRhLnR5cGV9IGZvcm0tZ3JvdXAgZmllbGQtJHtkYXRhLmlkfWAgOiAnJztcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya3VwKCdkaXYnLCBbbGFiZWwsIGZpZWxkXSwge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIG5vTGFiZWw6IChmaWVsZCwgbGFiZWwsIGhlbHAsIGRhdGEpID0+IHtcbiAgICAgICAgLy8gd3JhcCB0aGUgb3V0cHV0IGluIGEgZm9ybS1ncm91cCBkaXYgJiByZXR1cm4gd2l0aG91dCBhIGxhYmVsIGVsZW1lbnRcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGRhdGEuaWQgPyBgZmItJHtkYXRhLnR5cGV9IGZvcm0tZ3JvdXAgZmllbGQtJHtkYXRhLmlkfWAgOiAnJztcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya3VwKCdkaXYnLCBmaWVsZCwge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhpZGRlbjogKGZpZWxkLCBsYWJlbCwgaGVscCwgZGF0YSkgPT4ge1xuICAgICAgICAvLyBubyB3cmFwcGVyIGFueSBhbnkgdmlzaWJsZSBlbGVtZW50c1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIG1lcmdlIGluIGFueSBjdXN0b20gdGVtcGxhdGVzXG4gICAgaWYgKHRlbXBsYXRlcykge1xuICAgICAgdGhpcy50ZW1wbGF0ZXMgPSAkLmV4dGVuZCh0aGlzLnRlbXBsYXRlcywgdGVtcGxhdGVzKTtcbiAgICB9XG4gICAgdGhpcy5jb25maWd1cmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIGNvbnN0cnVjdG9yIGFuZCBzaG91bGQgYmUgb3ZlcndyaXR0ZW4gZm9yIGN1c3RvbSBsYXlvdXRzIHRoYXQgbmVlZCB0b1xuICAgKiBwcm9jZXNzIHRoZSBjb25maWd1cmF0aW9uIGFyZ3VtZW50cyBwcmlvciB0byByZW5kZXJpbmdcbiAgICovXG4gIGNvbmZpZ3VyZSgpIHt9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBhbiBlbGVtZW50IGZyb20gdGhlIHN0YW5kYXJkIGZvcm1EYXRhIGFycmF5XG4gICAqIGJ1aWxkaW5nIHRoZSBjb250cm9sLCBsYWJlbCBhbmQgaGVscCB0ZXh0LCBhbmQgdGhlbiBwdXR0aW5nIHRoZW0gYWxsIHRvZ2V0aGVyLlxuICAgKiBTaG91bGQgc3VwcG9ydCB0aGUgY29udHJvbCBvYmplY3QgcmV0dXJuaW5nIGEgRE9NIGVsZW1lbnQsIG9yIGFuIG9iamVjdCBjb250YWluaW5nXG4gICAqIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllczpcbiAgICogICAtIGZpZWxkIC0gdGhlIERPTSBlbGVtZW50XG4gICAqICAgLSBub0xhYmVsIC0gdGhpcyBjb250cm9sIHNob3VsZG4ndCBoYXZlIGEgbGFiZWwgKG5vciBhIHNwYWNlIGZvciBhIGxhYmVsKVxuICAgKiAgIC0gaGlkZGVuIC0gdGhpcyBjb250cm9sIHNob3VsZG4ndCByZW5kZXIgYW55dGhpbmcgdmlzaWJsZSB0byB0aGUgcGFnZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVuZGVyQ29udHJvbCAtIHRoZSByZWxldmFudCBjb250cm9sIGNsYXNzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gY29uZmlndXJhdGlvbiBkYXRhIHBhc3NlZCB0aHJvdWdoIGZvcm1EYXRhIGZvciB0aGlzIGNvbnRyb2xcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcmNlVGVtcGxhdGUgLSBwcm9ncmFtYXRpY2FsbHkgZm9yY2UgdGhlIHRlbXBsYXRlIHdpdGggd2hpY2ggdGhpcyBjb250cm9sIHRvIGJlIHJlbmRlcmVkXG4gICAqIEByZXR1cm4ge09iamVjdH0gZWxlbWVudFxuICAgKi9cbiAgYnVpbGQocmVuZGVyQ29udHJvbCwgZGF0YSwgZm9yY2VUZW1wbGF0ZSkge1xuICAgIC8vIHByZXBhcmUgdGhlIGRhdGFcbiAgICBpZiAodGhpcy5wcmV2aWV3KSB7XG4gICAgICBpZiAoZGF0YS5uYW1lKSB7XG4gICAgICAgIGRhdGEubmFtZSA9IGRhdGEubmFtZSArICctcHJldmlldyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhLm5hbWUgPSB1dGlscy5uYW1lQXR0cihkYXRhKSArICctcHJldmlldyc7XG4gICAgICB9XG4gICAgfVxuICAgIGRhdGEuaWQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5kYXRhID0gJC5leHRlbmQoe30sIGRhdGEpO1xuXG4gICAgLy8gYnVpbGQgdGhlIGNvbnRyb2xcbiAgICBsZXQgY29udHJvbCA9IG5ldyByZW5kZXJDb250cm9sKGRhdGEsIHRoaXMucHJldmlldyk7XG4gICAgbGV0IGZpZWxkID0gY29udHJvbC5idWlsZCgpO1xuICAgIGlmICh0eXBlb2YgZmllbGQgIT09ICdvYmplY3QnIHx8ICFmaWVsZC5maWVsZCkge1xuICAgICAgZmllbGQgPSB7ZmllbGQ6IGZpZWxkfTtcbiAgICB9XG5cbiAgICAvLyBidWlsZCB0aGUgbGFiZWwgJiBoZWxwIHRleHRcbiAgICBsZXQgbGFiZWwgPSB0aGlzLmxhYmVsKCk7XG4gICAgbGV0IGhlbHAgPSB0aGlzLmhlbHAoKTtcblxuICAgIC8vIHByb2Nlc3MgdGhlIHJlbGV2YW50IGxheW91dCB0ZW1wbGF0ZVxuICAgIGxldCBlbGVtZW50VGVtcGxhdGU7XG4gICAgaWYgKGZvcmNlVGVtcGxhdGUgJiYgdGhpcy5pc1RlbXBsYXRlKGZvcmNlVGVtcGxhdGUpKSB7XG4gICAgICAgIGVsZW1lbnRUZW1wbGF0ZSA9IGZvcmNlVGVtcGxhdGU7XG4gICAgfSBlbHNlIHtcblx0XHRlbGVtZW50VGVtcGxhdGUgPSB0aGlzLmlzVGVtcGxhdGUoZmllbGQubGF5b3V0KSA/IGZpZWxkLmxheW91dCA6ICdkZWZhdWx0JztcbiAgICB9XG4gICAgbGV0IGVsZW1lbnQgPSB0aGlzLnByb2Nlc3NUZW1wbGF0ZShlbGVtZW50VGVtcGxhdGUsIGZpZWxkLmZpZWxkLCBsYWJlbCwgaGVscCk7XG5cbiAgICAvLyBleGVjdXRlIHByZXJlbmRlciBldmVudHNcbiAgICBjb250cm9sLm9uKCdwcmVyZW5kZXInKShlbGVtZW50KTtcblxuICAgIC8vIGJpbmQgY29udHJvbCBvbiByZW5kZXIgZXZlbnRzXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmaWVsZFJlbmRlcmVkJywgY29udHJvbC5vbigncmVuZGVyJykpO1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgbGFiZWwgZWxlbWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGRvbSBlbGVtZW50IHRvIHJlbmRlciB0aGUgbGFiZWxcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIGxldCBsYWJlbCA9IHRoaXMuZGF0YS5sYWJlbCB8fCAnJztcbiAgICBsZXQgbGFiZWxUZXh0ID0gdXRpbHMucGFyc2VkSHRtbChsYWJlbCk7XG4gICAgbGV0IGxhYmVsQ29udGVudHMgPSBbbGFiZWxUZXh0XTtcbiAgICBpZiAodGhpcy5kYXRhLnJlcXVpcmVkKSB7XG4gICAgICBsYWJlbENvbnRlbnRzLnB1c2godGhpcy5tYXJrdXAoJ3NwYW4nLCAnKicsIHtjbGFzc05hbWU6ICdmYi1yZXF1aXJlZCd9KSk7XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydCBhbiBvdmVycmlkZSB0ZW1wbGF0ZSBmb3IgbGFiZWxzXG4gICAgaWYgKHRoaXMuaXNUZW1wbGF0ZSgnbGFiZWwnKSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1RlbXBsYXRlKCdsYWJlbCcsIGxhYmVsQ29udGVudHMpO1xuICAgIH1cblxuICAgIC8vIGdlbmVyYXRlIGEgbGFiZWwgZWxlbWVudFxuICAgIHJldHVybiB0aGlzLm1hcmt1cCgnbGFiZWwnLCBsYWJlbENvbnRlbnRzLCB7XG4gICAgICBmb3I6IHRoaXMuZGF0YS5pZCxcbiAgICAgIGNsYXNzTmFtZTogYGZiLSR7dGhpcy5kYXRhLnR5cGV9LWxhYmVsYFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgaGVscCBlbGVtZW50XG4gICAqIEByZXR1cm4ge09iamVjdH0gZG9tIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBoZWxwIHRleHRcbiAgICovXG4gIGhlbHAoKSB7XG4gICAgaWYgKCF0aGlzLmRhdGEuZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgYW4gb3ZlcnJpZGUgdGVtcGxhdGUgZm9yIGxhYmVsc1xuICAgIGlmICh0aGlzLmlzVGVtcGxhdGUoJ2hlbHAnKSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1RlbXBsYXRlKCdoZWxwJywgdGhpcy5kYXRhLmRlc2NyaXB0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBnZW5lcmF0ZSB0aGUgZGVmYXVsdCBoZWxwIGVsZW1lbnRcbiAgICByZXR1cm4gdGhpcy5tYXJrdXAoJ3NwYW4nLCAnPycsIHtcbiAgICAgIGNsYXNzTmFtZTogJ3Rvb2x0aXAtZWxlbWVudCcsXG4gICAgICB0b29sdGlwOiB0aGlzLmRhdGEuZGVzY3JpcHRpb25cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGEgdGVtcGxhdGUgaXMgZGVmaW5lZCBmb3IgdGhlIHNwZWNpZmllZCBrZXlcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRlbXBsYXRlIHN0cmluZyB0ZW1wbGF0ZSBrZXkgdG8gY2hlY2sgZm9yXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBpc1RlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnRlbXBsYXRlc1t0ZW1wbGF0ZV0gPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBhIHRlbXBsYXRlICYgcHJlcGFyZSB0aGUgcmVzdWx0c1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGUgLSB0ZW1wbGF0ZSBrZXkgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIC0gYW55IG51bWJlciBvZiBhcmdzIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgdGVtcGxhdGUuIHRoaXMuZGF0YSBpcyBzZW50IGFzIHRoZSBsYXN0IHBhcmFtZXRlciB0byBhbnkgdGVtcGxhdGUuXG4gICAqIEByZXR1cm4ge0RPTUVsZW1lbnR9XG4gICAqL1xuICBwcm9jZXNzVGVtcGxhdGUodGVtcGxhdGUsIC4uLmFyZ3MpIHtcbiAgICBsZXQgcHJvY2Vzc2VkID0gdGhpcy50ZW1wbGF0ZXNbdGVtcGxhdGVdKC4uLmFyZ3MsIHRoaXMuZGF0YSk7XG4gICAgaWYgKHByb2Nlc3NlZC5qcXVlcnkpIHtcbiAgICAgIHByb2Nlc3NlZCA9IHByb2Nlc3NlZFswXTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2Nlc3NlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBsaW5rIHRvIHRoZSB1dGlscy5tYXJrdXAgbWV0aG9kXG4gICAqIGlkZWFsbHkgdGhpcyB3b3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBhIHBhcmVudCAnZG9tJyB0eXBlIGVsZW1lbnQgc3VwcG9ydGluZyBkb20gaGVscGVyIHR5cGUgbWV0aG9kc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdGFnXG4gICAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ3xBcnJheX0gY29udGVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XG4gICAqL1xuICBtYXJrdXAodGFnLCBjb250ZW50ID0gJycsIGF0dHJpYnV0ZXMgPSB7fSkge1xuICAgIHJldHVybiB1dGlscy5tYXJrdXAodGFnLCBjb250ZW50LCBhdHRyaWJ1dGVzKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9sYXlvdXQuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0E7QUFDQTs7Ozs7OztBQU1BO0FBT0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQXpCQTtBQUNBO0FBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFjQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7O0FBekxBIiwic291cmNlUm9vdCI6IiJ9')},/***/6:/* no static exports found *//* all exports used *//*!***********************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control.js ***!
  \***********************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = __webpack_require__(/*! ./utils */ 19);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _mi18n2 = __webpack_require__(/*! mi18n */ 26);\n\nvar _mi18n3 = _interopRequireDefault(_mi18n2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar control = function () {\n  function control(config, preview) {\n    _classCallCheck(this, control);\n\n    this.rawConfig = $.extend({}, config);\n\n    config = $.extend({}, config);\n    this.preview = preview;\n    delete config.isPreview;\n    if (this.preview) {\n      delete config.required;\n    }\n\n    var properties = [\'label\', \'description\', \'subtype\', \'required\'];\n    for (var _iterator = properties, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var prop = _ref;\n\n      this[prop] = config[prop];\n      delete config[prop];\n    }\n\n    if (!config.id) {\n      if (config.name) {\n        config.id = config.name;\n      } else {\n        config.id = \'control-\' + Math.floor(Math.random() * 10000000 + 1);\n      }\n    }\n    this.id = config.id;\n    this.type = config.type;\n    if (this.description) {\n      config.title = this.description;\n    }\n\n    if (!control.controlConfig) {\n      control.controlConfig = {};\n    }\n    var classId = this.subtype ? this.type + \'.\' + this.subtype : this.type;\n    this.classConfig = $.extend({}, control.controlConfig[classId] || {});\n\n    if (this.subtype) {\n      config.type = this.subtype;\n    }\n\n    if (this.required) {\n      config[\'required\'] = \'required\';\n      config[\'aria-required\'] = \'true\';\n    }\n    this.config = config;\n    this.configure();\n  }\n\n  control.register = function register(types, controlClass, parentType) {\n    var prefix = parentType ? parentType + \'.\' : \'\';\n\n    if (!control.classRegister) {\n      control.classRegister = {};\n    }\n    if (!Array.isArray(types)) {\n      types = [types];\n    }\n\n    for (var _iterator2 = types, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var type = _ref2;\n\n      if (type.indexOf(\'.\') > -1) {\n        control.error(\'Ignoring type \' + type + \'. Cannot use the character \\\'.\\\' in a type name.\');\n        continue;\n      }\n      control.classRegister[prefix + type] = controlClass;\n    }\n  };\n\n  control.getRegistered = function getRegistered() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var types = Object.keys(control.classRegister);\n    if (!types.length) {\n      return types;\n    }\n    return types.filter(function (key) {\n      if (type) {\n        return key.indexOf(type + \'.\') > -1;\n      }\n      return key.indexOf(\'.\') == -1;\n    });\n  };\n\n  control.getRegisteredSubtypes = function getRegisteredSubtypes() {\n    var types = {};\n    for (var key in control.classRegister) {\n      if (control.classRegister.hasOwnProperty(key)) {\n        var _key$split = key.split(\'.\'),\n            type = _key$split[0],\n            subtype = _key$split[1];\n\n        if (!subtype) {\n          continue;\n        }\n        if (!types[type]) {\n          types[type] = [];\n        }\n        types[type].push(subtype);\n      }\n    }\n    return types;\n  };\n\n  control.getClass = function getClass(type, subtype) {\n    var lookup = subtype ? type + \'.\' + subtype : type;\n    var controlClass = control.classRegister[lookup] || control.classRegister[type];\n    if (!controlClass) {\n      return control.error(\'Invalid control type. (Type: \' + type + \', Subtype: \' + subtype + \'). Please ensure you have registered it, and imported it correctly.\');\n    }\n\n    return controlClass;\n  };\n\n  control.loadCustom = function loadCustom(controls) {\n    var controlClasses = [];\n    if (controls) {\n      controlClasses = controlClasses.concat(controls);\n    }\n\n    if (window.fbControls) {\n      controlClasses = controlClasses.concat(window.fbControls);\n    }\n\n    if (!window.fbControlsLoaded) {\n      for (var _iterator3 = controlClasses, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n        var _ref3;\n\n        if (_isArray3) {\n          if (_i3 >= _iterator3.length) break;\n          _ref3 = _iterator3[_i3++];\n        } else {\n          _i3 = _iterator3.next();\n          if (_i3.done) break;\n          _ref3 = _i3.value;\n        }\n\n        var loadControl = _ref3;\n\n        loadControl(control, control.classRegister);\n      }\n      window.fbControlsLoaded = true;\n    }\n  };\n\n  control.mi18n = function mi18n(lookup, args) {\n    var def = this.definition;\n    var i18n = def.i18n || {};\n    var locale = _mi18n3.default.locale;\n    i18n = i18n[locale] || i18n.default || i18n;\n    var lookupCamel = this.camelCase(lookup);\n\n    var value = (typeof i18n === \'undefined\' ? \'undefined\' : _typeof(i18n)) == \'object\' ? i18n[lookupCamel] || i18n[lookup] : i18n;\n    if (value) {\n      return value;\n    }\n\n    var mapped = def.mi18n;\n    if ((typeof mapped === \'undefined\' ? \'undefined\' : _typeof(mapped)) === \'object\') {\n      mapped = mapped[lookupCamel] || mapped[lookup];\n    }\n    if (!mapped) {\n      mapped = lookupCamel;\n    }\n    return _mi18n3.default.get(mapped, args);\n  };\n\n  control.active = function active(type) {\n    return !Array.isArray(this.definition.inactive) || this.definition.inactive.indexOf(type) == -1;\n  };\n\n  control.label = function label(type) {\n    return this.mi18n(type);\n  };\n\n  control.icon = function icon(type) {\n    var def = this.definition;\n    if (def && _typeof(def.icon) === \'object\') {\n      return def.icon[type];\n    }\n    return def.icon;\n  };\n\n  control.prototype.configure = function configure() {};\n\n  control.prototype.build = function build() {\n    var _config = this.config,\n        label = _config.label,\n        type = _config.type,\n        data = _objectWithoutProperties(_config, [\'label\', \'type\']);\n\n    return this.markup(type, _utils2.default.parsedHtml(label), data);\n  };\n\n  control.prototype.on = function on(eventType) {\n    var _this = this;\n\n    var events = {\n      prerender: function prerender(element) {},\n\n      render: function render(evt) {\n        var onRender = function onRender() {\n          if (_this.onRender) {\n            _this.onRender();\n          }\n        };\n\n        if (_this.css) {\n          _utils2.default.getStyles(_this.css);\n        }\n        if (_this.js && !_utils2.default.isCached(_this.js)) {\n          _utils2.default.getScripts(_this.js).done(onRender);\n        } else {\n          onRender();\n        }\n      }\n    };\n    return eventType ? events[eventType] : events;\n  };\n\n  control.error = function error(message) {\n    throw new Error(message);\n  };\n\n  control.prototype.markup = function markup(tag) {\n    var content = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'\';\n    var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this.element = _utils2.default.markup(tag, content, attributes);\n    return this.element;\n  };\n\n  control.prototype.parsedHtml = function parsedHtml(html) {\n    return _utils2.default.parsedHtml(html);\n  };\n\n  control.camelCase = function camelCase(str) {\n    return _utils2.default.camelCase(str);\n  };\n\n  _createClass(control, null, [{\n    key: \'definition\',\n    get: function get() {\n      return {};\n    }\n  }]);\n\n  return control;\n}();\n\nexports.default = control;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29udHJvbC5qcz9iMTFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENPTlRST0wuSlNcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBtaTE4biBmcm9tICdtaTE4bic7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIGNvbnRyb2wgY2xhc3Nlc1xuICogRGVmaW5lcyB0aGUgc3RydWN0dXJlIG9mIGEgY29udHJvbCBjbGFzcyBhbmQgc29tZSBzdGFuZGFyZCBjb250cm9sIG1ldGhvZHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgY29udHJvbCB7XG5cbiAgLyoqXG4gICAqIGluaXRpYWxpc2UgdGhlIGNvbnRyb2wgb2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgZWFjaCBjb250cm9sIGNsYXNzIHJlY2VpdmVzIGEgY29udHJvbCBjb25maWd1cmF0aW9uXG4gICAqIG9iamVjdCAoe25hbWUsIGxhYmVsLCBldGN9KVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IHByZXZpZXcgaXNQcmV2aWV3XG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIHByZXZpZXcpIHtcbiAgICB0aGlzLnJhd0NvbmZpZyA9ICQuZXh0ZW5kKHt9LCBjb25maWcpO1xuXG4gICAgLy8gbWFrZSBhIGNvcHkgb2YgY29uZmlnIHNvIHdlIGRvbid0IGNoYW5nZSB0aGUgb2JqZWN0IHJlZmVyZW5jZVxuICAgIGNvbmZpZyA9ICQuZXh0ZW5kKHt9LCBjb25maWcpO1xuICAgIHRoaXMucHJldmlldyA9IHByZXZpZXc7XG4gICAgZGVsZXRlIGNvbmZpZy5pc1ByZXZpZXc7XG4gICAgaWYgKHRoaXMucHJldmlldykge1xuICAgICAgZGVsZXRlIGNvbmZpZy5yZXF1aXJlZDtcbiAgICB9XG5cbiAgICAvLyBwcm9jZXNzIGNvbmZpZyAtIGV4dHJhY3Qgc3RhbmRhcmQgcHJvcGVydGllc1xuICAgIGxldCBwcm9wZXJ0aWVzID0gWydsYWJlbCcsICdkZXNjcmlwdGlvbicsICdzdWJ0eXBlJywgJ3JlcXVpcmVkJ107XG4gICAgZm9yIChsZXQgcHJvcCBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzW3Byb3BdID0gY29uZmlnW3Byb3BdO1xuICAgICAgZGVsZXRlIGNvbmZpZ1twcm9wXTtcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGZpZWxkc1xuICAgIGlmICghY29uZmlnLmlkKSB7XG4gICAgICBpZiAoY29uZmlnLm5hbWUpIHtcbiAgICAgICAgY29uZmlnLmlkID0gY29uZmlnLm5hbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuaWQgPSAnY29udHJvbC0nICsgTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKSArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlkID0gY29uZmlnLmlkO1xuICAgIHRoaXMudHlwZSA9IGNvbmZpZy50eXBlO1xuICAgIGlmICh0aGlzLmRlc2NyaXB0aW9uKSB7XG4gICAgICBjb25maWcudGl0bGUgPSB0aGlzLmRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGZvciBnbG9iYWwgY2xhc3MgY29uZmlndXJhdGlvblxuICAgIGlmICghY29udHJvbC5jb250cm9sQ29uZmlnKSB7XG4gICAgICBjb250cm9sLmNvbnRyb2xDb25maWcgPSB7fTtcbiAgICB9XG4gICAgbGV0IGNsYXNzSWQgPSB0aGlzLnN1YnR5cGUgPyB0aGlzLnR5cGUgKyAnLicgKyB0aGlzLnN1YnR5cGUgOiB0aGlzLnR5cGU7XG4gICAgdGhpcy5jbGFzc0NvbmZpZyA9ICQuZXh0ZW5kKHt9LCBjb250cm9sLmNvbnRyb2xDb25maWdbY2xhc3NJZF0gfHwge30pO1xuXG4gICAgLy8gaWYgc3VidHlwZSwgdXBkYXRlIHRoZSBjb25maWcgdHlwZSBmb3IgaW5qZWN0aW5nIGludG8gRE9NIGVsZW1lbnRzXG4gICAgaWYgKHRoaXMuc3VidHlwZSkge1xuICAgICAgY29uZmlnLnR5cGUgPSB0aGlzLnN1YnR5cGU7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVxdWlyZWQpIHtcbiAgICAgIGNvbmZpZ1sncmVxdWlyZWQnXSA9ICdyZXF1aXJlZCc7XG4gICAgICBjb25maWdbJ2FyaWEtcmVxdWlyZWQnXSA9ICd0cnVlJztcbiAgICB9XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5jb25maWd1cmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXR0ZXIgdG8gcmV0cmlldmUgY2xhc3MgY29uZmlndXJhdGlvbi5cbiAgICogU3VwcG9ydHMgcHJvcGVydGllczpcbiAgICogIC0gbWkxOG4gLSBhIG1pMThuIGxvb2t1cCwgKG9yIG9iamVjdCBvZiB0eXBlOiBsb29rdXAgZm9yIGNsYXNzZXMgc3VwcG9ydGluZyBtdWx0aXBsZSB0eXBlcylcbiAgICogIC0gaTE4biAtIGZvciBjdXN0b20gLyBwbHVnaW4gY29udHJvbHMsIHRyYW5zbGF0aW9ucyBmb3IgbGFiZWxzIGNhbiBiZSBzcGVjaWZpZWQgaGVyZSBhcyBhbiBvYmplY3Qgb2YgbG9jYWxlOiBsYWJlbCAob3IgYW4gb2JqZWN0IG9mIHR5cGU6IGxhYmVsIGZvciBjbGFzc2VzIHN1cHBvcnRpbmcgbXVsdGlwbGUgdHlwZXMpLlxuICAgKiAgLSBpY29uIC0gaWNvbiwgb3Igb2JqZWN0IG9mIHR5cGU6IGljb24gZm9yIGRlZmluZWQgdHlwZXNcbiAgICogIC0gaW5hY3RpdmUgLSBhcnJheSBvZiBpbmFjdGl2ZSB0eXBlcyB0aGF0IHNob3VsZG4ndCBhcHBlYXIgaW4gZm9ybUJ1aWxkZXIgaW50ZXJmYWNlIChidXQgc3RpbGwgYmUgc3VwcG9ydGVkIGZvciByZW5kZXJpbmcgcHVycG9zZXMpXG4gICAqIEByZXR1cm4ge09iamVjdH0gY29uZmlndXJhdGlvblxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZpbml0aW9uKCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGFzcyBtZXRob2QgdG8gcmVnaXN0ZXIgc3VwcG9ydGVkIGNvbnRyb2xzIGFuZCB0aGVpciBhc3NvY2lhdGVkIGNsYXNzZXNcbiAgICogQHBhcmFtIHtBcnJheX0gdHlwZXMgLSBjb250cm9sIHR5cGUgKG9yIGFycmF5IG9mIGNvbnRyb2wgdHlwZXMpIHRvIHJlZ2lzdGVyXG4gICAqIGFnYWluc3QgdGhlIHNwZWNpZmVkIGNsYXNzXG4gICAqIEBwYXJhbSB7Q2xhc3N9IGNvbnRyb2xDbGFzcyAtIGNsYXNzIHRvIG1hcCBhZ2FpbnN0IHRoZSB0eXBlc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50VHlwZSAtIG9wdGlvbmFsIC0gaWYgZGVmaW5lZCwgYW55IGNsYXNzZXMgcmVnaXN0ZXJlZFxuICAgKiB3aWxsIGJlIHJlZ2lzdGVyZWQgYXMgc3VidHlwZXMgb2YgdGhpcyBwYXJlbnRcbiAgICovXG4gIHN0YXRpYyByZWdpc3Rlcih0eXBlcywgY29udHJvbENsYXNzLCBwYXJlbnRUeXBlKSB7XG4gICAgLy8gc3RvcmUgc3VidHlwZXMgYXMgPHR5cGU+LjxzdWJ0eXBlPiBpbiB0aGUgcmVnaXN0ZXJcbiAgICBsZXQgcHJlZml4ID0gcGFyZW50VHlwZSA/IHBhcmVudFR5cGUgKyAnLicgOiAnJztcblxuICAgIC8vIGluaXRpYWxpc2UgdGhlIHJlZ2lzdGVyXG4gICAgaWYgKCFjb250cm9sLmNsYXNzUmVnaXN0ZXIpIHtcbiAgICAgIGNvbnRyb2wuY2xhc3NSZWdpc3RlciA9IHt9O1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodHlwZXMpKSB7XG4gICAgICB0eXBlcyA9IFt0eXBlc107XG4gICAgfVxuXG4gICAgLy8gYXNzb2NpYXRlIHRoZSBjb250cm9sQ2xhc3Mgd2l0aCBlYWNoIHBhc3NlZCBjb250cm9sIHR5cGVcbiAgICBmb3IgKGxldCB0eXBlIG9mIHR5cGVzKSB7XG4gICAgICAvLyAnLicgaXMgYSByZXN0cmljdGVkIGNoYXJhY3RlciBmb3IgdHlwZSBuYW1lc1xuICAgICAgaWYgKHR5cGUuaW5kZXhPZignLicpID4gLTEpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgY29udHJvbC5lcnJvcihgSWdub3JpbmcgdHlwZSAke3R5cGV9LiBDYW5ub3QgdXNlIHRoZSBjaGFyYWN0ZXIgJy4nIGluIGEgdHlwZSBuYW1lLmApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnRyb2wuY2xhc3NSZWdpc3RlcltwcmVmaXggKyB0eXBlXSA9IGNvbnRyb2xDbGFzcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9va3MgdXAgdGhlIGNsYXNzUmVnaXN0ZXIgJiByZXR1cm5zIHJlZ2lzdGVyZWQgdHlwZXMgb3Igc3VidHlwZXNcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIG9wdGlvbmFsIHR5cGUgb2YgY29udHJvbCB3ZSB3YW50IHRvIGxvb2sgdXBcbiAgICogc3VidHlwZXMgb2YuIElmIG5vdCBzcGVjaWZpZWQgd2lsbCByZXR1cm4gYWxsIHR5cGVzXG4gICAqIEByZXR1cm4ge0FycmF5fSByZWdpc3RlcmVkIHR5cGVzIChvciBzdWJ0eXBlcylcbiAgICovXG4gIHN0YXRpYyBnZXRSZWdpc3RlcmVkKHR5cGU9ZmFsc2UpIHtcbiAgICBsZXQgdHlwZXMgPSBPYmplY3Qua2V5cyhjb250cm9sLmNsYXNzUmVnaXN0ZXIpO1xuICAgIGlmICghdHlwZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHlwZXM7XG4gICAgfVxuICAgIHJldHVybiB0eXBlcy5maWx0ZXIoa2V5ID0+IHtcbiAgICAgIC8vIGlmIHR5cGUgaXMgc3BlY2lmaWVkLCB0aGVuIHdlIHdhbnQgdG8gcmV0dXJuIGFsbCBzdWJ0eXBlc1xuICAgICAgLy8gb2YgdGhhdCB0eXBlIChyZWdpc3RlcmVkIHdpdGggdGhlIGtleSA8dHlwZT4uPHN1YnR5cGU+KVxuICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGtleS5pbmRleE9mKHR5cGUgKyAnLicpID4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5LmluZGV4T2YoJy4nKSA9PSAtMTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYW4gb2JqZWN0IG9mIHR5cGVzIG1hcHBlZCB0byBhbiBhcnJheSBvZiBzdWJ0eXBlcy5cbiAgICogT25seSByZXR1cm5zIHR5cGVzIHRoYXQgaGF2ZSBzdWJ0eXBlc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGFuIG9iamVjdCBjb250YWluaW5nIHt0eXBlOiBhcnJheSBvZiBzdWJ0eXBlc30uXG4gICAqL1xuICBzdGF0aWMgZ2V0UmVnaXN0ZXJlZFN1YnR5cGVzKCkge1xuICAgIGxldCB0eXBlcyA9IHt9O1xuICAgIGZvciAobGV0IGtleSBpbiBjb250cm9sLmNsYXNzUmVnaXN0ZXIpIHtcbiAgICAgIGlmIChjb250cm9sLmNsYXNzUmVnaXN0ZXIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBsZXQgW3R5cGUsIHN1YnR5cGVdID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIGlmICghc3VidHlwZSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdHlwZXNbdHlwZV0pIHtcbiAgICAgICAgICB0eXBlc1t0eXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHR5cGVzW3R5cGVdLnB1c2goc3VidHlwZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0eXBlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgY2xhc3MgZm9yIGEgc3BlY2lmaWVkIGNvbnRyb2wgdHlwZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSB0eXBlIG9mIGNvbnRyb2wgd2UgYXJlIGxvb2tpbmcgdXBcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN1YnR5cGUgaWYgc3BlY2lmaWVkIHdlJ2xsIHRyeSB0byBmaW5kXG4gICAqIGEgY2xhc3MgbWFwcGVkIHRvIHRoaXMgc3VidHlwZS4gSWYgbm9uZSBmb3VuZCwgZmFsbCBiYWNrIHRvIHRoZSB0eXBlLlxuICAgKiBAcmV0dXJuIHtDbGFzc30gY29udHJvbCBzdWJjbGFzcyBhcyBkZWZpbmVkIGluIHRoZSBjYWxsIHRvIHJlZ2lzdGVyXG4gICAqL1xuICBzdGF0aWMgZ2V0Q2xhc3ModHlwZSwgc3VidHlwZSkge1xuICAgIGxldCBsb29rdXAgPSBzdWJ0eXBlID8gdHlwZSArICcuJyArIHN1YnR5cGUgOiB0eXBlO1xuICAgIGxldCBjb250cm9sQ2xhc3MgPSBjb250cm9sLmNsYXNzUmVnaXN0ZXJbbG9va3VwXSB8fCBjb250cm9sLmNsYXNzUmVnaXN0ZXJbdHlwZV07XG4gICAgaWYgKCFjb250cm9sQ2xhc3MpIHtcbiAgICAgIHJldHVybiBjb250cm9sLmVycm9yKCdJbnZhbGlkIGNvbnRyb2wgdHlwZS4gKFR5cGU6ICcgKyB0eXBlICsgJywgU3VidHlwZTogJyArIHN1YnR5cGUgKyAnKS4gUGxlYXNlIGVuc3VyZSB5b3UgaGF2ZSByZWdpc3RlcmVkIGl0LCBhbmQgaW1wb3J0ZWQgaXQgY29ycmVjdGx5LicpO1xuICAgIH1cblxuICAgIC8vIHNldCB0aGUgX3R5cGUgZmllbGQgb24gdGhlIGNvbnRyb2wgY2xhc3Mgc28gd2UgbmV2ZXIgbG9zZSBpdFxuICAgIHJldHVybiBjb250cm9sQ2xhc3M7XG4gIH1cblxuICAvKipcbiAgICogc3VwcG9ydCBkeW5hbWljIGxvYWRpbmcgb2YgY3VzdG9tIGNvbnRyb2wgY2xhc3Nlc1xuICAgKiBAcGFyYW0ge0FycmF5fSBjb250cm9sc1xuICAgKi9cbiAgc3RhdGljIGxvYWRDdXN0b20oY29udHJvbHMpIHtcbiAgICBsZXQgY29udHJvbENsYXNzZXMgPSBbXTtcbiAgICBpZiAoY29udHJvbHMpIHtcbiAgICAgIGNvbnRyb2xDbGFzc2VzID0gY29udHJvbENsYXNzZXMuY29uY2F0KGNvbnRyb2xzKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IGZvciB1c2VyIGxvYWRlZCBwbHVnaW4gY29udHJvbHNcbiAgICBpZiAod2luZG93LmZiQ29udHJvbHMpIHtcbiAgICAgIGNvbnRyb2xDbGFzc2VzID0gY29udHJvbENsYXNzZXMuY29uY2F0KHdpbmRvdy5mYkNvbnRyb2xzKTtcbiAgICB9XG5cbiAgICAvLyBsb29wIHRocm91Z2ggZWFjaCBkZWZpbmVkIGN1c3RvbSBjb250cm9sLlxuICAgIC8vIGV4cGVjdHMgYSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSBtYXN0ZXIgY29udHJvbCBjbGFzcyB0byBpbmhlcml0IGZyb20gKG9yIG9wdGlvbmFsIGNsYXNzUmVnaXN0ZXIgdG8gaW5oZXJpdCBmcm9tIHN1YmNsYXNzKVxuICAgIC8vIHNlZSBzcmMvanMvY29udHJvbF9wbHVnaW5zLyBmb3IgYW4gZXhhbXBsZVxuICAgIGlmICghd2luZG93LmZiQ29udHJvbHNMb2FkZWQpIHtcbiAgICAgIGZvciAobGV0IGxvYWRDb250cm9sIG9mIGNvbnRyb2xDbGFzc2VzKSB7XG4gICAgICAgIGxvYWRDb250cm9sKGNvbnRyb2wsIGNvbnRyb2wuY2xhc3NSZWdpc3Rlcik7XG4gICAgICB9XG4gICAgICB3aW5kb3cuZmJDb250cm9sc0xvYWRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGEgdHJhbnNsYXRlZCBzdHJpbmdcbiAgICogQnkgZGVmYXVsdCBsb29rcyBmb3IgdHJhbnNsYXRpb25zIGRlZmluZWQgYWdhaW5zdCB0aGUgY2xhc3MgKGZvciBwbHVnaW4gY29udHJvbHMpXG4gICAqIEV4cGVjdHMge2xvY2FsZTE6IHt0eXBlOiBsYWJlbH0sIGxvY2FsZTI6IHt0eXBlOiBsYWJlbH19LCBvciB7ZGVmYXVsdDogbGFiZWx9LCBvciB7bG9jYWwxOiBsYWJlbCwgbG9jYWwyOiBsYWJlbDJ9XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsb29rdXAgc3RyaW5nIHRvIHJldHJpZXZlIHRoZSBsYWJlbCAvIHRyYW5zbGF0ZWQgc3RyaW5nIGZvclxuICAgKiBAcGFyYW0ge09iamVjdHxOdW1iZXJ8U3RyaW5nfSBhcmdzIC0gc3RyaW5nIG9yIGtleS92YWwgcGFpcnMgZm9yIHN0cmluZyBsb29rdXBzIHdpdGggdmFyaWFibGVzXG4gICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIHRyYW5zbGF0ZWQgbGFiZWxcbiAgICovXG4gIHN0YXRpYyBtaTE4bihsb29rdXAsIGFyZ3MpIHtcbiAgICBsZXQgZGVmID0gdGhpcy5kZWZpbml0aW9uO1xuICAgIGxldCBpMThuID0gZGVmLmkxOG4gfHwge307XG4gICAgbGV0IGxvY2FsZSA9IG1pMThuLmxvY2FsZTtcbiAgICBpMThuID0gaTE4bltsb2NhbGVdIHx8IGkxOG4uZGVmYXVsdCB8fCBpMThuO1xuICAgIGxldCBsb29rdXBDYW1lbCA9IHRoaXMuY2FtZWxDYXNlKGxvb2t1cCk7XG5cbiAgICAvLyBpZiB0cmFuc2xhdGlvbiBpcyBkZWZpbmVkIGluIHRoZSBjb250cm9sLCByZXR1cm4gaXRcbiAgICBsZXQgdmFsdWUgPSB0eXBlb2YgaTE4biA9PSAnb2JqZWN0JyA/IGkxOG5bbG9va3VwQ2FtZWxdIHx8IGkxOG5bbG9va3VwXSA6IGkxOG47XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gb3RoZXJ3aXNlIGNoZWNrIHRoZSBtaTE4biBvYmplY3QgLSBhbGxvdyBmb3IgbWFwcGluZyBhIGxvb2t1cCB0byBhIGN1c3RvbSBtaTE4biBsb29rdXBcbiAgICBsZXQgbWFwcGVkID0gZGVmLm1pMThuO1xuICAgIGlmICh0eXBlb2YgbWFwcGVkID09PSAnb2JqZWN0Jykge1xuICAgICAgbWFwcGVkID0gbWFwcGVkW2xvb2t1cENhbWVsXSB8fCBtYXBwZWRbbG9va3VwXTtcbiAgICB9XG4gICAgaWYgKCFtYXBwZWQpIHtcbiAgICAgIG1hcHBlZCA9IGxvb2t1cENhbWVsO1xuICAgIH1cbiAgICByZXR1cm4gbWkxOG4uZ2V0KG1hcHBlZCwgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdWxkIHRoaXMgY29udHJvbCB0eXBlIGFwcGVhciBpbiB0aGUgbGlzdCBvZiBmb3JtIGNvbnRyb2xzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGlzQWN0aXZlXG4gICAqL1xuICBzdGF0aWMgYWN0aXZlKHR5cGUpIHtcbiAgICByZXR1cm4gIUFycmF5LmlzQXJyYXkodGhpcy5kZWZpbml0aW9uLmluYWN0aXZlKSB8fCB0aGlzLmRlZmluaXRpb24uaW5hY3RpdmUuaW5kZXhPZih0eXBlKSA9PSAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgdHJhbnNsYXRlZCBjb250cm9sIGxhYmVsIGZvciBhIGNvbnRyb2wgdHlwZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRyYW5zbGF0ZWQgY29udHJvbFxuICAgKi9cbiAgc3RhdGljIGxhYmVsKHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5taTE4bih0eXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgaWNvbiBmb3IgYSBjb250cm9sIHR5cGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7U3RyaW5nfSBpY29uXG4gICAqL1xuICBzdGF0aWMgaWNvbih0eXBlKSB7XG4gICAgLy8gQHRvZG8gLSBzdXBwb3J0IGZvciBgaWNvbi0ke2F0dHIubmFtZX1gIC0gaXMgdGhpcyBmb3IgaW5wdXRTZXRzPyBEb2VzbnQgbG9vayBsaWtlIGl0IGJ1dCBjYW4ndCBzZWUgYW55dGhpbmcgZWxzZSB0aGF0IHNldHMgYXR0ci5uYW1lP1xuICAgIC8vIGh0dHA6Ly9mb3JtYnVpbGRlci5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvZm9ybUJ1aWxkZXIvb3B0aW9ucy9pbnB1dFNldHMvXG4gICAgbGV0IGRlZiA9IHRoaXMuZGVmaW5pdGlvbjtcbiAgICBpZiAoZGVmICYmIHR5cGVvZiBkZWYuaWNvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkZWYuaWNvblt0eXBlXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZi5pY29uO1xuICB9XG5cbiAgLyoqXG4gICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgY29uc3RydWN0b3IgYW5kIHNob3VsZCBiZSBvdmVyd3JpdHRlbiBmb3IgY29udHJvbHMgdGhhdCBuZWVkIHRvXG4gICAqIHByb2Nlc3MgdGhlIGNvbmZpZ3VyYXRpb24gYXJndW1lbnRzIHByaW9yIHRvIHJlbmRlcmluZ1xuICAgKi9cbiAgY29uZmlndXJlKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIHRoaXMgaXMgdGhlIGNvcmUgbWV0aG9kIGZvciBhbGwgY29udHJvbHMgdG8gcHJvZHVjZSB0aGUgZm9ybSBlbGVtZW50cyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBkb21cbiAgICogdGhlIGltcGxlbWVudGF0aW9uIGluIGNvbnRyb2wuanMgd2lsbCByZXR1cm5cbiAgICogU3VwcG9ydGVkIHJldHVybiBjb25maWd1cmF0aW9uIGVsZW1lbnRzOlxuICAgKiAgIC0gZmllbGQgLSB0aGUgRE9NIGVsZW1lbnRcbiAgICogICAtIG5vTGFiZWwgLSB0aGlzIGNvbnRyb2wgc2hvdWxkbid0IGhhdmUgYSBsYWJlbCAobm9yIGEgc3BhY2UgZm9yIGEgbGFiZWwpXG4gICAqICAgLSBoaWRkZW4gLSB0aGlzIGNvbnRyb2wgc2hvdWxkbid0IHJlbmRlciBhbnl0aGluZyB2aXNpYmxlIHRvIHRoZSBwYWdlXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIEVsZW1lbnQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZm9ybSwgb3IgYW4gb2JqZWN0L2hhc2ggb2YgY29uZmlndXJhdGlvbiBhcyBhYm92ZVxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgbGV0IHtsYWJlbCwgdHlwZSwgLi4uZGF0YX0gPSB0aGlzLmNvbmZpZztcbiAgICByZXR1cm4gdGhpcy5tYXJrdXAodHlwZSwgdXRpbHMucGFyc2VkSHRtbChsYWJlbCksIGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNvZGUgdG8gZXhlY3V0ZSBmb3Igc3VwcG9ydGVkIGV2ZW50c1xuICAgKiB0byBpbXBsZW1lbnQgYW4gb25SZW5kZXIgZXZlbnQgaW4gYSBjaGlsZCBjbGFzcywgc2ltcGx5IGRlZmluZSBhbiBvblJlbmRlciBtZXRob2RcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSAtIG9wdGlvbmFsIHR5cGUgb2YgZXZlbnQgdG8gcmV0cmlldmUgYW4gZXZlbnQgZnVuY3Rpb24gZm9yLiBJZiBub3Qgc3BlY2lmaWVkIGFsbCBldmVudHMgcmV0dXJuZWRcbiAgICogQHJldHVybiB7RnVuY3Rpb24vT2JqZWN0fSAtIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgZm9yIHNwZWNpZmllZCBldmVudCwgb3IgYWxsIGV2ZW50cyBvZiBubyBldmVudFR5cGUgaXMgc3BlY2lmaWVkXG4gICAqL1xuICBvbihldmVudFR5cGUpIHtcbiAgICBsZXQgZXZlbnRzID0ge1xuXG4gICAgICAvLyBleGVjdXRlZCBqdXN0IHByaW9yIHRvIHRoZSByb3cgYmVpbmcgcmV0dXJuZWQgYnkgdGhlIGxheW91dCBjbGFzcy4gUmVjZWl2ZXMgdGhlIERPTWVsZW1lbnQgYWJvdXQgdG8gYmUgcGFzc2VkIGJhY2tcbiAgICAgIHByZXJlbmRlcjogKGVsZW1lbnQpID0+IHt9LFxuXG4gICAgICAvLyBvblJlbmRlciBldmVudCB0byBleGVjdXRlIGNvZGUgZWFjaCB0aW1lIGFuIGluc3RhbmNlIG9mIHRoaXMgY29udHJvbCBpcyBpbmplY3RlZCBpbnRvIHRoZSBET01cbiAgICAgIHJlbmRlcjogKGV2dCkgPT4ge1xuICAgICAgICAvLyBjaGVjayBmb3IgYSBjbGFzcyByZW5kZXIgZXZlbnQgLSBkZWZhdWx0IHRvIGFuIGVtcHR5IGZ1bmN0aW9uXG4gICAgICAgIGxldCBvblJlbmRlciA9ICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5vblJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy5vblJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBjaGVjayBmb3IgYW55IGNzcyAmIGphdmFzY3JpcHQgdG8gaW5jbHVkZVxuICAgICAgICBpZiAodGhpcy5jc3MpIHtcbiAgICAgICAgICB1dGlscy5nZXRTdHlsZXModGhpcy5jc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmpzICYmICF1dGlscy5pc0NhY2hlZCh0aGlzLmpzKSkge1xuICAgICAgICAgIHV0aWxzLmdldFNjcmlwdHModGhpcy5qcykuZG9uZShvblJlbmRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25SZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGV2ZW50VHlwZSA/IGV2ZW50c1tldmVudFR5cGVdIDogZXZlbnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIGNlbnRyYWxpc2VkIGVycm9yIGhhbmRsaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIG1lc3NhZ2UgdG8gb3V0cHV0IHRvIHRoZSBjb25zb2xlXG4gICAqL1xuICBzdGF0aWMgZXJyb3IobWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBsaW5rIHRvIHRoZSB1dGlscy5tYXJrdXAgbWV0aG9kXG4gICAqIGlkZWFsbHkgdGhpcyB3b3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBhIHBhcmVudCAnZG9tJyB0eXBlIGVsZW1lbnQgc3VwcG9ydGluZyBkb20gaGVscGVyIHR5cGUgbWV0aG9kc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfEFycmF5fSBjb250ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gYXR0cmlidXRlc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XG4gICAqL1xuICBtYXJrdXAodGFnLCBjb250ZW50ID0gJycsIGF0dHJpYnV0ZXMgPSB7fSkge1xuICAgIHRoaXMuZWxlbWVudCA9IHV0aWxzLm1hcmt1cCh0YWcsIGNvbnRlbnQsIGF0dHJpYnV0ZXMpO1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgZXNjYXBlZCBIVE1MIGludG8gdXNhYmxlIEhUTUxcbiAgICogQHBhcmFtICB7U3RyaW5nfSBodG1sIGVzY2FwZWQgSFRNTFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgcGFyc2VkIEhUTUxcbiAgICovXG4gIHBhcnNlZEh0bWwoaHRtbCkge1xuICAgIHJldHVybiB1dGlscy5wYXJzZWRIdG1sKGh0bWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIGNvbnZlcnQgYSBoeXBoZW5hdGVkIHN0cmluZyB0byBjYW1lbENhc2VcbiAgICogQHBhcmFtICB7U3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGNhbWVsQ2FzZShzdHIpIHtcbiAgICByZXR1cm4gdXRpbHMuY2FtZWxDYXNlKHN0cik7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29udHJvbC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7OztBQUtBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXNCQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkJBO0FBeUJBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7OztBQTFSQTtBQUNBO0FBQ0E7Ozs7OztBQXZFQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/60:/* no static exports found *//* all exports used *//*!********************************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/~/babel-regenerator-runtime/runtime.js ***!
  \********************************************************************************************//***/function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global, process) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  "use strict";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === "function" && Symbol.iterator || "@@iterator";\n\n  var inModule = typeof module === "object";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we\'re in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don\'t bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we\'re in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there\'s no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don\'t have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: "normal", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: "throw", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = "suspendedStart";\n  var GenStateSuspendedYield = "suspendedYield";\n  var GenStateExecuting = "executing";\n  var GenStateCompleted = "completed";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = "GeneratorFunction";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    ["next", "throw", "return"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === "function" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === "object" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, "next");\n    var invokeThrow = invoke.bind(generator, "throw");\n    var invokeReturn = invoke.bind(generator, "return");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error("Generator is already running");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === "throw") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === "return" ||\n              (method === "throw" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator["return"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === "throw") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = "throw";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === "return") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === "throw") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = "throw";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // "next" with an undefined arg.\n          method = "next";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === "next") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === "throw") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = "next";\n            arg = undefined;\n          }\n\n        } else if (method === "return") {\n          context.abrupt("return", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === "normal") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === "next") {\n              // Deliberately forget the last sent value so that we don\'t\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === "throw") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = "throw";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return "[object Generator]";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = "normal";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: "root" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === "function") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === "t" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === "throw") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = "throw";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === "root") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle("end");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, "catchLoc");\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error("try statement without catch or finally");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, "finallyLoc") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === "break" ||\n           type === "continue") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === "throw") {\n        throw record.arg;\n      }\n\n      if (record.type === "break" ||\n          record.type === "continue") {\n        this.next = record.arg;\n      } else if (record.type === "return") {\n        this.rval = record.arg;\n        this.next = "end";\n      } else if (record.type === "normal" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    "catch": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === "throw") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error("illegal catch attempt");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === "object" ? global :\n  typeof window === "object" ? window :\n  typeof self === "object" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ 57), __webpack_require__(/*! ./../process/browser.js */ 106)))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL20wY3MvRG9jdW1lbnRzL2VYcGFuZC9naXQvZm9ybS1idWlsZGVyL34vYmFiZWwtcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzPzcwYzQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogaHR0cHM6Ly9yYXcuZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9tYXN0ZXIvTElDRU5TRSBmaWxlLiBBblxuICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluXG4gKiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuIShmdW5jdGlvbihnbG9iYWwpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgaXRlcmF0b3JTeW1ib2wgPVxuICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG5cbiAgdmFyIGluTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIjtcbiAgdmFyIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lO1xuICBpZiAocnVudGltZSkge1xuICAgIGlmIChpbk1vZHVsZSkge1xuICAgICAgLy8gSWYgcmVnZW5lcmF0b3JSdW50aW1lIGlzIGRlZmluZWQgZ2xvYmFsbHkgYW5kIHdlJ3JlIGluIGEgbW9kdWxlLFxuICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS5cbiAgICAgIG1vZHVsZS5leHBvcnRzID0gcnVudGltZTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhc1xuICAgIC8vIGFscmVhZHkgZGVmaW5lZCBnbG9iYWxseS5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEZWZpbmUgdGhlIHJ1bnRpbWUgZ2xvYmFsbHkgKGFzIGV4cGVjdGVkIGJ5IGdlbmVyYXRlZCBjb2RlKSBhcyBlaXRoZXJcbiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LlxuICBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZSA9IGluTW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgOiB7fTtcblxuICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gSWYgb3V0ZXJGbiBwcm92aWRlZCwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZSgob3V0ZXJGbiB8fCBHZW5lcmF0b3IpLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgcnVudGltZS53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID0gR2VuZXJhdG9yLnByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgcnVudGltZS5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgdmFsdWUgaW5zdGFuY2VvZiBBd2FpdEFyZ3VtZW50YCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4gU29tZSBtYXkgY29uc2lkZXIgdGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgdG9vXG4gIC8vIGN1dGVzeSwgYnV0IHRoZXkgYXJlIGN1cm11ZGdlb25zLlxuICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIG5ldyBBd2FpdEFyZ3VtZW50KGFyZyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQXdhaXRBcmd1bWVudChhcmcpIHtcbiAgICB0aGlzLmFyZyA9IGFyZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgLy8gVGhpcyBpbnZva2UgZnVuY3Rpb24gaXMgd3JpdHRlbiBpbiBhIHN0eWxlIHRoYXQgYXNzdW1lcyBzb21lXG4gICAgLy8gY2FsbGluZyBmdW5jdGlvbiAob3IgUHJvbWlzZSkgd2lsbCBoYW5kbGUgZXhjZXB0aW9ucy5cbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZW5lcmF0b3JbbWV0aG9kXShhcmcpO1xuICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudFxuICAgICAgICA/IFByb21pc2UucmVzb2x2ZSh2YWx1ZS5hcmcpLnRoZW4oaW52b2tlTmV4dCwgaW52b2tlVGhyb3cpXG4gICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGVcbiAgICAgICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgICAgICAvLyByZWFzb24uIE5vdGUgdGhhdCByZWplY3Rpb25zIG9mIHlpZWxkZWQgUHJvbWlzZXMgYXJlIG5vdFxuICAgICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZVxuICAgICAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpblxuICAgICAgICAgICAgLy8gYmVoYXZpb3IgYmV0d2VlbiB5aWVsZCBhbmQgYXdhaXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIGl0XG4gICAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWRcbiAgICAgICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBnZW5lcmF0b3IsIGFiYW5kb24gaXRlcmF0aW9uLCB3aGF0ZXZlcikuIFdpdGhcbiAgICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGVcbiAgICAgICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGVcbiAgICAgICAgICAgIC8vIG9ubHkgb3B0aW9uIGlzIHRvIHRocm93IGl0IGZyb20gdGhlIGF3YWl0IGV4cHJlc3Npb24sIGFuZFxuICAgICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgaW52b2tlID0gcHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpO1xuICAgIH1cblxuICAgIHZhciBpbnZva2VOZXh0ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcIm5leHRcIik7XG4gICAgdmFyIGludm9rZVRocm93ID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInRocm93XCIpO1xuICAgIHZhciBpbnZva2VSZXR1cm4gPSBpbnZva2UuYmluZChnZW5lcmF0b3IsIFwicmV0dXJuXCIpO1xuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVzb2x2ZShjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgcnVudGltZS5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpXG4gICAgKTtcblxuICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbilcbiAgICAgID8gaXRlciAvLyBJZiBvdXRlckZuIGlzIGEgZ2VuZXJhdG9yLCByZXR1cm4gdGhlIGZ1bGwgaXRlcmF0b3IuXG4gICAgICA6IGl0ZXIubmV4dCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7XG4gICAgICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCkge1xuICAgIHZhciBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlRXhlY3V0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVDb21wbGV0ZWQpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzpcbiAgICAgICAgLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLWdlbmVyYXRvcnJlc3VtZVxuICAgICAgICByZXR1cm4gZG9uZVJlc3VsdCgpO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUpIHtcbiAgICAgICAgICBpZiAobWV0aG9kID09PSBcInJldHVyblwiIHx8XG4gICAgICAgICAgICAgIChtZXRob2QgPT09IFwidGhyb3dcIiAmJiBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAvLyBBIHJldHVybiBvciB0aHJvdyAod2hlbiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIG5vIHRocm93XG4gICAgICAgICAgICAvLyBtZXRob2QpIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC5cbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhXG4gICAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgICB2YXIgcmV0dXJuTWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAocmV0dXJuTWV0aG9kKSB7XG4gICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChyZXR1cm5NZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBhcmcpO1xuICAgICAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXR1cm4gbWV0aG9kIHRocmV3IGFuIGV4Y2VwdGlvbiwgbGV0IHRoYXRcbiAgICAgICAgICAgICAgICAvLyBleGNlcHRpb24gcHJldmFpbCBvdmVyIHRoZSBvcmlnaW5hbCByZXR1cm4gb3IgdGhyb3cuXG4gICAgICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHRoZSBvdXRlciByZXR1cm4sIG5vdyB0aGF0IHRoZSBkZWxlZ2F0ZVxuICAgICAgICAgICAgICAvLyBpdGVyYXRvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goXG4gICAgICAgICAgICBkZWxlZ2F0ZS5pdGVyYXRvclttZXRob2RdLFxuICAgICAgICAgICAgZGVsZWdhdGUuaXRlcmF0b3IsXG4gICAgICAgICAgICBhcmdcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBMaWtlIHJldHVybmluZyBnZW5lcmF0b3IudGhyb3codW5jYXVnaHQpLCBidXQgd2l0aG91dCB0aGVcbiAgICAgICAgICAgIC8vIG92ZXJoZWFkIG9mIGFuIGV4dHJhIGZ1bmN0aW9uIGNhbGwuXG4gICAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVsZWdhdGUgZ2VuZXJhdG9yIHJhbiBhbmQgaGFuZGxlZCBpdHMgb3duIGV4Y2VwdGlvbnMgc29cbiAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIHdoYXQgdGhlIG1ldGhvZCB3YXMsIHdlIGNvbnRpbnVlIGFzIGlmIGl0IGlzXG4gICAgICAgICAgLy8gXCJuZXh0XCIgd2l0aCBhbiB1bmRlZmluZWQgYXJnLlxuICAgICAgICAgIG1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcbiAgICAgICAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAgICAgICBjb250ZXh0W2RlbGVnYXRlLnJlc3VsdE5hbWVdID0gaW5mby52YWx1ZTtcbiAgICAgICAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICBjb250ZXh0Ll9zZW50ID0gYXJnO1xuXG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSBhcmc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQuc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oYXJnKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgICBtZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICAgIGFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICBjb250ZXh0LmFicnVwdChcInJldHVyblwiLCBhcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIHZhciBpbmZvID0ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHJlY29yZC5hcmcgPT09IENvbnRpbnVlU2VudGluZWwpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LmRlbGVnYXRlICYmIG1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykgY2FsbCBhYm92ZS5cbiAgICAgICAgICBtZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBydW50aW1lLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgdGhpcy5zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuICAgICAgICByZXR1cm4gISFjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xufSkoXG4gIC8vIEFtb25nIHRoZSB2YXJpb3VzIHRyaWNrcyBmb3Igb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWxcbiAgLy8gb2JqZWN0LCB0aGlzIHNlZW1zIHRvIGJlIHRoZSBtb3N0IHJlbGlhYmxlIHRlY2huaXF1ZSB0aGF0IGRvZXMgbm90XG4gIC8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuXG4gIHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDpcbiAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDogdGhpc1xuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9tMGNzL0RvY3VtZW50cy9lWHBhbmQvZ2l0L2Zvcm0tYnVpbGRlci9+L2JhYmVsLXJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qc1xuLy8gbW9kdWxlIGlkID0gNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/72:/* no static exports found *//* all exports used *//*!************************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/autocomplete.js ***!
  \************************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nvar _dom = __webpack_require__(/*! ../dom */ 50);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlAutocomplete = function (_control) {\n  _inherits(controlAutocomplete, _control);\n\n  function controlAutocomplete() {\n    _classCallCheck(this, controlAutocomplete);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlAutocomplete.prototype.build = function build() {\n    var _this2 = this;\n\n    var _config = this.config,\n        values = _config.values,\n        type = _config.type,\n        data = _objectWithoutProperties(_config, [\'values\', \'type\']);\n\n    var keyboardNav = function keyboardNav(e) {\n      var list = e.target.nextSibling.nextSibling;\n      var hiddenField = e.target.nextSibling;\n      var activeOption = _this2.getActiveOption(list);\n      var keyCodeMapVals = [[38, function () {\n        var previous = _this2.getPreviousOption(activeOption);\n        if (previous) {\n          _this2.selectOption(list, previous);\n        }\n      }], [40, function () {\n        var next = _this2.getNextOption(activeOption);\n        if (next) {\n          _this2.selectOption(list, next);\n        }\n      }], [13, function () {\n        if (activeOption) {\n          e.target.value = activeOption.innerHTML;\n          hiddenField.value = activeOption.getAttribute(\'value\');\n          if (list.style.display === \'none\') {\n            _this2.showList(list, activeOption);\n          } else {\n            _this2.hideList(list);\n          }\n        }\n        e.preventDefault();\n      }], [27, function () {\n        _this2.hideList(list);\n      }]];\n      var keyCodeMap = new Map(keyCodeMapVals);\n\n      var direction = keyCodeMap.get(e.keyCode);\n      if (!direction) {\n        direction = function direction() {\n          return false;\n        };\n      }\n\n      return direction();\n    };\n    var fauxEvents = {\n      focus: function focus(evt) {\n        var list = evt.target.nextSibling.nextSibling;\n        var filteredOptions = (0, _dom.filter)(list.querySelectorAll(\'li\'), evt.target.value);\n        evt.target.addEventListener(\'keydown\', keyboardNav);\n        if (evt.target.value.length > 0) {\n          var selectedOption = filteredOptions.length > 0 ? filteredOptions[filteredOptions.length - 1] : null;\n          _this2.showList(list, selectedOption);\n        }\n      },\n      blur: function blur(evt) {\n        evt.target.removeEventListener(\'keydown\', keyboardNav);\n        setTimeout(function () {\n          evt.target.nextSibling.nextSibling.style.display = \'none\';\n        }, 200);\n      },\n      input: function input(evt) {\n        var list = evt.target.nextSibling.nextSibling;\n        var hiddenField = evt.target.nextSibling;\n        hiddenField.value = evt.target.value;\n        var filteredOptions = (0, _dom.filter)(list.querySelectorAll(\'li\'), evt.target.value);\n        if (filteredOptions.length == 0) {\n          _this2.hideList(list);\n        } else {\n          var activeOption = _this2.getActiveOption(list);\n          if (!activeOption) {\n            activeOption = filteredOptions[filteredOptions.length - 1];\n          }\n          _this2.showList(list, activeOption);\n        }\n      }\n    };\n    var fauxAttrs = Object.assign({}, data, {\n      id: data.id + \'-input\',\n      autocomplete: \'off\',\n      events: fauxEvents\n    });\n    var hiddenAttrs = Object.assign({}, data, { type: \'hidden\' });\n    delete fauxAttrs.name;\n    var field = [this.markup(\'input\', null, fauxAttrs), this.markup(\'input\', null, hiddenAttrs)];\n\n    var options = values.map(function (optionData) {\n      var label = optionData.label;\n      var config = {\n        events: {\n          click: function click(evt) {\n            var list = evt.target.parentElement;\n            var field = list.previousSibling.previousSibling;\n            field.value = optionData.label;\n            field.nextSibling.value = optionData.value;\n            _this2.hideList(list);\n          }\n        },\n        value: optionData.value\n      };\n      return _this2.markup(\'li\', label, config);\n    });\n\n    field.push(this.markup(\'ul\', options, { id: data.id + \'-list\', className: \'fb-\' + type + \'-list\' }));\n    return field;\n  };\n\n  controlAutocomplete.prototype.hideList = function hideList(list) {\n    this.selectOption(list, null);\n    list.style.display = \'none\';\n  };\n\n  controlAutocomplete.prototype.showList = function showList(list, selectedOption) {\n    this.selectOption(list, selectedOption);\n    list.style.display = \'block\';\n    list.style.width = list.parentElement.offsetWidth + \'px\';\n  };\n\n  controlAutocomplete.prototype.getActiveOption = function getActiveOption(list) {\n    var activeOption = list.getElementsByClassName(\'active-option\')[0];\n    if (activeOption && activeOption.style.display !== \'none\') {\n      return activeOption;\n    }\n    return null;\n  };\n\n  controlAutocomplete.prototype.getPreviousOption = function getPreviousOption(current) {\n    var previous = current;\n    do {\n      previous = previous ? previous.previousSibling : null;\n    } while (previous != null && previous.style.display === \'none\');\n    return previous;\n  };\n\n  controlAutocomplete.prototype.getNextOption = function getNextOption(current) {\n    var next = current;\n    do {\n      next = next ? next.nextSibling : null;\n    } while (next != null && next.style.display === \'none\');\n    return next;\n  };\n\n  controlAutocomplete.prototype.selectOption = function selectOption(list, selectedOption) {\n    var options = list.querySelectorAll(\'li\');\n    options.forEach(function (option) {\n      option.classList.remove(\'active-option\');\n    });\n    if (selectedOption) {\n      selectedOption.classList.add(\'active-option\');\n    }\n  };\n\n  controlAutocomplete.prototype.onRender = function onRender(evt) {};\n\n  return controlAutocomplete;\n}(_control3.default);\n\nexports.default = controlAutocomplete;\n\n_control3.default.register(\'autocomplete\', controlAutocomplete);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvYXV0b2NvbXBsZXRlLmpzPzE1ZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQge2ZpbHRlcn0gZnJvbSAnLi4vZG9tJztcbi8qKlxuICogQXV0b2NvbXBsZXRlIGNsYXNzXG4gKiBPdXRwdXQgYW4gYXV0b2NvbXBsZXRlIGZvcm0gZWxlbWVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjb250cm9sQXV0b2NvbXBsZXRlIGV4dGVuZHMgY29udHJvbCB7XG5cbiAgLyoqXG4gICAqIGJ1aWxkIGEgdGV4dCBET00gZWxlbWVudCwgc3VwcG9ydGluZyBvdGhlciBqcXVlcnkgdGV4dCBmb3JtLWNvbnRyb2wnc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBFbGVtZW50IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZvcm0uXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICBsZXQge3ZhbHVlcywgdHlwZSwgLi4uZGF0YX0gPSB0aGlzLmNvbmZpZztcbiAgICBjb25zdCBrZXlib2FyZE5hdiA9IChlKSA9PiB7XG4gICAgICBjb25zdCBsaXN0ID0gZS50YXJnZXQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICBjb25zdCBoaWRkZW5GaWVsZCA9IGUudGFyZ2V0Lm5leHRTaWJsaW5nO1xuICAgICAgbGV0IGFjdGl2ZU9wdGlvbiA9IHRoaXMuZ2V0QWN0aXZlT3B0aW9uKGxpc3QpO1xuICAgICAgY29uc3Qga2V5Q29kZU1hcFZhbHMgPSBbXG4gICAgICAgIC8vIHVwXG4gICAgICAgIFszOCwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5nZXRQcmV2aW91c09wdGlvbihhY3RpdmVPcHRpb24pO1xuICAgICAgICAgIGlmIChwcmV2aW91cykge1xuICAgICAgICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbihsaXN0LCBwcmV2aW91cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gZG93blxuICAgICAgICBbNDAsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXh0ID0gdGhpcy5nZXROZXh0T3B0aW9uKGFjdGl2ZU9wdGlvbik7XG4gICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24obGlzdCwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XSxcbiAgICAgICAgLy8gZW50ZXJcbiAgICAgICAgWzEzLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKGFjdGl2ZU9wdGlvbikge1xuICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9IGFjdGl2ZU9wdGlvbi5pbm5lckhUTUw7XG4gICAgICAgICAgICAgIGhpZGRlbkZpZWxkLnZhbHVlID0gYWN0aXZlT3B0aW9uLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcbiAgICAgICAgICAgIGlmIChsaXN0LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICAgICAgICB0aGlzLnNob3dMaXN0KGxpc3QsIGFjdGl2ZU9wdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmhpZGVMaXN0KGxpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1dLFxuICAgICAgICAvLyBlc2NhcGVcbiAgICAgICAgWzI3LCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oaWRlTGlzdChsaXN0KTtcbiAgICAgICAgfV1cbiAgICAgIF07XG4gICAgICBsZXQga2V5Q29kZU1hcCA9IG5ldyBNYXAoa2V5Q29kZU1hcFZhbHMpO1xuXG4gICAgICBsZXQgZGlyZWN0aW9uID0ga2V5Q29kZU1hcC5nZXQoZS5rZXlDb2RlKTtcbiAgICAgIGlmKCFkaXJlY3Rpb24pIHtcbiAgICAgICAgZGlyZWN0aW9uID0gKCkgPT4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaXJlY3Rpb24oKTtcbiAgICB9O1xuICAgIGNvbnN0IGZhdXhFdmVudHMgPSB7XG4gICAgICBmb2N1czogZXZ0ID0+IHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGV2dC50YXJnZXQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkT3B0aW9ucyA9IGZpbHRlcihsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyksIGV2dC50YXJnZXQudmFsdWUpO1xuICAgICAgICBldnQudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlib2FyZE5hdik7XG4gICAgICAgIGlmICggZXZ0LnRhcmdldC52YWx1ZS5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoID4gMCA/IGZpbHRlcmVkT3B0aW9uc1tmaWx0ZXJlZE9wdGlvbnMubGVuZ3RoLTFdIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xpc3QobGlzdCwgc2VsZWN0ZWRPcHRpb24pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYmx1cjogZXZ0ID0+IHtcbiAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5Ym9hcmROYXYpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBldnQudGFyZ2V0Lm5leHRTaWJsaW5nLm5leHRTaWJsaW5nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9LFxuICAgICAgaW5wdXQ6IChldnQpID0+IHtcbiAgICAgICAgY29uc3QgbGlzdCA9IGV2dC50YXJnZXQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnN0IGhpZGRlbkZpZWxkID0gZXZ0LnRhcmdldC5uZXh0U2libGluZztcbiAgICAgICAgaGlkZGVuRmllbGQudmFsdWUgPSBldnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE9wdGlvbnMgPSBmaWx0ZXIobGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpLCBldnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgaWYgKGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIHRoaXMuaGlkZUxpc3QobGlzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICBsZXQgYWN0aXZlT3B0aW9uID0gdGhpcy5nZXRBY3RpdmVPcHRpb24obGlzdCk7XG4gICAgICAgICBpZiAoIWFjdGl2ZU9wdGlvbikge1xuICAgICAgICAgICAgYWN0aXZlT3B0aW9uID0gZmlsdGVyZWRPcHRpb25zW2ZpbHRlcmVkT3B0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgIH1cbiAgICAgICAgIHRoaXMuc2hvd0xpc3QobGlzdCwgYWN0aXZlT3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgbGV0IGZhdXhBdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEsXG4gICAgICB7XG4gICAgICAgIGlkOiBgJHtkYXRhLmlkfS1pbnB1dGAsXG4gICAgICAgIGF1dG9jb21wbGV0ZTogJ29mZicsXG4gICAgICAgIGV2ZW50czogZmF1eEV2ZW50c1xuICAgICAgfSk7XG4gICAgbGV0IGhpZGRlbkF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge3R5cGU6ICdoaWRkZW4nfSk7XG4gICAgZGVsZXRlIGZhdXhBdHRycy5uYW1lO1xuICAgIGNvbnN0IGZpZWxkID0gW1xuICAgICAgdGhpcy5tYXJrdXAoJ2lucHV0JywgbnVsbCwgZmF1eEF0dHJzKSxcbiAgICAgIHRoaXMubWFya3VwKCdpbnB1dCcsIG51bGwsIGhpZGRlbkF0dHJzKVxuICAgIF07XG5cbiAgICBjb25zdCBvcHRpb25zID0gdmFsdWVzLm1hcChvcHRpb25EYXRhID0+IHtcbiAgICAgIGxldCBsYWJlbCA9IG9wdGlvbkRhdGEubGFiZWw7XG4gICAgICBsZXQgY29uZmlnID0ge1xuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICBjbGljazogZXZ0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBldnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGxpc3QucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gb3B0aW9uRGF0YS5sYWJlbDtcbiAgICAgICAgICAgIGZpZWxkLm5leHRTaWJsaW5nLnZhbHVlID0gb3B0aW9uRGF0YS52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuaGlkZUxpc3QobGlzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogb3B0aW9uRGF0YS52YWx1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLm1hcmt1cCgnbGknLCBsYWJlbCwgY29uZmlnKTtcbiAgICB9KTtcblxuICAgIGZpZWxkLnB1c2godGhpcy5tYXJrdXAoJ3VsJywgb3B0aW9ucyxcbiAgICAgIHtpZDogYCR7ZGF0YS5pZH0tbGlzdGAsIGNsYXNzTmFtZTogYGZiLSR7dHlwZX0tbGlzdGB9KSk7XG4gICAgcmV0dXJuIGZpZWxkO1xuICB9XG5cblxuICAvKipcbiAgICogSGlkZXMgYXV0b2NvbXBsZXRlIGxpc3QgYW5kIGRlc2VsZWN0cyBhbGwgdGhlIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IGxpc3QgLSBsaXN0IG9mIGF1dG9jb21wbGV0ZSBvcHRpb25zXG4gICAqL1xuICBoaWRlTGlzdChsaXN0KSB7XG4gICAgdGhpcy5zZWxlY3RPcHRpb24obGlzdCwgbnVsbCk7XG4gICAgbGlzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIGF1dG9jb21wbGV0ZSBsaXN0LiBBdXRvbWF0aWNhbGx5IHNlbGVjdHMgJ3NlbGVjdGVkT3B0aW9uJ1xuICAgKiBAcGFyYW0ge09iamVjdH0gbGlzdCAtIGxpc3Qgb2YgYXV0b2NvbXBsZXRlIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGVkT3B0aW9uIC0gb3B0aW9uIHRvIGJlIHNlbGVjdGVkXG4gICovXG4gIHNob3dMaXN0KGxpc3QsIHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgdGhpcy5zZWxlY3RPcHRpb24obGlzdCwgc2VsZWN0ZWRPcHRpb24pO1xuICAgIGxpc3Quc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgbGlzdC5zdHlsZS53aWR0aCA9IGxpc3QucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aCArICdweCc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBmaXJzdCBvcHRpb24gZnJvbSBhdXRvY29tcGxldGUgbGlzdCB3aXRoICdhY3RpdmUtb3B0aW9uJyBjbGFzc1xuICAgKiBAcGFyYW0ge09iamVjdH0gbGlzdCAtIGxpc3Qgb2YgYXV0b2NvbXBsZXRlIG9wdGlvbnNcbiAgICogQHJldHVybiB7T2JqZWN0fSBmaXJzdCBsaXN0IG9wdGlvbiB3aXRoICdhY3RpdmUtb3B0aW9uJyBjbGFzc1xuICAqL1xuICBnZXRBY3RpdmVPcHRpb24obGlzdCkge1xuICAgIGNvbnN0IGFjdGl2ZU9wdGlvbiA9IGxpc3QuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLW9wdGlvbicpWzBdO1xuICAgIGlmIChhY3RpdmVPcHRpb24gJiYgYWN0aXZlT3B0aW9uLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykge1xuICAgICAgcmV0dXJuIGFjdGl2ZU9wdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUHJldmlvdXMgbmV4dCBvcHRpb24gdG8gdGhlIGN1cnJlbnQgb3B0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjdXJyZW50IC0gY3VycmVudGx5IHNlbGVjdGVkIG9wdGlvblxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHByZXZpb3VzIG9wdGlvbiB0byB0aGUgY3VycmVudCBvcHRpb24gb3IgbnVsbCBpZiBwcmV2aW91cyBkb2Vzbid0IGV4aXN0XG4gICovXG4gIGdldFByZXZpb3VzT3B0aW9uKGN1cnJlbnQpIHtcbiAgICBsZXQgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgIGRvIHtcbiAgICAgIHByZXZpb3VzID0gcHJldmlvdXMgPyBwcmV2aW91cy5wcmV2aW91c1NpYmxpbmcgOiBudWxsO1xuICAgIH0gd2hpbGUgKHByZXZpb3VzICE9IG51bGwgJiYgcHJldmlvdXMuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKTtcbiAgICByZXR1cm4gcHJldmlvdXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBuZXh0IG9wdGlvbiB0byB0aGUgY3VycmVudCBvcHRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGN1cnJlbnQgLSBjdXJyZW50bHkgc2VsZWN0ZWQgb3B0aW9uXG4gICAqIEByZXR1cm4ge09iamVjdH0gbmV4dCBvcHRpb24gdG8gdGhlIGN1cnJlbnQgb3B0aW9uIG9yIG51bGwgaWYgbmV4dCBkb2Vzbid0IGV4aXN0XG4gICovXG4gIGdldE5leHRPcHRpb24oY3VycmVudCkge1xuICAgIGxldCBuZXh0ID0gY3VycmVudDtcbiAgICBkbyB7XG4gICAgICBuZXh0ID0gbmV4dCA/IG5leHQubmV4dFNpYmxpbmc6IG51bGw7XG4gICAgfSB3aGlsZSAobmV4dCAhPSBudWxsICYmIG5leHQuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIG9wdGlvbiBpbiBhdXRvY29tcGxldGUgbGlzdC4gUmVtb3ZlcyBjbGFzcyAnYWN0aXZlLW9wdGlvbicgZnJvbSBhbGwgb3B0aW9uc1xuICAgKiBhbmQgdGhlbiBhZGRzIHRoYXQgY2xhc3MgdG8gJ3NlbGVjdGVkJyBvcHRpb24uIElmICdzZWxlY3RlZCcgaXMgbnVsbCB0aGVuIG5vIG9wdGlvbiBpcyBzZWxlY3RlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gbGlzdCAtIGxpc3Qgb2YgYXV0b2NvbXBsZXRlIG9wdGlvbnNcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGVkT3B0aW9uIC0gb3B0aW9uIC0gJ2xpJyBlbGVtZW50IC0gdG8gYmUgc2VsZWN0ZWQgaW4gYXV0b2NvbXBsZXRlIGxpc3RcbiAgICovXG4gIHNlbGVjdE9wdGlvbihsaXN0LCBzZWxlY3RlZE9wdGlvbikge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG4gICAgb3B0aW9ucy5mb3JFYWNoKChvcHRpb24pPT57XG4gICAgICBvcHRpb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLW9wdGlvbicpO1xuICAgIH0pO1xuICAgIGlmIChzZWxlY3RlZE9wdGlvbikge1xuICAgICAgc2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlLW9wdGlvbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBlbGVtZW50IGlzIHJlbmRlcmVkIGludG8gdGhlIERPTSwgZXhlY3V0ZSB0aGUgZm9sbG93aW5nIGNvZGUgdG8gaW5pdGlhbGlzZSBpdFxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZ0IC0gZXZlbnRcbiAgICovXG4gIG9uUmVuZGVyKGV2dCkge1xuICB9XG59XG5cbi8vIHJlZ2lzdGVyIHRpbnltY2UgYXMgYSByaWNodGV4dCBjb250cm9sXG5jb250cm9sLnJlZ2lzdGVyKCdhdXRvY29tcGxldGUnLCBjb250cm9sQXV0b2NvbXBsZXRlKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29udHJvbC9hdXRvY29tcGxldGUuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7O0FBSUE7Ozs7Ozs7OztBQU1BO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlCQTtBQWdDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBOzs7O0FBMU1BO0FBQ0E7QUE2TUEiLCJzb3VyY2VSb290IjoiIn0=')},/***/73:/* no static exports found *//* all exports used *//*!******************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/button.js ***!
  \******************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlButton = function (_control) {\n  _inherits(controlButton, _control);\n\n  function controlButton() {\n    _classCallCheck(this, controlButton);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlButton.prototype.build = function build() {\n    return {\n      field: this.markup(\'button\', this.label, this.config),\n      layout: \'noLabel\'\n    };\n  };\n\n  return controlButton;\n}(_control3.default);\n\nexports.default = controlButton;\n\n_control3.default.register(\'button\', controlButton);\n_control3.default.register([\'button\', \'submit\', \'reset\'], controlButton, \'button\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvYnV0dG9uLmpzP2RmM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5cbi8qKlxuICogQnV0dG9uIGNsYXNzXG4gKiBPdXRwdXQgYSA8YnV0dG9uPkxhYmVsPC9idXR0b24+IGZvcm0gZWxlbWVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjb250cm9sQnV0dG9uIGV4dGVuZHMgY29udHJvbCB7XG5cbiAgLyoqXG4gICAqIGJ1aWxkIGEgdGV4dCBET00gZWxlbWVudCwgc3VwcG9ydGluZyBvdGhlciBqcXVlcnkgdGV4dCBmb3JtLWNvbnRyb2wnc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBFbGVtZW50IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZvcm0uXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmllbGQ6IHRoaXMubWFya3VwKCdidXR0b24nLCB0aGlzLmxhYmVsLCB0aGlzLmNvbmZpZyksXG4gICAgICBsYXlvdXQ6ICdub0xhYmVsJ1xuICAgIH07XG4gIH1cbn1cblxuLy8gcmVnaXN0ZXIgdGhlIGZvbGxvd2luZyBjb250cm9sc1xuY29udHJvbC5yZWdpc3RlcignYnV0dG9uJywgY29udHJvbEJ1dHRvbik7XG5jb250cm9sLnJlZ2lzdGVyKFsnYnV0dG9uJywgJ3N1Ym1pdCcsICdyZXNldCddLCBjb250cm9sQnV0dG9uLCAnYnV0dG9uJyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbnRyb2wvYnV0dG9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUtBOzs7Ozs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTs7OztBQVpBO0FBQ0E7QUFjQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')},/***/74:/* no static exports found *//* all exports used *//*!*****************************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/file.fineuploader.js ***!
  \*****************************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _text = __webpack_require__(/*! ./text */ 53);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlFineUploader = function (_controlText) {\n  _inherits(controlFineUploader, _controlText);\n\n  function controlFineUploader() {\n    _classCallCheck(this, controlFineUploader);\n\n    return _possibleConstructorReturn(this, _controlText.apply(this, arguments));\n  }\n\n  controlFineUploader.prototype.configure = function configure() {\n    var _this2 = this;\n\n    this.js = this.classConfig.js || \'//cdnjs.cloudflare.com/ajax/libs/file-uploader/5.14.2/jquery.fine-uploader/jquery.fine-uploader.min.js\';\n    this.css = [this.classConfig.css || \'//cdnjs.cloudflare.com/ajax/libs/file-uploader/5.14.2/jquery.fine-uploader/fine-uploader-gallery.min.css\', {\n      type: \'inline\',\n      id: \'fineuploader-inline\',\n      style: \'\\n          .qq-uploader .qq-error-message {\\n            position: absolute;\\n            left: 20%;\\n            top: 20px;\\n            width: 60%;\\n            color: #a94442;\\n            background: #f2dede;\\n            border: solid 1px #ebccd1;\\n            padding: 15px;\\n            line-height: 1.5em;\\n            text-align: center;\\n            z-index: 99999;\\n          }\\n          .qq-uploader .qq-error-message span {\\n            display: inline-block;\\n            text-align: left;\\n          }\'\n    }];\n    this.handler = this.classConfig.handler || \'/upload\';\n    [\'js\', \'css\', \'handler\'].forEach(function (key) {\n      return delete _this2.classConfig[key];\n    });\n\n    var template = this.classConfig.template || \'\\n      <div class="qq-uploader-selector qq-uploader qq-gallery" qq-drop-area-text="Drop files here">\\n        <div class="qq-total-progress-bar-container-selector qq-total-progress-bar-container">\\n          <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar"></div>\\n        </div>\\n        <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>\\n          <span class="qq-upload-drop-area-text-selector"></span>\\n        </div>\\n        <div class="qq-upload-button-selector qq-upload-button">\\n          <div>Upload a file</div>\\n        </div>\\n        <span class="qq-drop-processing-selector qq-drop-processing">\\n          <span>Processing dropped files...</span>\\n          <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>\\n        </span>\\n        <ul class="qq-upload-list-selector qq-upload-list" role="region" aria-live="polite" aria-relevant="additions removals">\\n          <li>\\n            <span role="status" class="qq-upload-status-text-selector qq-upload-status-text"></span>\\n            <div class="qq-progress-bar-container-selector qq-progress-bar-container">\\n              <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" class="qq-progress-bar-selector qq-progress-bar"></div>\\n            </div>\\n            <span class="qq-upload-spinner-selector qq-upload-spinner"></span>\\n            <div class="qq-thumbnail-wrapper">\\n              <img class="qq-thumbnail-selector" qq-max-size="120" qq-server-scale>\\n            </div>\\n            <button type="button" class="qq-upload-cancel-selector qq-upload-cancel">X</button>\\n            <button type="button" class="qq-upload-retry-selector qq-upload-retry">\\n              <span class="qq-btn qq-retry-icon" aria-label="Retry"></span>\\n              Retry\\n            </button>\\n            <div class="qq-file-info">\\n              <div class="qq-file-name">\\n                <span class="qq-upload-file-selector qq-upload-file"></span>\\n                <span class="qq-edit-filename-icon-selector qq-btn qq-edit-filename-icon" aria-label="Edit filename"></span>\\n              </div>\\n              <input class="qq-edit-filename-selector qq-edit-filename" tabindex="0" type="text">\\n              <span class="qq-upload-size-selector qq-upload-size"></span>\\n              <button type="button" class="qq-btn qq-upload-delete-selector qq-upload-delete">\\n                <span class="qq-btn qq-delete-icon" aria-label="Delete"></span>\\n              </button>\\n              <button type="button" class="qq-btn qq-upload-pause-selector qq-upload-pause">\\n                <span class="qq-btn qq-pause-icon" aria-label="Pause"></span>\\n              </button>\\n              <button type="button" class="qq-btn qq-upload-continue-selector qq-upload-continue">\\n                <span class="qq-btn qq-continue-icon" aria-label="Continue"></span>\\n              </button>\\n            </div>\\n          </li>\\n        </ul>\\n        <dialog class="qq-alert-dialog-selector">\\n          <div class="qq-dialog-message-selector"></div>\\n          <div class="qq-dialog-buttons">\\n            <button type="button" class="qq-cancel-button-selector">Close</button>\\n          </div>\\n        </dialog>\\n        <dialog class="qq-confirm-dialog-selector">\\n          <div class="qq-dialog-message-selector"></div>\\n          <div class="qq-dialog-buttons">\\n            <button type="button" class="qq-cancel-button-selector">No</button>\\n            <button type="button" class="qq-ok-button-selector">Yes</button>\\n          </div>\\n        </dialog>\\n        <dialog class="qq-prompt-dialog-selector">\\n          <div class="qq-dialog-message-selector"></div>\\n          <input type="text">\\n          <div class="qq-dialog-buttons">\\n            <button type="button" class="qq-cancel-button-selector">Cancel</button>\\n            <button type="button" class="qq-ok-button-selector">Ok</button>\\n          </div>\\n        </dialog>\\n      </div>\';\n    this.fineTemplate = $(\'<div/>\').attr(\'id\', \'qq-template\').html(template);\n  };\n\n  controlFineUploader.prototype.build = function build() {\n    this.input = this.markup(\'input\', null, { type: \'hidden\', name: this.config.name, id: this.config.name });\n    this.wrapper = this.markup(\'div\', \'\', { id: this.config.name + \'-wrapper\' });\n    return [this.input, this.wrapper];\n  };\n\n  controlFineUploader.prototype.onRender = function onRender() {\n    var wrapper = $(this.wrapper);\n    var input = $(this.input);\n\n    var config = $.extend(true, {\n      request: {\n        endpoint: this.handler\n      },\n      deleteFile: {\n        enabled: true,\n        endpoint: this.handler\n      },\n      chunking: {\n        enabled: true,\n        concurrent: {\n          enabled: true\n        },\n        success: {\n          endpoint: this.handler + (this.handler.indexOf(\'?\') == -1 ? \'?\' : \'&\') + \'done\'\n        }\n      },\n      resume: {\n        enabled: true\n      },\n      retry: {\n        enableAuto: true,\n        showButton: true\n      },\n      callbacks: {\n        onError: function onError(id, name, errorReason, xhrOrXdr) {\n          if (errorReason.slice(-1) != \'.\') {\n            errorReason += \'.\';\n          }\n          var error = $(\'<div />\').addClass(\'qq-error-message\').html(\'<span>Error processing upload: <b>\' + name + \'</b>.<br />Reason: \' + errorReason + \'</span>\').prependTo(wrapper.find(\'.qq-uploader\'));\n          setTimeout(function () {\n            error.fadeOut(function () {\n              error.remove();\n            });\n          }, 6000);\n        },\n        onStatusChange: function onStatusChange(id, oldStatus, newStatus) {\n          var uploads = wrapper.fineUploader(\'getUploads\');\n\n          var successful = [];\n          for (var _iterator = uploads, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref = _i.value;\n            }\n\n            var upload = _ref;\n\n            if (upload.status != \'upload successful\') {\n              continue;\n            }\n            successful.push(upload.name);\n          }\n          input.val(successful.join(\', \'));\n        }\n      },\n      template: this.fineTemplate\n    }, this.classConfig);\n    wrapper.fineUploader(config);\n  };\n\n  _createClass(controlFineUploader, null, [{\n    key: \'definition\',\n    get: function get() {\n      return {\n        i18n: {\n          default: \'Fine Uploader\'\n        }\n      };\n    }\n  }]);\n\n  return controlFineUploader;\n}(_text2.default);\n\nexports.default = controlFineUploader;\n\n_text2.default.register(\'file\', _text2.default, \'file\');\n_text2.default.register(\'fineuploader\', controlFineUploader, \'file\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvZmlsZS5maW5ldXBsb2FkZXIuanM/YzE3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29udHJvbFRleHQgZnJvbSAnLi90ZXh0JztcblxuLyoqXG4gKiBGaW5ldXBsb2FkZXIgY2xhc3MgLSByZW5kZXIgdGhlIGZpbmV1cGxvYWRlciB0b29sIChodHRwczovL2ZpbmV1cGxvYWRlci5jb20pIGluIHBsYWNlIG9mIHRoZSB0cmFkaXRpb25hbCBmaWxlIHVwbG9hZCB3aWRnZXRcbiAqIEZvciBhc3Npc3RhbmNlIHdpdGggZnVydGhlciBjb25maWd1cmluZyBGaW5lIFVwbG9hZGVyIGluIHlvdXIgYXBwbGljYXRpb24sIHBsZWFzZSByZWZlciB0bzpcbiAqIGh0dHBzOi8vZG9jcy5maW5ldXBsb2FkZXIuY29tL2JyYW5jaC9tYXN0ZXIvYXBpL29wdGlvbnMtdWkuaHRtbFxuICpcbiAqIElmIHlvdSB3aXNoIHRvIHVzZSB5b3VyIG93biBpbnN0YWxsYXRpb24gb2YgZmluZXVwbG9hZGVyLCByZWZlciB0byBoZXJlOlxuICogICAtIGh0dHBzOi8vZG9jcy5maW5ldXBsb2FkZXIuY29tL3F1aWNrc3RhcnQvMDEtZ2V0dGluZy1zdGFydGVkLmh0bWxcbiAqICAgLSBZb3UgY2FuIGRvd25sb2FkIGZyb20gaGVyZTogaHR0cHM6Ly9maW5ldXBsb2FkZXIuY29tL2N1c3RvbWl6ZVxuICogICAtIFlvdSBjYW4gc3BlY2lmeSB0aGUgbG9jYXRpb24gb2YgeW91ciBqYXZhc2NyaXB0ICYgY3NzIGluIG9wdHMuY29udHJvbENvbmZpZy5maWxlXG4gKiAgIC0gVGhlICdqcycgb3B0aW9uIHNob3VsZCBwb2ludCB0byB0aGUganF1ZXJ5LmZpbmUtdXBsb2FkZXIubWluLmpzIGZpbGUgKG5vdGUgdGhpcyBpcyB0aGUgalF1ZXJ5IHBsdWdpbiB2ZXJzaW9uKVxuICpcbiAqICAgRS5nLiB2YXIgb3B0cyA9IHtcbiAqICAgIC8vIG90aGVyIGZvcm1idWlsZGVyIG9wdGlvbnMgaGVyZVxuICpcbiAqICAgIGNvbnRyb2xDb25maWc6IHtcbiAqICAgICAgJ2ZpbGUuZmluZXVwbG9hZGVyJzoge1xuICogICAgICAgIGpzOiAnL3BhdGgvdG8vanF1ZXJ5LmZpbmUtdXBsb2FkZXIubWluLmpzJyxcbiAqICAgICAgICBjc3M6ICcvcGF0aC90by5jc3MnLFxuICogICAgICAgIGhhbmRsZXI6ICcvcGF0aC90by9oYW5kbGVyLnBocCcsXG4gKlxuICogICAgICAgIC8vIG90aGVyIGZpbmUgdXBsb2FkZXIgY29uZmlndXJhdGlvbiBvcHRpb25zIGhlcmVcbiAqICAgICAgfVxuICogICAgfVxuICogIH07XG4gKlxuICogVGhpcyBwbHVnaW4gaXMgYnkgZGVmYXVsdCBjb25maWd1cmVkIHRvIHVzZSB0aGUgJ1RyYWRpdGlvbmFsJyBidWlsZCwgYnV0IHlvdSBjYW4gZWFzaWx5IHJlY29uZmlndXJlIGJ5IHBhc3NpbmcgYXBwcm9wcmlhdGUgRmluZSBVcGxvYWRlciBjb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gY29udHJvbENvbmZpZy5maWxlLlxuICogQSBzaW1wbGUgcGhwIHVwbG9hZCBoYW5kbGVyIGVuZHBvaW50IGNhbiBiZSBmb3VuZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vRmluZVVwbG9hZGVyL3BocC10cmFkaXRpb25hbC1zZXJ2ZXIuIFRvIHVzZSB0aGlzIGZvciB5b3VyIGhhbmRsZXIsIHNpbXBseSBzZXQgdGhlIGNvbnRyb2xDb25maWcuZmluZXVwbG9hZGVyLmhhbmRsZXIgb3B0aW9uIHRvIGJlICcvcGF0aC90by9waHAtdHJhZGl0aW9uYWwtc2VydmVyL2VuZHBvaW50LnBocCdcbiAqXG4gKiBJZiB5b3Ugd2lzaCB0byBkZWZpbmUgYSBjdXN0b20gdXBsb2FkZXIgaGFuZGxlciBVUkwsIGRlZmluZSBjb250cm9sQ29uZmlnLmZpbGUuaGFuZGxlciBpbiB0aGUgZm9ybWJ1aWxkZXIgb3B0aW9ucy4gRGVmYXVsdHMgdG8gL3VwbG9hZFxuICogSWYgeW91IHdpc2ggdG8gZGVmaW5lIGEgY3VzdG9tIHRlbXBsYXRlIGZvciB0aGUgaW50ZXJmYWNlLCB0aGlzIGNhbiBiZSBkZWZpbmVkIGluIGNvbnRyb2xDb25maWcuZmlsZS50ZW1wbGF0ZS4gSXQgZGVmYXVsdHMgdG8gdGhlIGdhbGxlcnkgdGVtcGxhdGUgcHJvdmlkZWQgYnkgdGhlIEZpbmV1cGxvYWRlciBwcm9qZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbnRyb2xGaW5lVXBsb2FkZXIgZXh0ZW5kcyBjb250cm9sVGV4dCB7XG5cbiAgLyoqXG4gICAqIENsYXNzIGNvbmZpZ3VyYXRpb24gLSByZXR1cm4gdGhlIGljb25zICYgbGFiZWwgcmVsYXRlZCB0byB0aGlzIGNvbnRyb2xcbiAgICogQHJldHVybiB7T2JqZWN0fSBkZWZpbml0aW9uIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZpbml0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpMThuOiB7XG4gICAgICAgIGRlZmF1bHQ6ICdGaW5lIFVwbG9hZGVyJ1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogY29uZmlndXJlIHRoZSBmaW5ldXBsb2FkIGRlZmF1bHQgc2V0dGluZ3MgJiBhbGxvdyBmb3IgY29udHJvbENvbmZpZyBvcHRpb25zXG4gICAqL1xuICBjb25maWd1cmUoKSB7XG4gICAgdGhpcy5qcyA9IHRoaXMuY2xhc3NDb25maWcuanMgfHwgJy8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZpbGUtdXBsb2FkZXIvNS4xNC4yL2pxdWVyeS5maW5lLXVwbG9hZGVyL2pxdWVyeS5maW5lLXVwbG9hZGVyLm1pbi5qcyc7XG4gICAgdGhpcy5jc3MgPSBbXG4gICAgICB0aGlzLmNsYXNzQ29uZmlnLmNzcyB8fCAnLy9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZmlsZS11cGxvYWRlci81LjE0LjIvanF1ZXJ5LmZpbmUtdXBsb2FkZXIvZmluZS11cGxvYWRlci1nYWxsZXJ5Lm1pbi5jc3MnLFxuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5saW5lJyxcbiAgICAgICAgaWQ6ICdmaW5ldXBsb2FkZXItaW5saW5lJyxcbiAgICAgICAgc3R5bGU6IGBcbiAgICAgICAgICAucXEtdXBsb2FkZXIgLnFxLWVycm9yLW1lc3NhZ2Uge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgbGVmdDogMjAlO1xuICAgICAgICAgICAgdG9wOiAyMHB4O1xuICAgICAgICAgICAgd2lkdGg6IDYwJTtcbiAgICAgICAgICAgIGNvbG9yOiAjYTk0NDQyO1xuICAgICAgICAgICAgYmFja2dyb3VuZDogI2YyZGVkZTtcbiAgICAgICAgICAgIGJvcmRlcjogc29saWQgMXB4ICNlYmNjZDE7XG4gICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgei1pbmRleDogOTk5OTk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5xcS11cGxvYWRlciAucXEtZXJyb3ItbWVzc2FnZSBzcGFuIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgfWBcbiAgICAgIH1cbiAgICBdO1xuICAgIHRoaXMuaGFuZGxlciA9IHRoaXMuY2xhc3NDb25maWcuaGFuZGxlciB8fCAnL3VwbG9hZCc7XG4gICAgWydqcycsICdjc3MnLCAnaGFuZGxlciddLmZvckVhY2goa2V5ID0+IGRlbGV0ZSB0aGlzLmNsYXNzQ29uZmlnW2tleV0pO1xuXG4gICAgLy8gZmluZXVwbG9hZGVyIHRlbXBsYXRlIHRoYXQgbmVlZHMgdG8gYmUgZGVmaW5lZCBmb3IgdGhlIFVJXG4gICAgbGV0IHRlbXBsYXRlID0gdGhpcy5jbGFzc0NvbmZpZy50ZW1wbGF0ZSB8fCBgXG4gICAgICA8ZGl2IGNsYXNzPVwicXEtdXBsb2FkZXItc2VsZWN0b3IgcXEtdXBsb2FkZXIgcXEtZ2FsbGVyeVwiIHFxLWRyb3AtYXJlYS10ZXh0PVwiRHJvcCBmaWxlcyBoZXJlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJxcS10b3RhbC1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIHFxLXRvdGFsLXByb2dyZXNzLWJhci1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IHJvbGU9XCJwcm9ncmVzc2JhclwiIGFyaWEtdmFsdWVub3c9XCIwXCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwiMTAwXCIgY2xhc3M9XCJxcS10b3RhbC1wcm9ncmVzcy1iYXItc2VsZWN0b3IgcXEtcHJvZ3Jlc3MtYmFyIHFxLXRvdGFsLXByb2dyZXNzLWJhclwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInFxLXVwbG9hZC1kcm9wLWFyZWEtc2VsZWN0b3IgcXEtdXBsb2FkLWRyb3AtYXJlYVwiIHFxLWhpZGUtZHJvcHpvbmU+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJxcS11cGxvYWQtZHJvcC1hcmVhLXRleHQtc2VsZWN0b3JcIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicXEtdXBsb2FkLWJ1dHRvbi1zZWxlY3RvciBxcS11cGxvYWQtYnV0dG9uXCI+XG4gICAgICAgICAgPGRpdj5VcGxvYWQgYSBmaWxlPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c3BhbiBjbGFzcz1cInFxLWRyb3AtcHJvY2Vzc2luZy1zZWxlY3RvciBxcS1kcm9wLXByb2Nlc3NpbmdcIj5cbiAgICAgICAgICA8c3Bhbj5Qcm9jZXNzaW5nIGRyb3BwZWQgZmlsZXMuLi48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJxcS1kcm9wLXByb2Nlc3Npbmctc3Bpbm5lci1zZWxlY3RvciBxcS1kcm9wLXByb2Nlc3Npbmctc3Bpbm5lclwiPjwvc3Bhbj5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICA8dWwgY2xhc3M9XCJxcS11cGxvYWQtbGlzdC1zZWxlY3RvciBxcS11cGxvYWQtbGlzdFwiIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxpdmU9XCJwb2xpdGVcIiBhcmlhLXJlbGV2YW50PVwiYWRkaXRpb25zIHJlbW92YWxzXCI+XG4gICAgICAgICAgPGxpPlxuICAgICAgICAgICAgPHNwYW4gcm9sZT1cInN0YXR1c1wiIGNsYXNzPVwicXEtdXBsb2FkLXN0YXR1cy10ZXh0LXNlbGVjdG9yIHFxLXVwbG9hZC1zdGF0dXMtdGV4dFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJxcS1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIHFxLXByb2dyZXNzLWJhci1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiByb2xlPVwicHJvZ3Jlc3NiYXJcIiBhcmlhLXZhbHVlbm93PVwiMFwiIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiIGNsYXNzPVwicXEtcHJvZ3Jlc3MtYmFyLXNlbGVjdG9yIHFxLXByb2dyZXNzLWJhclwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFxLXVwbG9hZC1zcGlubmVyLXNlbGVjdG9yIHFxLXVwbG9hZC1zcGlubmVyXCI+PC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInFxLXRodW1ibmFpbC13cmFwcGVyXCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJxcS10aHVtYm5haWwtc2VsZWN0b3JcIiBxcS1tYXgtc2l6ZT1cIjEyMFwiIHFxLXNlcnZlci1zY2FsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJxcS11cGxvYWQtY2FuY2VsLXNlbGVjdG9yIHFxLXVwbG9hZC1jYW5jZWxcIj5YPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInFxLXVwbG9hZC1yZXRyeS1zZWxlY3RvciBxcS11cGxvYWQtcmV0cnlcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxcS1idG4gcXEtcmV0cnktaWNvblwiIGFyaWEtbGFiZWw9XCJSZXRyeVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgUmV0cnlcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInFxLWZpbGUtaW5mb1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZmlsZS1uYW1lXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxcS11cGxvYWQtZmlsZS1zZWxlY3RvciBxcS11cGxvYWQtZmlsZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFxLWVkaXQtZmlsZW5hbWUtaWNvbi1zZWxlY3RvciBxcS1idG4gcXEtZWRpdC1maWxlbmFtZS1pY29uXCIgYXJpYS1sYWJlbD1cIkVkaXQgZmlsZW5hbWVcIj48L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJxcS1lZGl0LWZpbGVuYW1lLXNlbGVjdG9yIHFxLWVkaXQtZmlsZW5hbWVcIiB0YWJpbmRleD1cIjBcIiB0eXBlPVwidGV4dFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFxLXVwbG9hZC1zaXplLXNlbGVjdG9yIHFxLXVwbG9hZC1zaXplXCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInFxLWJ0biBxcS11cGxvYWQtZGVsZXRlLXNlbGVjdG9yIHFxLXVwbG9hZC1kZWxldGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFxLWJ0biBxcS1kZWxldGUtaWNvblwiIGFyaWEtbGFiZWw9XCJEZWxldGVcIj48L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInFxLWJ0biBxcS11cGxvYWQtcGF1c2Utc2VsZWN0b3IgcXEtdXBsb2FkLXBhdXNlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJxcS1idG4gcXEtcGF1c2UtaWNvblwiIGFyaWEtbGFiZWw9XCJQYXVzZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicXEtYnRuIHFxLXVwbG9hZC1jb250aW51ZS1zZWxlY3RvciBxcS11cGxvYWQtY29udGludWVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInFxLWJ0biBxcS1jb250aW51ZS1pY29uXCIgYXJpYS1sYWJlbD1cIkNvbnRpbnVlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxkaWFsb2cgY2xhc3M9XCJxcS1hbGVydC1kaWFsb2ctc2VsZWN0b3JcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3JcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZGlhbG9nLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicXEtY2FuY2VsLWJ1dHRvbi1zZWxlY3RvclwiPkNsb3NlPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGlhbG9nPlxuICAgICAgICA8ZGlhbG9nIGNsYXNzPVwicXEtY29uZmlybS1kaWFsb2ctc2VsZWN0b3JcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3JcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZGlhbG9nLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicXEtY2FuY2VsLWJ1dHRvbi1zZWxlY3RvclwiPk5vPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInFxLW9rLWJ1dHRvbi1zZWxlY3RvclwiPlllczwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2RpYWxvZz5cbiAgICAgICAgPGRpYWxvZyBjbGFzcz1cInFxLXByb21wdC1kaWFsb2ctc2VsZWN0b3JcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3JcIj48L2Rpdj5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicXEtZGlhbG9nLWJ1dHRvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicXEtY2FuY2VsLWJ1dHRvbi1zZWxlY3RvclwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJxcS1vay1idXR0b24tc2VsZWN0b3JcIj5PazwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2RpYWxvZz5cbiAgICAgIDwvZGl2PmA7XG4gICAgdGhpcy5maW5lVGVtcGxhdGUgPSAkKCc8ZGl2Lz4nKVxuICAgICAgLmF0dHIoJ2lkJywgJ3FxLXRlbXBsYXRlJylcbiAgICAgIC5odG1sKHRlbXBsYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBidWlsZCBhIGRpdiBET00gZWxlbWVudCB3aXRoIGlkXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIEVsZW1lbnQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZm9ybS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIHRoaXMuaW5wdXQgPSB0aGlzLm1hcmt1cCgnaW5wdXQnLCBudWxsLCB7dHlwZTogJ2hpZGRlbicsIG5hbWU6IHRoaXMuY29uZmlnLm5hbWUsIGlkOiB0aGlzLmNvbmZpZy5uYW1lfSk7XG4gICAgdGhpcy53cmFwcGVyID0gdGhpcy5tYXJrdXAoJ2RpdicsICcnLCB7aWQ6IHRoaXMuY29uZmlnLm5hbWUgKyAnLXdyYXBwZXInfSk7XG4gICAgcmV0dXJuIFt0aGlzLmlucHV0LCB0aGlzLndyYXBwZXJdO1xuICB9XG5cbiAgLyoqXG4gICAqIG9uUmVuZGVyIGNhbGxiYWNrXG4gICAqL1xuICBvblJlbmRlcigpIHtcbiAgICBsZXQgd3JhcHBlciA9ICQodGhpcy53cmFwcGVyKTtcbiAgICBsZXQgaW5wdXQgPSAkKHRoaXMuaW5wdXQpO1xuXG4gICAgLy8gd2UgbmVlZCB0byBrbm93IHdoZXJlIHRoZSBzZXJ2ZXIgaGFuZGxlciBmaWxlIGxvY2F0ZWQuIEkuZS4gd2hlcmUgdG8gd2Ugc2VuZCB0aGUgdXBsb2FkIFBPU1QgdG8/XG4gICAgLy8gdG8gc2V0IHRoaXMsIGRlZmluZSBjb250cm9sQ29uZmlnLmZpbGUuaGFuZGxlciBpbiB0aGUgZm9ybWJ1aWxkZXIgb3B0aW9uc1xuICAgIC8vIGRlZmF1bHRzIHRvICcvdXBsb2FkJ1xuXG4gICAgLy8gZGVlcCBjb3B5IG1lcmdlIGluIHBhc3NlZCBjbGFzcyBjb25maWd1cmF0aW9uIG92ZXIgYW55IGNvbmZsaWN0aW5nIGRlZmF1bHRzXG4gICAgbGV0IGNvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgZW5kcG9pbnQ6IHRoaXMuaGFuZGxlclxuICAgICAgfSxcbiAgICAgIGRlbGV0ZUZpbGU6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgZW5kcG9pbnQ6IHRoaXMuaGFuZGxlclxuICAgICAgfSxcbiAgICAgIGNodW5raW5nOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGNvbmN1cnJlbnQ6IHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHN1Y2Nlc3M6IHtcbiAgICAgICAgICBlbmRwb2ludDogdGhpcy5oYW5kbGVyICsgKHRoaXMuaGFuZGxlci5pbmRleE9mKCc/JykgPT0gLTEgPyAnPycgOiAnJicpICsgJ2RvbmUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXN1bWU6IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHJldHJ5OiB7XG4gICAgICAgIGVuYWJsZUF1dG86IHRydWUsXG4gICAgICAgIHNob3dCdXR0b246IHRydWVcbiAgICAgIH0sXG4gICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgb25FcnJvcjogKGlkLCBuYW1lLCBlcnJvclJlYXNvbiwgeGhyT3JYZHIpID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3JSZWFzb24uc2xpY2UoLTEpICE9ICcuJykge1xuICAgICAgICAgICAgZXJyb3JSZWFzb24gKz0gJy4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZXJyb3IgPSAkKCc8ZGl2IC8+JylcbiAgICAgICAgICAgIC5hZGRDbGFzcygncXEtZXJyb3ItbWVzc2FnZScpXG4gICAgICAgICAgICAuaHRtbChgPHNwYW4+RXJyb3IgcHJvY2Vzc2luZyB1cGxvYWQ6IDxiPiR7bmFtZX08L2I+LjxiciAvPlJlYXNvbjogJHtlcnJvclJlYXNvbn08L3NwYW4+YClcbiAgICAgICAgICAgIC5wcmVwZW5kVG8od3JhcHBlci5maW5kKCcucXEtdXBsb2FkZXInKSk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBlcnJvci5mYWRlT3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgZXJyb3IucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCA2MDAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TdGF0dXNDaGFuZ2U6IChpZCwgb2xkU3RhdHVzLCBuZXdTdGF0dXMpID0+IHtcbiAgICAgICAgICBsZXQgdXBsb2FkcyA9IHdyYXBwZXIuZmluZVVwbG9hZGVyKCdnZXRVcGxvYWRzJyk7XG5cbiAgICAgICAgICAvLyByZXRyaWV2ZSBhbiBhcnJheSBvZiBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgZmlsZW5hbWVzXG4gICAgICAgICAgbGV0IHN1Y2Nlc3NmdWwgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCB1cGxvYWQgb2YgdXBsb2Fkcykge1xuICAgICAgICAgICAgaWYgKHVwbG9hZC5zdGF0dXMgIT0gJ3VwbG9hZCBzdWNjZXNzZnVsJykge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1Y2Nlc3NmdWwucHVzaCh1cGxvYWQubmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0LnZhbChzdWNjZXNzZnVsLmpvaW4oJywgJykpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGVtcGxhdGU6IHRoaXMuZmluZVRlbXBsYXRlXG4gICAgfSwgdGhpcy5jbGFzc0NvbmZpZyk7XG4gICAgd3JhcHBlci5maW5lVXBsb2FkZXIoY29uZmlnKTtcbiAgfVxufVxuXG4vLyByZWdpc3RlciBmaW5ldXBsb2FkZXIgYXMgYSBzdWJ0eXBlIHRvIHRoZSAnZmlsZScgdHlwZSBjb250cm9sIChkZWZpbmVkIGluIHRleHQuanMpXG4vLyBhbHNvIHJlZ2lzdGVyIHRoZSBkZWZhdWx0IGZpbGUgdXBsb2FkZXIgYXMgYSBzdWJ0eXBlIHRvbyBzbyBpdCBhcHBlYXJzIGluIHRoZSBkcm9wZG93blxuY29udHJvbFRleHQucmVnaXN0ZXIoJ2ZpbGUnLCBjb250cm9sVGV4dCwgJ2ZpbGUnKTtcbmNvbnRyb2xUZXh0LnJlZ2lzdGVyKCdmaW5ldXBsb2FkZXInLCBjb250cm9sRmluZVVwbG9hZGVyLCAnZmlsZScpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29udHJvbC9maWxlLmZpbmV1cGxvYWRlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQWdDQTs7Ozs7Ozs7O0FBaUJBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFIQTtBQXVCQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUF1RUE7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUxBO0FBU0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTNCQTtBQTZCQTtBQXJEQTtBQXVEQTtBQUNBO0FBQ0E7OztBQXJNQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFLQTs7Ozs7O0FBWkE7QUFDQTtBQThNQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9')},/***/75:/* no static exports found *//* all exports used *//*!******************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/hidden.js ***!
  \******************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlHidden = function (_control) {\n  _inherits(controlHidden, _control);\n\n  function controlHidden() {\n    _classCallCheck(this, controlHidden);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlHidden.prototype.build = function build() {\n    return {\n      field: this.markup(\'input\', null, this.config),\n      layout: \'hidden\'\n    };\n  };\n\n  return controlHidden;\n}(_control3.default);\n\nexports.default = controlHidden;\n\n_control3.default.register(\'hidden\', controlHidden);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvaGlkZGVuLmpzPzM0Y2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5cbi8qKlxuICogSGlkZGVuIGlucHV0IGNsYXNzXG4gKiBPdXRwdXQgYSA8aW5wdXQgdHlwZT1cImhpZGRlblwiIC4uLiAvPiBmb3JtIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgY29udHJvbEhpZGRlbiBleHRlbmRzIGNvbnRyb2wge1xuXG4gIC8qKlxuICAgKiBidWlsZCBhIGhpZGRlbiBpbnB1dCBkb20gZWxlbWVudFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBFbGVtZW50IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZvcm0uXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmllbGQ6IHRoaXMubWFya3VwKCdpbnB1dCcsIG51bGwsIHRoaXMuY29uZmlnKSxcbiAgICAgIGxheW91dDogJ2hpZGRlbidcbiAgICB9O1xuICB9XG59XG5cbi8vIHJlZ2lzdGVyIHRoZSBmb2xsb3dpbmcgY29udHJvbHNcbmNvbnRyb2wucmVnaXN0ZXIoJ2hpZGRlbicsIGNvbnRyb2xIaWRkZW4pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb250cm9sL2hpZGRlbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFLQTs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7Ozs7QUFaQTtBQUNBO0FBY0EiLCJzb3VyY2VSb290IjoiIn0=')},/***/76:/* no static exports found *//* all exports used *//*!*********************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/paragraph.js ***!
  \*********************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nvar _utils = __webpack_require__(/*! ../utils */ 19);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlParagraph = function (_control) {\n  _inherits(controlParagraph, _control);\n\n  function controlParagraph() {\n    _classCallCheck(this, controlParagraph);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlParagraph.prototype.build = function build() {\n    var _config = this.config,\n        type = _config.type,\n        attrs = _objectWithoutProperties(_config, [\'type\']);\n\n    var typeMap = {\n      \'paragraph\': \'p\',\n      \'header\': this.subtype\n    };\n    if (typeMap[type]) {\n      type = typeMap[type];\n    }\n    return {\n      field: this.markup(type, _utils2.default.parsedHtml(this.label), attrs),\n      layout: \'noLabel\'\n    };\n  };\n\n  return controlParagraph;\n}(_control3.default);\n\nexports.default = controlParagraph;\n\n_control3.default.register([\'paragraph\', \'header\'], controlParagraph);\n_control3.default.register([\'p\', \'address\', \'blockquote\', \'canvas\', \'output\'], controlParagraph, \'paragraph\');\n_control3.default.register([\'h1\', \'h2\', \'h3\'], controlParagraph, \'header\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvcGFyYWdyYXBoLmpzPzRhMzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMnO1xuLyoqXG4gKiBUZXh0IGlucHV0IGNsYXNzXG4gKiBPdXRwdXQgYSA8aW5wdXQgdHlwZT1cInRleHRcIiAuLi4gLz4gZm9ybSBlbGVtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbnRyb2xQYXJhZ3JhcGggZXh0ZW5kcyBjb250cm9sIHtcblxuICAvKipcbiAgICogYnVpbGQgYSBwYXJhZ3JhcGggRE9NIGVsZW1lbnRcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gRWxlbWVudCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmb3JtLlxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgbGV0IHt0eXBlLCAuLi5hdHRyc30gPSB0aGlzLmNvbmZpZztcblxuICAgIC8vIHNvbWUgdHlwZXMgdXNlIGFuIGVsZW1lbnQgb2YgYSBkaWZmZXJlbnQgbmFtZVxuICAgIGxldCB0eXBlTWFwID0ge1xuICAgICAgJ3BhcmFncmFwaCc6ICdwJyxcbiAgICAgICdoZWFkZXInOiB0aGlzLnN1YnR5cGVcbiAgICB9O1xuICAgIGlmICh0eXBlTWFwW3R5cGVdKSB7XG4gICAgICB0eXBlID0gdHlwZU1hcFt0eXBlXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpZWxkOiB0aGlzLm1hcmt1cCh0eXBlLCB1dGlscy5wYXJzZWRIdG1sKHRoaXMubGFiZWwpLCBhdHRycyksXG4gICAgICBsYXlvdXQ6ICdub0xhYmVsJ1xuICAgIH07XG4gIH1cbn1cblxuLy8gcmVnaXN0ZXIgdGhlIGZvbGxvd2luZyBjb250cm9sc1xuY29udHJvbC5yZWdpc3RlcihbJ3BhcmFncmFwaCcsICdoZWFkZXInXSwgY29udHJvbFBhcmFncmFwaCk7XG5jb250cm9sLnJlZ2lzdGVyKFsncCcsICdhZGRyZXNzJywgJ2Jsb2NrcXVvdGUnLCAnY2FudmFzJywgJ291dHB1dCddLCBjb250cm9sUGFyYWdyYXBoLCAncGFyYWdyYXBoJyk7XG5jb250cm9sLnJlZ2lzdGVyKFsnaDEnLCAnaDInLCAnaDMnXSwgY29udHJvbFBhcmFncmFwaCwgJ2hlYWRlcicpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb250cm9sL3BhcmFncmFwaC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQUlBOzs7Ozs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7Ozs7QUF0QkE7QUFDQTtBQXdCQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=')},/***/77:/* no static exports found *//* all exports used *//*!******************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/select.js ***!
  \******************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _control2 = __webpack_require__(/*! ../control */ 6);\n\nvar _control3 = _interopRequireDefault(_control2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlSelect = function (_control) {\n  _inherits(controlSelect, _control);\n\n  function controlSelect() {\n    _classCallCheck(this, controlSelect);\n\n    return _possibleConstructorReturn(this, _control.apply(this, arguments));\n  }\n\n  controlSelect.prototype.build = function build() {\n    var _this2 = this;\n\n    var options = [];\n\n    var _config = this.config,\n        values = _config.values,\n        value = _config.value,\n        placeholder = _config.placeholder,\n        type = _config.type,\n        inline = _config.inline,\n        other = _config.other,\n        toggle = _config.toggle,\n        data = _objectWithoutProperties(_config, [\'values\', \'value\', \'placeholder\', \'type\', \'inline\', \'other\', \'toggle\']);\n\n    var optionType = type.replace(\'-group\', \'\');\n    var isSelect = type === \'select\';\n    if (data.multiple || type === \'checkbox-group\') {\n      data.name = data.name + \'[]\';\n    }\n\n    if (type === \'checkbox-group\' && data.required) {\n      this.onRender = this.groupRequired;\n    }\n\n    delete data.title;\n\n    if (values) {\n      if (placeholder && isSelect) {\n        options.push(this.markup(\'option\', placeholder, {\n          disabled: null,\n          selected: null\n        }));\n      }\n\n      for (var i = 0; i < values.length; i++) {\n        var option = values[i];\n        if (typeof option === \'string\') {\n          option = { \'label\': option, \'value\': option };\n        }\n\n        var _option = option,\n            _option$label = _option.label,\n            label = _option$label === undefined ? \'\' : _option$label,\n            optionAttrs = _objectWithoutProperties(_option, [\'label\']);\n\n        optionAttrs.id = data.id + \'-\' + i;\n\n        if (!optionAttrs.selected || placeholder) {\n          delete optionAttrs.selected;\n        }\n\n        if (typeof value !== \'undefined\' && optionAttrs.value === value) {\n          optionAttrs.selected = true;\n        }\n\n        if (isSelect) {\n          var o = this.markup(\'option\', document.createTextNode(label), optionAttrs);\n          options.push(o);\n        } else {\n          var wrapperClass = optionType;\n          if (inline) {\n            wrapperClass += \'-inline\';\n          }\n          optionAttrs.type = optionType;\n          if (optionAttrs.selected) {\n            optionAttrs.checked = \'checked\';\n            delete optionAttrs.selected;\n          }\n          var input = this.markup(\'input\', null, Object.assign({}, data, optionAttrs));\n          var labelAttrs = { for: optionAttrs.id };\n          var labelContent = [input, label];\n          if (toggle) {\n            var kcToggle = this.markup(\'span\');\n            labelContent = [input, kcToggle, label];\n            labelAttrs.className = \'kc-toggle\';\n          }\n\n          var inputLabel = this.markup(\'label\', labelContent, labelAttrs);\n          var wrapper = this.markup(\'div\', inputLabel, { className: wrapperClass });\n          options.push(wrapper);\n        }\n      }\n\n      if (!isSelect && other) {\n        var otherOptionAttrs = {\n          id: data.id + \'-other\',\n          className: data.className + \' other-option\',\n          value: \'\',\n          events: {\n            click: function click() {\n              return _this2.otherOptionCB(otherOptionAttrs.id);\n            }\n          }\n        };\n\n        var _wrapperClass = optionType;\n        if (inline) {\n          _wrapperClass += \'-inline\';\n        }\n\n        var _optionAttrs = Object.assign({}, data, otherOptionAttrs);\n        _optionAttrs.type = optionType;\n\n        var otherValAttrs = {\n          type: \'text\',\n          events: {\n            input: function input(evt) {\n              var otherInput = evt.target;\n              var other = otherInput.previousElementSibling;\n              other.value = otherInput.value;\n            }\n          },\n          id: otherOptionAttrs.id + \'-value\',\n          className: \'other-val\'\n        };\n        var otherInputs = [this.markup(\'input\', null, _optionAttrs), document.createTextNode(\'Other\'), this.markup(\'input\', null, otherValAttrs)];\n        var _inputLabel = this.markup(\'label\', otherInputs, { for: _optionAttrs.id });\n        var _wrapper = this.markup(\'div\', _inputLabel, { className: _wrapperClass });\n        options.push(_wrapper);\n      }\n    }\n\n    if (type == \'select\') {\n      return this.markup(optionType, options, data);\n    } else {\n      return this.markup(\'div\', options, { className: type });\n    }\n  };\n\n  controlSelect.prototype.groupRequired = function groupRequired() {\n    var checkboxes = this.element.getElementsByTagName(\'input\');\n    var setValidity = function setValidity(checkbox, isValid) {\n      var minReq = _control3.default.mi18n(\'minSelectionRequired\', 1);\n      if (!isValid) {\n        checkbox.setCustomValidity(minReq);\n      } else {\n        checkbox.setCustomValidity(\'\');\n      }\n    };\n    var toggleRequired = function toggleRequired(checkboxes, isValid) {\n      [].forEach.call(checkboxes, function (cb) {\n        if (isValid) {\n          cb.removeAttribute(\'required\');\n        } else {\n          cb.setAttribute(\'required\', \'required\');\n        }\n        setValidity(cb, isValid);\n      });\n    };\n\n    var toggleValid = function toggleValid() {\n      var isValid = [].some.call(checkboxes, function (cb) {\n        return cb.checked;\n      });\n      toggleRequired(checkboxes, isValid);\n    };\n\n    for (var i = checkboxes.length - 1; i >= 0; i--) {\n      checkboxes[i].addEventListener(\'change\', toggleValid);\n    }\n    toggleValid();\n  };\n\n  controlSelect.prototype.otherOptionCB = function otherOptionCB(otherId) {\n    var otherInput = document.getElementById(otherId);\n    var otherInputValue = document.getElementById(otherId + \'-value\');\n\n    if (otherInput.checked) {\n      otherInputValue.style.display = \'inline-block\';\n    } else {\n      otherInputValue.style.display = \'none\';\n    }\n  };\n\n  _createClass(controlSelect, null, [{\n    key: \'definition\',\n    get: function get() {\n      return {\n        inactive: [\'checkbox\'],\n        mi18n: {\n          minSelectionRequired: \'minSelectionRequired\'\n        }\n      };\n    }\n  }]);\n\n  return controlSelect;\n}(_control3.default);\n\nexports.default = controlSelect;\n\n_control3.default.register([\'select\', \'checkbox-group\', \'radio-group\', \'checkbox\'], controlSelect);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvc2VsZWN0LmpzPzU3MWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbnRyb2wgZnJvbSAnLi4vY29udHJvbCc7XG5cbi8qKlxuICogVGV4dCBpbnB1dCBjbGFzc1xuICogT3V0cHV0IGEgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgLi4uIC8+IGZvcm0gZWxlbWVudFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBjb250cm9sU2VsZWN0IGV4dGVuZHMgY29udHJvbCB7XG5cbiAgLyoqXG4gICAqIGRlZmluaXRpb25cbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBzdGF0aWMgZ2V0IGRlZmluaXRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluYWN0aXZlOiBbJ2NoZWNrYm94J10sXG4gICAgICBtaTE4bjoge1xuICAgICAgICBtaW5TZWxlY3Rpb25SZXF1aXJlZDogJ21pblNlbGVjdGlvblJlcXVpcmVkJ1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogYnVpbGQgYSB0ZXh0IERPTSBlbGVtZW50LCBzdXBwb3J0aW5nIG90aGVyIGpxdWVyeSB0ZXh0IGZvcm0tY29udHJvbCdzXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIEVsZW1lbnQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZm9ybS5cbiAgICovXG4gIGJ1aWxkKCkge1xuICAgIGxldCBvcHRpb25zID0gW107XG4gICAgbGV0IHt2YWx1ZXMsIHZhbHVlLCBwbGFjZWhvbGRlciwgdHlwZSwgaW5saW5lLCBvdGhlciwgdG9nZ2xlLCAuLi5kYXRhfSA9IHRoaXMuY29uZmlnO1xuICAgIGxldCBvcHRpb25UeXBlID0gdHlwZS5yZXBsYWNlKCctZ3JvdXAnLCAnJyk7XG4gICAgbGV0IGlzU2VsZWN0ID0gdHlwZSA9PT0gJ3NlbGVjdCc7XG4gICAgaWYgKGRhdGEubXVsdGlwbGUgfHwgdHlwZSA9PT0gJ2NoZWNrYm94LWdyb3VwJykge1xuICAgICAgZGF0YS5uYW1lID0gZGF0YS5uYW1lICsgJ1tdJztcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2NoZWNrYm94LWdyb3VwJyAmJiBkYXRhLnJlcXVpcmVkKSB7XG4gICAgICB0aGlzLm9uUmVuZGVyID0gdGhpcy5ncm91cFJlcXVpcmVkO1xuICAgIH1cblxuICAgIGRlbGV0ZSBkYXRhLnRpdGxlO1xuXG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgLy8gaWYgYSBwbGFjZWhvbGRlciBpcyBzcGVjaWZpZWQsIGFkZCBpdCB0byB0aGUgdG9wIG9mIHRoZSBvcHRpb24gbGlzdFxuICAgICAgaWYgKHBsYWNlaG9sZGVyICYmIGlzU2VsZWN0KSB7XG4gICAgICAgIG9wdGlvbnMucHVzaCh0aGlzLm1hcmt1cCgnb3B0aW9uJywgcGxhY2Vob2xkZXIsIHtcbiAgICAgICAgICBkaXNhYmxlZDogbnVsbCxcbiAgICAgICAgICBzZWxlY3RlZDogbnVsbFxuICAgICAgICB9KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHByb2Nlc3MgdGhlIHJlc3Qgb2YgdGhlIG9wdGlvbnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBvcHRpb24gPSB2YWx1ZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIG9wdGlvbiA9IHsnbGFiZWwnOiBvcHRpb24sICd2YWx1ZSc6IG9wdGlvbn07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHtsYWJlbCA9ICcnLCAuLi5vcHRpb25BdHRyc30gPSBvcHRpb247XG4gICAgICAgIG9wdGlvbkF0dHJzLmlkID0gYCR7ZGF0YS5pZH0tJHtpfWA7XG5cbiAgICAgICAgLy8gZG9uJ3Qgc2VsZWN0IHRoaXMgb3B0aW9uIGlmIGEgcGxhY2Vob2xkZXIgaXMgZGVmaW5lZFxuICAgICAgICBpZiAoIW9wdGlvbkF0dHJzLnNlbGVjdGVkIHx8IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbkF0dHJzLnNlbGVjdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYSB2YWx1ZSBpcyBkZWZpbmVkIGF0IHNlbGVjdCBsZXZlbCwgc2VsZWN0IHRoaXMgYXR0cmlidXRlXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIG9wdGlvbkF0dHJzLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgIG9wdGlvbkF0dHJzLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1NlbGVjdCkge1xuICAgICAgICAgIGxldCBvID0gdGhpcy5tYXJrdXAoJ29wdGlvbicsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxhYmVsKSwgb3B0aW9uQXR0cnMpO1xuICAgICAgICAgIG9wdGlvbnMucHVzaChvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgd3JhcHBlckNsYXNzID0gb3B0aW9uVHlwZTtcbiAgICAgICAgICBpZiAoaW5saW5lKSB7XG4gICAgICAgICAgICB3cmFwcGVyQ2xhc3MgKz0gJy1pbmxpbmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcHRpb25BdHRycy50eXBlID0gb3B0aW9uVHlwZTtcbiAgICAgICAgICBpZiAob3B0aW9uQXR0cnMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbkF0dHJzLmNoZWNrZWQgPSAnY2hlY2tlZCc7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9uQXR0cnMuc2VsZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBpbnB1dCA9IHRoaXMubWFya3VwKCdpbnB1dCcsIG51bGwsIE9iamVjdC5hc3NpZ24oe30sIGRhdGEsIG9wdGlvbkF0dHJzKSk7XG4gICAgICAgICAgbGV0IGxhYmVsQXR0cnMgPSB7Zm9yOiBvcHRpb25BdHRycy5pZH07XG4gICAgICAgICAgbGV0IGxhYmVsQ29udGVudCA9IFtpbnB1dCwgbGFiZWxdO1xuICAgICAgICAgIGlmICh0b2dnbGUpIHtcbiAgICAgICAgICAgIGxldCBrY1RvZ2dsZSA9IHRoaXMubWFya3VwKCdzcGFuJyk7XG4gICAgICAgICAgICBsYWJlbENvbnRlbnQgPSBbaW5wdXQsIGtjVG9nZ2xlLCBsYWJlbF07XG4gICAgICAgICAgICBsYWJlbEF0dHJzLmNsYXNzTmFtZSA9ICdrYy10b2dnbGUnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBpbnB1dExhYmVsID0gdGhpcy5tYXJrdXAoJ2xhYmVsJywgbGFiZWxDb250ZW50LCBsYWJlbEF0dHJzKTtcbiAgICAgICAgICBsZXQgd3JhcHBlciA9IHRoaXMubWFya3VwKCdkaXYnLCBpbnB1dExhYmVsLCB7Y2xhc3NOYW1lOiB3cmFwcGVyQ2xhc3N9KTtcbiAgICAgICAgICBvcHRpb25zLnB1c2god3JhcHBlcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgY29uZmlndXJlZCB0byBkaXNwbGF5IGFuICdvdGhlcicgb3B0aW9uLCBwcmVwYXJlIHRoZSBlbGVtZW50c1xuICAgICAgaWYgKCFpc1NlbGVjdCAmJiBvdGhlcikge1xuICAgICAgICBsZXQgb3RoZXJPcHRpb25BdHRycyA9IHtcbiAgICAgICAgICBpZDogYCR7ZGF0YS5pZH0tb3RoZXJgLFxuICAgICAgICAgIGNsYXNzTmFtZTogYCR7ZGF0YS5jbGFzc05hbWV9IG90aGVyLW9wdGlvbmAsXG4gICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgY2xpY2s6ICgpID0+IHRoaXMub3RoZXJPcHRpb25DQihvdGhlck9wdGlvbkF0dHJzLmlkKVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gbGV0IGxhYmVsID0gbWkxOG4uY3VycmVudC5vdGhlcjtcbiAgICAgICAgbGV0IHdyYXBwZXJDbGFzcyA9IG9wdGlvblR5cGU7XG4gICAgICAgIGlmIChpbmxpbmUpIHtcbiAgICAgICAgICB3cmFwcGVyQ2xhc3MgKz0gJy1pbmxpbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG9wdGlvbkF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwgb3RoZXJPcHRpb25BdHRycyk7XG4gICAgICAgIG9wdGlvbkF0dHJzLnR5cGUgPSBvcHRpb25UeXBlO1xuXG4gICAgICAgIGxldCBvdGhlclZhbEF0dHJzID0ge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIGlucHV0OiBldnQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBvdGhlcklucHV0ID0gZXZ0LnRhcmdldDtcbiAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBvdGhlcklucHV0LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgIG90aGVyLnZhbHVlID0gb3RoZXJJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGlkOiBgJHtvdGhlck9wdGlvbkF0dHJzLmlkfS12YWx1ZWAsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnb3RoZXItdmFsJ1xuICAgICAgICB9O1xuICAgICAgICBsZXQgb3RoZXJJbnB1dHMgPSBbXG4gICAgICAgICAgdGhpcy5tYXJrdXAoJ2lucHV0JywgbnVsbCwgb3B0aW9uQXR0cnMpLFxuICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdPdGhlcicpLFxuICAgICAgICAgIHRoaXMubWFya3VwKCdpbnB1dCcsIG51bGwsIG90aGVyVmFsQXR0cnMpXG4gICAgICAgIF07XG4gICAgICAgIGxldCBpbnB1dExhYmVsID0gdGhpcy5tYXJrdXAoJ2xhYmVsJywgb3RoZXJJbnB1dHMsIHtmb3I6IG9wdGlvbkF0dHJzLmlkfSk7XG4gICAgICAgIGxldCB3cmFwcGVyID0gdGhpcy5tYXJrdXAoJ2RpdicsIGlucHV0TGFiZWwsIHtjbGFzc05hbWU6IHdyYXBwZXJDbGFzc30pO1xuICAgICAgICBvcHRpb25zLnB1c2god3JhcHBlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgJiByZXR1cm4gdGhlIERPTSBlbGVtZW50c1xuICAgIGlmICh0eXBlID09ICdzZWxlY3QnKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXJrdXAob3B0aW9uVHlwZSwgb3B0aW9ucywgZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcmt1cCgnZGl2Jywgb3B0aW9ucywge2NsYXNzTmFtZTogdHlwZX0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBzZXRDdXN0b21WYWxpZGl0eSBmb3IgY2hlY2tib3gtZ3JvdXBcbiAgICovXG4gIGdyb3VwUmVxdWlyZWQoKSB7XG4gICAgY29uc3QgY2hlY2tib3hlcyA9IHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTtcbiAgICBjb25zdCBzZXRWYWxpZGl0eSA9IChjaGVja2JveCwgaXNWYWxpZCkgPT4ge1xuICAgICAgbGV0IG1pblJlcSA9IGNvbnRyb2wubWkxOG4oJ21pblNlbGVjdGlvblJlcXVpcmVkJywgMSk7XG4gICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgY2hlY2tib3guc2V0Q3VzdG9tVmFsaWRpdHkobWluUmVxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrYm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVJlcXVpcmVkID0gKGNoZWNrYm94ZXMsIGlzVmFsaWQpID0+IHtcbiAgICAgIFtdLmZvckVhY2guY2FsbChjaGVja2JveGVzLCBjYiA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgY2IucmVtb3ZlQXR0cmlidXRlKCdyZXF1aXJlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNiLnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCAncmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRWYWxpZGl0eShjYiwgaXNWYWxpZCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgdG9nZ2xlVmFsaWQgPSAoKSA9PiB7XG4gICAgICBsZXQgaXNWYWxpZCA9IFtdLnNvbWUuY2FsbChjaGVja2JveGVzLCBjYiA9PiBjYi5jaGVja2VkKTtcbiAgICAgIHRvZ2dsZVJlcXVpcmVkKGNoZWNrYm94ZXMsIGlzVmFsaWQpO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpID0gY2hlY2tib3hlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY2hlY2tib3hlc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0b2dnbGVWYWxpZCk7XG4gICAgfVxuICAgIHRvZ2dsZVZhbGlkKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yICdvdGhlcicgb3B0aW9uLlxuICAgKiBUb2dnbGVzIHRoZSBoaWRkZW4gdGV4dCBhcmVhIGZvciBcIm90aGVyXCIgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG90aGVySWQgaWQgb2YgdGhlIFwib3RoZXJcIiBvcHRpb24gaW5wdXRcbiAgICovXG4gIG90aGVyT3B0aW9uQ0Iob3RoZXJJZCkge1xuICAgIGNvbnN0IG90aGVySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvdGhlcklkKTtcbiAgICBjb25zdCBvdGhlcklucHV0VmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtvdGhlcklkfS12YWx1ZWApO1xuXG4gICAgaWYgKG90aGVySW5wdXQuY2hlY2tlZCkge1xuICAgICAgb3RoZXJJbnB1dFZhbHVlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXJJbnB1dFZhbHVlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9XG59XG5cbi8vIHJlZ2lzdGVyIHRoaXMgY29udHJvbCBmb3IgdGhlIGZvbGxvd2luZyB0eXBlcyAmIHRleHQgc3VidHlwZXNcbmNvbnRyb2wucmVnaXN0ZXIoWydzZWxlY3QnLCAnY2hlY2tib3gtZ3JvdXAnLCAncmFkaW8tZ3JvdXAnLCAnY2hlY2tib3gnXSwgY29udHJvbFNlbGVjdCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbnRyb2wvc2VsZWN0LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUFLQTs7Ozs7Ozs7O0FBbUJBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBSkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBVkE7QUFZQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUF4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFNQTs7Ozs7O0FBYkE7QUFDQTtBQWdNQSIsInNvdXJjZVJvb3QiOiIifQ==')},/***/78:/* no static exports found *//* all exports used *//*!**************************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/textarea.quill.js ***!
  \**************************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _textarea = __webpack_require__(/*! ./textarea */ 35);\n\nvar _textarea2 = _interopRequireDefault(_textarea);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlQuill = function (_controlTextarea) {\n  _inherits(controlQuill, _controlTextarea);\n\n  function controlQuill() {\n    _classCallCheck(this, controlQuill);\n\n    return _possibleConstructorReturn(this, _controlTextarea.apply(this, arguments));\n  }\n\n  controlQuill.prototype.configure = function configure() {\n    this.js = \'//cdn.quilljs.com/1.2.4/quill.js\';\n    this.css = \'//cdn.quilljs.com/1.2.4/quill.snow.css\';\n  };\n\n  controlQuill.prototype.build = function build() {\n    var _config = this.config,\n        _config$value = _config.value,\n        value = _config$value === undefined ? \'\' : _config$value,\n        attrs = _objectWithoutProperties(_config, [\'value\']);\n\n    this.field = this.markup(\'div\', null, attrs);\n    return this.field;\n  };\n\n  controlQuill.prototype.onRender = function onRender(evt) {\n    var value = this.config.value || \'\';\n    var Delta = window.Quill.import(\'delta\');\n    window.fbEditors.quill[this.id] = {};\n    var editor = window.fbEditors.quill[this.id];\n    editor.instance = new window.Quill(this.field, {\n      modules: {\n        toolbar: [[{ \'header\': [1, 2, false] }], [\'bold\', \'italic\', \'underline\'], [\'code-block\']]\n      },\n      placeholder: this.config.placeholder || \'\',\n      theme: \'snow\'\n    });\n    editor.data = new Delta();\n    if (value) {\n      editor.instance.setContents(window.JSON.parse(this.parsedHtml(value)));\n    }\n    editor.instance.on(\'text-change\', function (delta) {\n      editor.data = editor.data.compose(delta);\n    });\n  };\n\n  return controlQuill;\n}(_textarea2.default);\n\nexports.default = controlQuill;\n\n_textarea2.default.register(\'quill\', controlQuill, \'textarea\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvdGV4dGFyZWEucXVpbGwuanM/NDNjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29udHJvbFRleHRhcmVhIGZyb20gJy4vdGV4dGFyZWEnO1xuXG4vKipcbiAqIFF1aWxsIHJpY2ggdGV4dCBlZGl0b3IgZWxlbWVudFxuICogU2VlIGh0dHBzOi8vcXVpbGxqcy5jb20vIGZvciBtb3JlIGluZm9cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgY29udHJvbFF1aWxsIGV4dGVuZHMgY29udHJvbFRleHRhcmVhIHtcblxuICAvKipcbiAgICogY29uZmlndXJlIHRoZSBxdWlsbCBlZGl0b3IgcmVxdWlyZW1lbnRzXG4gICAqL1xuICBjb25maWd1cmUoKSB7XG4gICAgdGhpcy5qcyA9ICcvL2Nkbi5xdWlsbGpzLmNvbS8xLjIuNC9xdWlsbC5qcyc7XG4gICAgdGhpcy5jc3MgPSAnLy9jZG4ucXVpbGxqcy5jb20vMS4yLjQvcXVpbGwuc25vdy5jc3MnO1xuICB9XG5cbiAgLyoqXG4gICAqIGJ1aWxkIGEgZGl2IERPTSBlbGVtZW50IHRvIGJlIGxhdGVyIHJlcGxhY2VkIHdpdGggdGhlIHF1aWxsIGVkaXRvclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBFbGVtZW50IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZvcm0uXG4gICAqL1xuICBidWlsZCgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBsZXQge3ZhbHVlID0gJycsIC4uLmF0dHJzfSA9IHRoaXMuY29uZmlnO1xuICAgIHRoaXMuZmllbGQgPSB0aGlzLm1hcmt1cCgnZGl2JywgbnVsbCwgYXR0cnMpO1xuICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVuZGVyZWQgaW50byB0aGUgRE9NLCBleGVjdXRlIHRoZSBmb2xsb3dpbmcgY29kZSB0byBpbml0aWFsaXNlIGl0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldnQgLSBldmVudFxuICAgKi9cbiAgb25SZW5kZXIoZXZ0KSB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5jb25maWcudmFsdWUgfHwgJyc7XG4gICAgY29uc3QgRGVsdGEgPSB3aW5kb3cuUXVpbGwuaW1wb3J0KCdkZWx0YScpO1xuICAgIHdpbmRvdy5mYkVkaXRvcnMucXVpbGxbdGhpcy5pZF0gPSB7fTtcbiAgICBsZXQgZWRpdG9yID0gd2luZG93LmZiRWRpdG9ycy5xdWlsbFt0aGlzLmlkXTtcbiAgICBlZGl0b3IuaW5zdGFuY2UgPSBuZXcgd2luZG93LlF1aWxsKHRoaXMuZmllbGQsIHtcbiAgICAgIG1vZHVsZXM6IHtcbiAgICAgICAgdG9vbGJhcjogW1xuICAgICAgICAgIFt7J2hlYWRlcic6IFsxLCAyLCBmYWxzZV19XSxcbiAgICAgICAgICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZSddLFxuICAgICAgICAgIFsnY29kZS1ibG9jayddXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBwbGFjZWhvbGRlcjogdGhpcy5jb25maWcucGxhY2Vob2xkZXIgfHwgJycsXG4gICAgICB0aGVtZTogJ3Nub3cnXG4gICAgfSk7XG4gICAgZWRpdG9yLmRhdGEgPSBuZXcgRGVsdGEoKTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGVkaXRvci5pbnN0YW5jZS5zZXRDb250ZW50cyh3aW5kb3cuSlNPTi5wYXJzZSh0aGlzLnBhcnNlZEh0bWwodmFsdWUpKSk7XG4gICAgfVxuICAgIGVkaXRvci5pbnN0YW5jZS5vbigndGV4dC1jaGFuZ2UnLCBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgZWRpdG9yLmRhdGEgPSBlZGl0b3IuZGF0YS5jb21wb3NlKGRlbHRhKTtcbiAgICB9KTtcbiAgfVxufVxuXG4vLyByZWdpc3RlciBxdWlsbCBhcyBhIHJpY2h0ZXh0IGNvbnRyb2xcbmNvbnRyb2xUZXh0YXJlYS5yZWdpc3RlcigncXVpbGwnLCBjb250cm9sUXVpbGwsICd0ZXh0YXJlYScpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb250cm9sL3RleHRhcmVhLnF1aWxsLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBS0E7Ozs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQU9BO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQWpEQTtBQUNBO0FBbURBIiwic291cmNlUm9vdCI6IiJ9')},/***/79:/* no static exports found *//* all exports used *//*!****************************************************************************************!*\
  !*** /Users/m0cs/Documents/eXpand/git/form-builder/src/js/control/textarea.tinymce.js ***!
  \****************************************************************************************//***/function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _textarea = __webpack_require__(/*! ./textarea */ 35);\n\nvar _textarea2 = _interopRequireDefault(_textarea);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar controlTinymce = function (_controlTextarea) {\n  _inherits(controlTinymce, _controlTextarea);\n\n  function controlTinymce() {\n    _classCallCheck(this, controlTinymce);\n\n    return _possibleConstructorReturn(this, _controlTextarea.apply(this, arguments));\n  }\n\n  controlTinymce.prototype.configure = function configure() {\n    this.js = [\'//cdn.tinymce.com/4/tinymce.min.js\'];\n\n    if (this.classConfig.js) {\n      var js = this.classConfig.js;\n      if (!Array.isArray(js)) {\n        js = new Array(js);\n      }\n      this.js.concat(js);\n      delete this.classConfig.js;\n    }\n\n    if (this.classConfig.css) {\n      this.css = this.classConfig.css;\n    }\n\n    this.editorOptions = {\n      height: 250,\n      paste_data_images: true,\n      plugins: [\'advlist autolink lists link image charmap print preview anchor\', \'searchreplace visualblocks code fullscreen\', \'insertdatetime media table contextmenu paste code\'],\n      toolbar: \'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | table\'\n    };\n  };\n\n  controlTinymce.prototype.build = function build() {\n    var _config = this.config,\n        _config$value = _config.value,\n        value = _config$value === undefined ? \'\' : _config$value,\n        attrs = _objectWithoutProperties(_config, [\'value\']);\n\n    this.field = this.markup(\'textarea\', this.parsedHtml(value), attrs);\n    return this.field;\n  };\n\n  controlTinymce.prototype.onRender = function onRender(evt) {\n    if (window.tinymce.editors[this.id]) {\n      window.tinymce.editors[this.id].remove();\n    }\n\n    var options = $.extend(this.editorOptions, this.classConfig);\n    options.target = this.field;\n\n    window.tinymce.init(options);\n  };\n\n  return controlTinymce;\n}(_textarea2.default);\n\nexports.default = controlTinymce;\n\n_textarea2.default.register(\'tinymce\', controlTinymce, \'textarea\');//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbnRyb2wvdGV4dGFyZWEudGlueW1jZS5qcz9kM2M2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb250cm9sVGV4dGFyZWEgZnJvbSAnLi90ZXh0YXJlYSc7XG5cbi8qKlxuICogVGlueU1DRSBlZGl0b3IgZWxlbWVudFxuICogU2VlIGh0dHBzOi8vd3d3LnRpbnltY2UuY29tLyBmb3IgbW9yZSBpbmZvXG4gKlxuICogVG8gY3VzdG9taXNlIHRoZSBvcHRpb25zIG9uIHRoaXMgZWRpdG9yLCBzaW1wbHkgcGFzcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVyd3JpdGUgaW4gdGhlIGNvbnRyb2xDb25maWcgb3B0aW9uIHRvIGZvcm1SZW5kZXJcbiAqIGUuZy4gdGhlIGJlbG93IGV4YW1wbGUgd291bGQgZGlzYWJsZSB0aGUgYWJpbGl0eSB0byBwYXN0ZSBpbWFnZXMgYXMgYSBiYXNlNjQgZW5jb2RlZCBzcmNcbiAqIGBgYFxuICogdmFyIHJlbmRlck9wdHMgPSB7XG4gKiAgICBjb250cm9sQ29uZmlnOiB7XG4gKiAgICAgICd0ZXh0YXJlYS50aW55bWNlJzoge1xuKiAgICAgICAgIHBhc3RlX2RhdGFfaW1hZ2VzOiBmYWxzZVxuKiAgICAgICB9XG4gKiAgICB9XG4gKiB9O1xuICogYGBgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGNvbnRyb2xUaW55bWNlIGV4dGVuZHMgY29udHJvbFRleHRhcmVhIHtcblxuICAvKipcbiAgICogY29uZmlndXJlIHRoZSB0aW55bWNlIGVkaXRvciByZXF1aXJlbWVudHNcbiAgICovXG4gIGNvbmZpZ3VyZSgpIHtcbiAgICB0aGlzLmpzID0gWycvL2Nkbi50aW55bWNlLmNvbS80L3RpbnltY2UubWluLmpzJ107XG5cbiAgICAvLyBhZGRpdGlvbmFsIGphdmFzY3JpcHQgY29uZmlnXG4gICAgaWYgKHRoaXMuY2xhc3NDb25maWcuanMpIHtcbiAgICAgIGxldCBqcyA9IHRoaXMuY2xhc3NDb25maWcuanM7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoanMpKSB7XG4gICAgICAgIGpzID0gbmV3IEFycmF5KGpzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuanMuY29uY2F0KGpzKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmNsYXNzQ29uZmlnLmpzO1xuICAgIH1cblxuICAgIC8vIGFkZGl0aW9uYWwgY3NzIGNvbmZpZ1xuICAgIGlmICh0aGlzLmNsYXNzQ29uZmlnLmNzcykge1xuICAgICAgdGhpcy5jc3MgPSB0aGlzLmNsYXNzQ29uZmlnLmNzcztcbiAgICB9XG5cbiAgICAvLyBjb25maWd1cmUgdGhlIHRpbnlNQ0UgZWRpdG9yIGRlZmF1bHRzXG4gICAgdGhpcy5lZGl0b3JPcHRpb25zID0ge1xuICAgICAgaGVpZ2h0OiAyNTAsXG4gICAgICBwYXN0ZV9kYXRhX2ltYWdlczogdHJ1ZSxcbiAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgJ2Fkdmxpc3QgYXV0b2xpbmsgbGlzdHMgbGluayBpbWFnZSBjaGFybWFwIHByaW50IHByZXZpZXcgYW5jaG9yJyxcbiAgICAgICAgJ3NlYXJjaHJlcGxhY2UgdmlzdWFsYmxvY2tzIGNvZGUgZnVsbHNjcmVlbicsXG4gICAgICAgICdpbnNlcnRkYXRldGltZSBtZWRpYSB0YWJsZSBjb250ZXh0bWVudSBwYXN0ZSBjb2RlJ1xuICAgICAgXSxcbiAgICAgIHRvb2xiYXI6ICd1bmRvIHJlZG8gfCBzdHlsZXNlbGVjdCB8IGJvbGQgaXRhbGljIHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgYnVsbGlzdCBudW1saXN0IG91dGRlbnQgaW5kZW50IHwgbGluayBpbWFnZSB8IHRhYmxlJ1xuICAgIH07XG4gIH1cblxuXG4gIC8qKlxuICAgKiBidWlsZCBhIHRleHRhcmVhIERPTSBlbGVtZW50LCB0byBiZSBsYXRlciByZXBsYWNlZCBieSB0aGUgVGlueU1DRSBlZGl0b3JcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gRWxlbWVudCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmb3JtLlxuICAgKi9cbiAgYnVpbGQoKSB7XG4gICAgbGV0IHt2YWx1ZSA9ICcnLCAuLi5hdHRyc30gPSB0aGlzLmNvbmZpZztcbiAgICB0aGlzLmZpZWxkID0gdGhpcy5tYXJrdXAoJ3RleHRhcmVhJywgdGhpcy5wYXJzZWRIdG1sKHZhbHVlKSwgYXR0cnMpO1xuICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVuZGVyZWQgaW50byB0aGUgRE9NLCBleGVjdXRlIHRoZSBmb2xsb3dpbmcgY29kZSB0byBpbml0aWFsaXNlIGl0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldnQgLSBldmVudFxuICAgKi9cbiAgb25SZW5kZXIoZXZ0KSB7XG4gICAgaWYgKHdpbmRvdy50aW55bWNlLmVkaXRvcnNbdGhpcy5pZF0pIHtcbiAgICAgIHdpbmRvdy50aW55bWNlLmVkaXRvcnNbdGhpcy5pZF0ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLy8gZGVmaW5lIG9wdGlvbnMgJiBhbGxvdyB0aGVtIHRvIGJlIG92ZXJ3cml0dGVuIGluIHRoZSBjbGFzcyBjb25maWdcbiAgICBsZXQgb3B0aW9ucyA9ICQuZXh0ZW5kKHRoaXMuZWRpdG9yT3B0aW9ucywgdGhpcy5jbGFzc0NvbmZpZyk7XG4gICAgb3B0aW9ucy50YXJnZXQgPSB0aGlzLmZpZWxkO1xuXG4gICAgLy8gaW5pdGlhbGlzZSB0aGUgZWRpdG9yXG4gICAgd2luZG93LnRpbnltY2UuaW5pdChvcHRpb25zKTtcbiAgfVxufVxuXG4vLyByZWdpc3RlciB0aW55bWNlIGFzIGEgcmljaHRleHQgY29udHJvbFxuY29udHJvbFRleHRhcmVhLnJlZ2lzdGVyKCd0aW55bWNlJywgY29udHJvbFRpbnltY2UsICd0ZXh0YXJlYScpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb250cm9sL3RleHRhcmVhLnRpbnltY2UuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUFpQkE7Ozs7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQVJBO0FBVUE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7OztBQS9EQTtBQUNBO0FBaUVBIiwic291cmNlUm9vdCI6IiJ9')}/******/});